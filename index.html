<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusAI - AI Tools for Small Businesses</title>

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&family=Plus+Jakarta+Sans:wght@400;500;600;700&display=swap');

        * {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
        }

        h1, h2, h3, h4, h5, h6, .heading-font {
            font-family: 'Sora', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            letter-spacing: -0.02em;
        }

        /* Custom animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideDown {
            from {
                max-height: 0;
                opacity: 0;
            }
            to {
                max-height: 500px;
                opacity: 1;
            }
        }

        @keyframes pulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.05);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }
            to {
                transform: rotate(360deg);
            }
        }

        .fade-in {
            animation: fadeIn 300ms ease-out;
        }

        .slide-down {
            animation: slideDown 300ms ease-out;
            overflow: hidden;
        }

        .pulse-animation {
            animation: pulse 2s ease-in-out infinite;
        }

        .spin-animation {
            animation: spin 1s linear infinite;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        /* Custom checkbox styles */
        .custom-checkbox {
            width: 24px;
            height: 24px;
            border: 2px solid #334155;
            border-radius: 6px;
            background: transparent;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.2s;
        }

        .custom-checkbox.checked {
            border-color: #06b6d4;
            background: rgba(6, 182, 212, 0.2);
        }

        .custom-checkbox svg {
            display: none;
            color: white;
        }

        .custom-checkbox.checked svg {
            display: block;
        }

        /* Smooth transitions */
        .transition-all {
            transition: all 0.2s ease;
        }

        /* Glow effect */
        .glow {
            box-shadow: 0 0 20px rgba(6, 182, 212, 0.3);
        }

        .glow-button {
            box-shadow: 0 4px 14px rgba(6, 182, 212, 0.4);
        }

        /* Hide default checkbox */
        input[type="checkbox"] {
            display: none;
        }

        /* Expanded row styles */
        .tool-expanded-info {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .tool-expanded-info.expanded {
            max-height: 300px;
        }

        /* Arrow rotation for expanded state */
        .expand-arrow {
            transition: transform 0.3s ease;
        }

        .expand-arrow.rotated {
            transform: rotate(180deg);
        }

        /* Hero Section Styles */
        .hero-gradient {
            background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f1f5f9 100%);
            position: relative;
            overflow: hidden;
        }

        .hero-gradient::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 50%, rgba(6, 182, 212, 0.08) 0%, transparent 50%),
                        radial-gradient(circle at 70% 50%, rgba(59, 130, 246, 0.05) 0%, transparent 50%);
            animation: gradientShift 15s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        .float-animation {
            animation: float 6s ease-in-out infinite;
        }

        @keyframes slideInLeft {
            from {
                opacity: 0;
                transform: translateX(-30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .slide-in-left {
            animation: slideInLeft 0.6s ease-out forwards;
        }

        .slide-in-right {
            animation: slideInRight 0.6s ease-out forwards;
        }

        /* Tab Styles */
        .tab-button {
            position: relative;
            transition: all 0.3s ease;
        }

        .tab-button::after {
            content: '';
            position: absolute;
            bottom: -2px;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #06b6d4, #3b82f6);
            transform: scaleX(0);
            transition: transform 0.3s ease;
        }

        .tab-button.active::after {
            transform: scaleX(1);
        }

        .tab-button.active {
            color: #06b6d4;
        }

        /* Image hover effects */
        .image-card {
            position: relative;
            overflow: hidden;
            border-radius: 1rem;
            transition: transform 0.3s ease;
        }

        .image-card:hover {
            transform: scale(1.05);
        }

        .image-card img {
            transition: transform 0.5s ease;
        }

        .image-card:hover img {
            transform: scale(1.1);
        }

        /* Video container */
        .video-container {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            border-radius: 1rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .video-container iframe,
        .video-container video {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        /* Glow effects */
        .glow-strong {
            box-shadow: 0 0 30px rgba(6, 182, 212, 0.3),
                        0 0 60px rgba(6, 182, 212, 0.2);
        }

        /* Stats counter animation */
        @keyframes countUp {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .stat-item {
            animation: countUp 0.6s ease-out forwards;
        }
    </style>
</head>
<body class="bg-white text-slate-900 min-h-screen">

    <!-- ========================================
         SCREEN 0: HERO LANDING PAGE
         ======================================== -->
    <div id="screen-hero" class="screen active">
        <!-- Navigation -->
        <nav class="bg-white/95 backdrop-blur-md border-b border-slate-200 sticky top-0 z-50 shadow-sm">
            <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
                <div class="text-2xl font-bold text-slate-900 heading-font">NexusAI</div>
                <div class="flex gap-6 items-center">
                    <a href="#features" class="text-slate-600 hover:text-slate-900 transition-colors font-medium">Features</a>
                    <a href="#tools" class="text-slate-600 hover:text-slate-900 transition-colors font-medium">AI Tools</a>
                    <a href="#" onclick="event.preventDefault(); showScreen('pricing')" class="text-slate-600 hover:text-slate-900 transition-colors font-medium">Pricing</a>
                    <button onclick="showScreen('pricing')" class="px-6 py-2 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-semibold transition-all shadow-lg shadow-cyan-500/30">
                        Get Started
                    </button>
                </div>
            </div>
        </nav>

        <!-- Hero Section -->
        <section class="hero-gradient min-h-screen flex items-center relative overflow-hidden">
            <!-- Floating AI Tool Previews in Background -->
            <div class="absolute inset-0 z-0 overflow-hidden">
                <!-- Left side - AI Receptionist -->
                <div class="absolute top-20 left-10 w-80 opacity-20 hover:opacity-40 transition-opacity duration-500 transform -rotate-6">
                    <div class="bg-white rounded-xl shadow-2xl p-4 border-2 border-cyan-200">
                        <div class="flex items-center gap-2 mb-3">
                            <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center">
                                <i data-lucide="phone" class="w-4 h-4 text-white"></i>
                            </div>
                            <span class="text-sm font-semibold text-slate-700">Incoming Call</span>
                        </div>
                        <div class="space-y-2">
                            <div class="bg-cyan-50 p-2 rounded text-xs text-slate-600">"Schedule me for tomorrow at 2 PM"</div>
                            <div class="bg-slate-100 p-2 rounded text-xs text-slate-600">"Of course! I've booked you for 2 PM"</div>
                        </div>
                    </div>
                </div>

                <!-- Right side - Booking System -->
                <div class="absolute top-40 right-10 w-72 opacity-20 hover:opacity-40 transition-opacity duration-500 transform rotate-6">
                    <div class="bg-white rounded-xl shadow-2xl p-4 border-2 border-cyan-200">
                        <div class="flex items-center gap-2 mb-3">
                            <i data-lucide="calendar-check" class="w-5 h-5 text-cyan-500"></i>
                            <span class="text-sm font-semibold text-slate-700">Smart Booking</span>
                        </div>
                        <div class="space-y-2">
                            <div class="flex justify-between p-2 bg-slate-50 rounded text-xs">
                                <span>9:00 AM</span>
                                <span class="text-green-600">âœ“ Available</span>
                            </div>
                            <div class="flex justify-between p-2 bg-cyan-50 rounded text-xs border border-cyan-300">
                                <span>10:30 AM</span>
                                <span class="text-cyan-600">Selected</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Bottom left - Email Assistant -->
                <div class="absolute bottom-32 left-20 w-96 opacity-20 hover:opacity-40 transition-opacity duration-500 transform rotate-3">
                    <div class="bg-white rounded-xl shadow-2xl p-4 border-2 border-cyan-200">
                        <div class="flex items-center gap-2 mb-3">
                            <i data-lucide="mail" class="w-5 h-5 text-cyan-500"></i>
                            <span class="text-sm font-semibold text-slate-700">AI Email Draft</span>
                        </div>
                        <div class="bg-slate-50 p-3 rounded text-xs text-slate-600 italic">
                            "Thank you for your inquiry! I'd be happy to schedule a consultation..."
                        </div>
                        <div class="mt-2 text-xs text-cyan-600">âœ¨ AI-generated response ready</div>
                    </div>
                </div>

                <!-- Bottom right - Chat Widget -->
                <div class="absolute bottom-20 right-32 w-64 opacity-20 hover:opacity-40 transition-opacity duration-500 transform -rotate-3">
                    <div class="bg-white rounded-xl shadow-2xl overflow-hidden border-2 border-cyan-200">
                        <div class="bg-cyan-500 p-2 flex items-center gap-2">
                            <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                            <span class="text-xs text-white font-semibold">Live Chat</span>
                        </div>
                        <div class="p-3 bg-slate-50 space-y-2">
                            <div class="bg-white p-2 rounded text-xs text-slate-600">Hi! How can I help?</div>
                            <div class="bg-cyan-50 p-2 rounded text-xs text-slate-600 ml-4">What are your hours?</div>
                        </div>
                    </div>
                </div>

                <!-- Top right - Social Media -->
                <div class="absolute top-60 right-64 w-80 opacity-20 hover:opacity-40 transition-opacity duration-500 transform -rotate-12">
                    <div class="bg-white rounded-xl shadow-2xl p-4 border-2 border-cyan-200">
                        <div class="flex items-center gap-2 mb-2">
                            <i data-lucide="share-2" class="w-5 h-5 text-cyan-500"></i>
                            <span class="text-sm font-semibold text-slate-700">Scheduled Post</span>
                        </div>
                        <div class="text-xs text-slate-600 mb-2">"Check out our latest AI features! ðŸš€"</div>
                        <div class="flex gap-1">
                            <div class="w-5 h-5 bg-blue-500 rounded-sm"></div>
                            <div class="w-5 h-5 bg-pink-500 rounded-sm"></div>
                            <div class="w-5 h-5 bg-sky-500 rounded-sm"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="max-w-7xl mx-auto px-6 py-20 relative z-10">
                <!-- Centered Header -->
                <div class="text-center mb-12 fade-in">
                    <div class="inline-block px-4 py-2 bg-cyan-50 border border-cyan-200 rounded-full text-cyan-600 text-sm font-semibold mb-6">
                        ðŸš€ AI-Powered Business Solutions
                    </div>
                    <h1 class="text-5xl md:text-7xl font-bold text-slate-900 mb-6 leading-tight max-w-5xl mx-auto">
                        Transform Your Business with <span class="text-transparent bg-clip-text bg-gradient-to-r from-cyan-500 to-blue-600">AI Tools</span>
                    </h1>
                    <p class="text-xl text-slate-600 mb-8 leading-relaxed max-w-3xl mx-auto">
                        Never miss a call, automate scheduling, respond to emails instantly, and manage social media - all powered by AI that works 24/7 for your business.
                    </p>
                    <div class="flex flex-wrap gap-4 justify-center mb-12">
                        <button onclick="navigateToPricing()" class="px-8 py-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold text-lg transition-all shadow-lg shadow-cyan-500/30 transform hover:scale-105">
                            Start Free Trial
                        </button>
                        <button onclick="document.getElementById('tools').scrollIntoView({behavior: 'smooth'})" class="px-8 py-4 bg-white hover:bg-slate-50 border-2 border-slate-300 text-slate-700 rounded-lg font-bold text-lg transition-all shadow-md">
                            Explore AI Tools
                        </button>
                        <button onclick="document.getElementById('roi-calculator').scrollIntoView({behavior: 'smooth'})" class="px-8 py-4 bg-white hover:bg-slate-50 border-2 border-slate-300 text-slate-700 rounded-lg font-bold text-lg transition-all shadow-md">
                            Calculate ROI
                        </button>
                    </div>
                </div>

                <!-- Stats Row -->
                <div class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-16">
                    <div class="stat-item text-center bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200 shadow-lg">
                        <div class="text-4xl font-bold text-cyan-500 mb-2">10+</div>
                        <div class="text-slate-600 text-sm">AI Tools</div>
                    </div>
                    <div class="stat-item text-center bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200 shadow-lg" style="animation-delay: 0.1s">
                        <div class="text-4xl font-bold text-cyan-500 mb-2">24/7</div>
                        <div class="text-slate-600 text-sm">Automation</div>
                    </div>
                    <div class="stat-item text-center bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200 shadow-lg" style="animation-delay: 0.2s">
                        <div class="text-4xl font-bold text-cyan-500 mb-2">60%</div>
                        <div class="text-slate-600 text-sm">Cost Savings</div>
                    </div>
                    <div class="stat-item text-center bg-white/80 backdrop-blur-sm rounded-xl p-4 border border-slate-200 shadow-lg" style="animation-delay: 0.3s">
                        <div class="text-4xl font-bold text-cyan-500 mb-2">1000+</div>
                        <div class="text-slate-600 text-sm">Happy Customers</div>
                    </div>
                </div>

                <!-- Business Value Showcase -->
                <div class="grid md:grid-cols-3 gap-6 max-w-5xl mx-auto">
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 border-2 border-slate-200 shadow-xl hover:shadow-2xl transition-all">
                        <div class="w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center mb-4">
                            <i data-lucide="phone-incoming" class="w-6 h-6 text-cyan-500"></i>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">Never Miss a Lead</h3>
                        <p class="text-sm text-slate-600">AI receptionist answers every call instantly, books appointments, and captures leads 24/7</p>
                    </div>
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 border-2 border-slate-200 shadow-xl hover:shadow-2xl transition-all">
                        <div class="w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center mb-4">
                            <i data-lucide="clock" class="w-6 h-6 text-cyan-500"></i>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">Save 15+ Hours/Week</h3>
                        <p class="text-sm text-slate-600">Automate email responses, social posts, and customer service while you focus on growing</p>
                    </div>
                    <div class="bg-white/90 backdrop-blur-sm rounded-xl p-6 border-2 border-slate-200 shadow-xl hover:shadow-2xl transition-all">
                        <div class="w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center mb-4">
                            <i data-lucide="trending-up" class="w-6 h-6 text-cyan-500"></i>
                        </div>
                        <h3 class="text-lg font-bold text-slate-900 mb-2">Boost Revenue</h3>
                        <p class="text-sm text-slate-600">Faster response times and 24/7 availability means more customers and higher conversion</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Video Demo Section -->
        <section id="demo-video" class="py-24 bg-slate-50">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">See NexusAI in Action</h2>
                    <p class="text-xl text-slate-600">Watch how businesses transform their operations with AI</p>
                </div>
                <div class="video-container shadow-2xl">
                    <iframe
                        src="https://www.youtube.com/embed/dQw4w9WgXcQ"
                        frameborder="0"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                        allowfullscreen>
                    </iframe>
                </div>
            </div>
        </section>

        <!-- ROI Calculator Section -->
        <section id="roi-calculator" class="py-24 bg-white">
            <div class="max-w-6xl mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Calculate Your ROI</h2>
                    <p class="text-xl text-slate-600">See how much you could save with NexusAI</p>
                </div>

                <div class="grid lg:grid-cols-2 gap-8">
                    <!-- Calculator Inputs -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 shadow-lg">
                        <h3 class="text-2xl font-bold text-slate-900 mb-6">Your Current Costs</h3>

                        <div class="space-y-6">
                            <div>
                                <label class="block text-slate-700 font-medium mb-2">Number of Employees</label>
                                <input type="number" id="roi-employees" value="5" min="1" max="100" oninput="calculateROI()" class="w-full bg-slate-50 border-2 border-slate-200 text-slate-900 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-colors">
                            </div>

                            <div>
                                <label class="block text-slate-700 font-medium mb-2">Average Hourly Rate ($)</label>
                                <input type="number" id="roi-hourly-rate" value="25" min="1" max="200" oninput="calculateROI()" class="w-full bg-slate-50 border-2 border-slate-200 text-slate-900 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-colors">
                            </div>

                            <div>
                                <label class="block text-slate-700 font-medium mb-2">Hours Spent on Manual Tasks/Week</label>
                                <input type="number" id="roi-hours" value="20" min="1" max="168" oninput="calculateROI()" class="w-full bg-slate-50 border-2 border-slate-200 text-slate-900 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-colors">
                            </div>

                            <div>
                                <label class="block text-slate-700 font-medium mb-2">Current Monthly Software Costs ($)</label>
                                <input type="number" id="roi-software" value="500" min="0" max="10000" oninput="calculateROI()" class="w-full bg-slate-50 border-2 border-slate-200 text-slate-900 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-colors">
                            </div>

                            <div>
                                <label class="block text-slate-700 font-medium mb-2">Select NexusAI Plan</label>
                                <select id="roi-plan" onchange="calculateROI()" class="w-full bg-slate-50 border-2 border-slate-200 text-slate-900 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-colors">
                                    <option value="199">Starter - $199/month</option>
                                    <option value="399" selected>Professional - $399/month</option>
                                    <option value="699">Enterprise - $699/month</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- Calculator Results -->
                    <div class="bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-xl p-8 shadow-lg">
                        <h3 class="text-2xl font-bold text-slate-900 mb-6">Your Potential Savings</h3>

                        <div class="space-y-6">
                            <div class="bg-white rounded-lg p-6 shadow-sm border border-slate-200">
                                <div class="text-slate-600 text-sm mb-2">Monthly Labor Costs</div>
                                <div class="text-3xl font-bold text-slate-900" id="roi-labor-cost">$2,000</div>
                            </div>

                            <div class="bg-white rounded-lg p-6 shadow-sm border border-slate-200">
                                <div class="text-slate-600 text-sm mb-2">Total Current Monthly Costs</div>
                                <div class="text-3xl font-bold text-slate-900" id="roi-total-current">$2,500</div>
                            </div>

                            <div class="bg-white rounded-lg p-6 shadow-sm border border-slate-200">
                                <div class="text-slate-600 text-sm mb-2">With NexusAI (60% time saved)</div>
                                <div class="text-3xl font-bold text-slate-900" id="roi-with-nexus">$1,199</div>
                            </div>

                            <div class="bg-gradient-to-r from-cyan-500 to-blue-500 rounded-lg p-6 shadow-lg">
                                <div class="text-white text-sm mb-2 flex items-center gap-2 font-medium">
                                    <i data-lucide="trending-up" class="w-4 h-4"></i>
                                    Monthly Savings
                                </div>
                                <div class="text-4xl font-bold text-white" id="roi-monthly-savings">$1,301</div>
                            </div>

                            <div class="bg-gradient-to-r from-cyan-600 to-blue-600 rounded-lg p-6 shadow-lg">
                                <div class="text-white text-sm mb-2 flex items-center gap-2 font-medium">
                                    <i data-lucide="dollar-sign" class="w-4 h-4"></i>
                                    Annual Savings
                                </div>
                                <div class="text-4xl font-bold text-white" id="roi-annual-savings">$15,612</div>
                            </div>

                            <div class="text-center pt-4">
                                <button onclick="showScreen('pricing')" class="w-full px-8 py-4 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold text-lg transition-all shadow-lg shadow-cyan-500/30">
                                    Start Saving Today
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="mt-8 text-center text-slate-500 text-sm">
                    * Calculations assume 60% time savings based on average customer results. Your actual savings may vary.
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section id="features" class="py-24 bg-slate-50">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Why Choose NexusAI?</h2>
                    <p class="text-xl text-slate-600">Everything you need to automate and scale your business</p>
                </div>

                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Feature 1 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="zap" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Lightning Fast Setup</h3>
                        <p class="text-slate-600">Get your AI tools deployed in minutes, not weeks. No technical expertise required.</p>
                    </div>

                    <!-- Feature 2 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="shield-check" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Enterprise Security</h3>
                        <p class="text-slate-600">Bank-level encryption and compliance standards to keep your data safe.</p>
                    </div>

                    <!-- Feature 3 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="trending-up" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Analytics Dashboard</h3>
                        <p class="text-slate-600">Track performance metrics and ROI with real-time analytics and insights.</p>
                    </div>

                    <!-- Feature 4 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="users" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">24/7 Support</h3>
                        <p class="text-slate-600">Expert support team ready to help whenever you need assistance.</p>
                    </div>

                    <!-- Feature 5 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="puzzle" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Easy Integration</h3>
                        <p class="text-slate-600">Seamlessly connect with your existing tools and workflows.</p>
                    </div>

                    <!-- Feature 6 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 hover:border-cyan-400 hover:shadow-lg transition-all group">
                        <div class="w-16 h-16 bg-cyan-50 rounded-xl flex items-center justify-center mb-6 group-hover:scale-110 transition-transform">
                            <i data-lucide="dollar-sign" class="w-8 h-8 text-cyan-500"></i>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-3">Cost Effective</h3>
                        <p class="text-slate-600">Replace multiple subscriptions with one affordable platform.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- AI Tools Showcase with Tabs -->
        <section id="tools" class="py-24 bg-white">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Powerful AI Tools at Your Fingertips</h2>
                    <p class="text-xl text-slate-600">Choose from our suite of professional AI-powered solutions</p>
                </div>

                <!-- Tabs -->
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <button onclick="switchToolTab('all')" class="tab-button active px-6 py-3 text-cyan-600 font-semibold rounded-lg bg-cyan-50 hover:bg-cyan-100 transition-all border-2 border-cyan-300" data-tab="all">
                        All Tools
                    </button>
                    <button onclick="switchToolTab('customer')" class="tab-button px-6 py-3 text-slate-600 font-semibold rounded-lg bg-white hover:bg-slate-50 transition-all border-2 border-slate-200" data-tab="customer">
                        Customer Service
                    </button>
                    <button onclick="switchToolTab('marketing')" class="tab-button px-6 py-3 text-slate-600 font-semibold rounded-lg bg-white hover:bg-slate-50 transition-all border-2 border-slate-200" data-tab="marketing">
                        Marketing
                    </button>
                    <button onclick="switchToolTab('operations')" class="tab-button px-6 py-3 text-slate-600 font-semibold rounded-lg bg-white hover:bg-slate-50 transition-all border-2 border-slate-200" data-tab="operations">
                        Operations
                    </button>
                </div>

                <!-- Tab Content -->
                <div id="tools-grid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Tools will be rendered by JavaScript -->
                </div>

                <div class="text-center mt-12">
                    <button onclick="showScreen('pricing')" class="px-8 py-4 bg-gradient-to-r from-cyan-500 to-blue-500 hover:from-cyan-600 hover:to-blue-600 text-white rounded-lg font-bold text-lg transition-all shadow-lg shadow-cyan-500/30 transform hover:scale-105">
                        View Pricing & Get Started
                    </button>
                </div>
            </div>
        </section>

        <!-- Social Proof Section -->
        <section class="py-24 bg-slate-50">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Trusted by Businesses Worldwide</h2>
                    <p class="text-xl text-slate-600">Join thousands of companies automating with NexusAI</p>
                </div>

                <div class="grid md:grid-cols-3 gap-8 mb-16">
                    <!-- Testimonial 1 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 shadow-lg">
                        <div class="flex items-center mb-4">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=80&h=80&fit=crop" alt="Customer" class="w-12 h-12 rounded-full mr-4">
                            <div>
                                <div class="font-bold text-slate-900">John Martinez</div>
                                <div class="text-sm text-slate-600">HVAC Business Owner</div>
                            </div>
                        </div>
                        <p class="text-slate-700 italic">"NexusAI's receptionist handles all our calls perfectly. We haven't missed a lead since switching!"</p>
                        <div class="flex gap-1 mt-4">
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                        </div>
                    </div>

                    <!-- Testimonial 2 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 shadow-lg">
                        <div class="flex items-center mb-4">
                            <img src="https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=80&h=80&fit=crop" alt="Customer" class="w-12 h-12 rounded-full mr-4">
                            <div>
                                <div class="font-bold text-slate-900">Sarah Chen</div>
                                <div class="text-sm text-slate-600">Restaurant Manager</div>
                            </div>
                        </div>
                        <p class="text-slate-700 italic">"The social media tool saves us 15 hours a week. Our engagement has tripled!"</p>
                        <div class="flex gap-1 mt-4">
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                        </div>
                    </div>

                    <!-- Testimonial 3 -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-8 shadow-lg">
                        <div class="flex items-center mb-4">
                            <img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=80&h=80&fit=crop" alt="Customer" class="w-12 h-12 rounded-full mr-4">
                            <div>
                                <div class="font-bold text-slate-900">Mike Thompson</div>
                                <div class="text-sm text-slate-600">Retail Store Owner</div>
                            </div>
                        </div>
                        <p class="text-slate-700 italic">"Best investment we've made. The ROI was positive within the first month!"</p>
                        <div class="flex gap-1 mt-4">
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                            <i data-lucide="star" class="w-5 h-5 text-yellow-500 fill-yellow-500"></i>
                        </div>
                    </div>
                </div>

                <!-- Company Logos -->
                <div class="text-center">
                    <p class="text-slate-500 text-sm mb-8">As featured in</p>
                    <div class="flex flex-wrap justify-center items-center gap-12 opacity-40">
                        <div class="text-2xl font-bold text-slate-400">TechCrunch</div>
                        <div class="text-2xl font-bold text-slate-400">Forbes</div>
                        <div class="text-2xl font-bold text-slate-400">Wired</div>
                        <div class="text-2xl font-bold text-slate-400">VentureBeat</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CTA Section -->
        <section class="py-24 bg-gradient-to-r from-cyan-50 to-blue-50 border-y-2 border-cyan-200">
            <div class="max-w-4xl mx-auto px-6 text-center">
                <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6">Ready to Transform Your Business?</h2>
                <p class="text-xl text-slate-600 mb-8">Start your 14-day free trial today. No credit card required.</p>
                <button onclick="showScreen('pricing')" class="px-10 py-5 bg-cyan-500 hover:bg-cyan-600 text-white rounded-lg font-bold text-xl transition-all shadow-lg shadow-cyan-500/30 transform hover:scale-105">
                    Get Started Free
                </button>
                <p class="text-slate-600 mt-6 text-sm">Join 10,000+ businesses already using NexusAI</p>
            </div>
        </section>
    </div>

    <!-- ========================================
         SCREEN 1: PRICING TIERS
         ======================================== -->
    <div id="screen-pricing" class="screen bg-white">
        <div class="min-h-screen flex items-center justify-center px-4 py-16">
            <div class="max-w-7xl w-full fade-in">
                <!-- Back Button -->
                <div class="mb-8">
                    <button onclick="showScreen('hero')" class="flex items-center gap-2 text-slate-600 hover:text-slate-900 transition-colors">
                        <i data-lucide="arrow-left" class="w-5 h-5"></i>
                        <span>Back to Home</span>
                    </button>
                </div>

                <!-- Header -->
                <div class="text-center mb-16">
                    <h1 class="text-5xl md:text-6xl font-bold text-slate-900 mb-4">Choose Your Plan</h1>
                    <p class="text-xl text-slate-600">Flexible pricing for businesses of all sizes</p>
                </div>

                <!-- Pricing Cards -->
                <div class="grid md:grid-cols-3 gap-8 mb-12">
                    <!-- Starter Card -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-12 hover:scale-105 hover:shadow-2xl hover:border-cyan-400 transition-all cursor-pointer">
                        <div class="mb-6">
                            <span class="inline-block px-3 py-1 bg-slate-100 text-slate-700 text-xs font-semibold uppercase tracking-wide rounded">Starter</span>
                        </div>
                        <div class="mb-6">
                            <span class="text-6xl font-bold text-slate-900">$199</span>
                            <span class="text-slate-600">/month</span>
                        </div>
                        <div class="border-t border-slate-200 pt-6 mb-6">
                            <ul class="space-y-3 text-slate-700">
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Choose any 2 AI tools</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Basic support</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Single location</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>14-day free trial</span>
                                </li>
                            </ul>
                        </div>
                        <div class="border-t border-slate-200 pt-6 mb-6">
                            <p class="text-sm text-slate-600 italic">Best for: Solo entrepreneurs</p>
                        </div>
                        <button onclick="selectPlan('starter')" class="w-full py-3 px-6 border-2 border-cyan-500 text-cyan-600 rounded-lg hover:bg-cyan-50 transition-all font-semibold">
                            Select Starter
                        </button>
                    </div>

                    <!-- Professional Card (Popular) -->
                    <div class="bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-400 rounded-xl p-12 hover:scale-105 hover:shadow-2xl transition-all cursor-pointer relative">
                        <div class="absolute -top-3 left-1/2 transform -translate-x-1/2">
                            <span class="inline-block px-4 py-1 bg-cyan-500 text-white text-xs font-semibold uppercase tracking-wide rounded-full shadow-lg">Most Popular</span>
                        </div>
                        <div class="mb-6 mt-2">
                            <span class="inline-block px-3 py-1 bg-white text-cyan-700 text-xs font-semibold uppercase tracking-wide rounded">Professional</span>
                        </div>
                        <div class="mb-6">
                            <span class="text-6xl font-bold text-slate-900">$399</span>
                            <span class="text-slate-600">/month</span>
                        </div>
                        <div class="border-t border-cyan-300 pt-6 mb-6">
                            <ul class="space-y-3 text-slate-700">
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Choose any 4 AI tools</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Priority support</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Up to 3 locations</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Unified analytics</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>14-day free trial</span>
                                </li>
                            </ul>
                        </div>
                        <div class="border-t border-cyan-300 pt-6 mb-6">
                            <p class="text-sm text-slate-600 italic">Best for: Growing businesses</p>
                        </div>
                        <button onclick="selectPlan('professional')" class="w-full py-3 px-6 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all font-semibold shadow-lg shadow-cyan-500/30">
                            Select Professional
                        </button>
                    </div>

                    <!-- Enterprise Card -->
                    <div class="bg-white border-2 border-slate-200 rounded-xl p-12 hover:scale-105 hover:shadow-2xl hover:border-cyan-400 transition-all cursor-pointer">
                        <div class="mb-6">
                            <span class="inline-block px-3 py-1 bg-slate-100 text-slate-700 text-xs font-semibold uppercase tracking-wide rounded">Enterprise</span>
                        </div>
                        <div class="mb-6">
                            <span class="text-6xl font-bold text-slate-900">$699</span>
                            <span class="text-slate-600">/month</span>
                        </div>
                        <div class="border-t border-slate-200 pt-6 mb-6">
                            <ul class="space-y-3 text-slate-700">
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>All AI tools included</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>24/7 premium support</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Unlimited locations</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Advanced analytics</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>Custom integrations</span>
                                </li>
                                <li class="flex items-start">
                                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 mr-2 flex-shrink-0"></i>
                                    <span>14-day free trial</span>
                                </li>
                            </ul>
                        </div>
                        <div class="border-t border-slate-200 pt-6 mb-6">
                            <p class="text-sm text-slate-600 italic">Best for: Multi-location businesses</p>
                        </div>
                        <button onclick="selectPlan('enterprise')" class="w-full py-3 px-6 border-2 border-cyan-500 text-cyan-600 rounded-lg hover:bg-cyan-50 transition-all font-semibold">
                            Select Enterprise
                        </button>
                    </div>
                </div>

                <!-- Bottom Links -->
                <div class="text-center">
                    <button onclick="goToToolSelection()" class="text-cyan-500 hover:text-cyan-600 transition-all text-lg font-medium mb-4">
                        Or build your own package â†’
                    </button>
                    <p class="text-slate-600 text-sm">
                        All plans include: No contracts â€¢ Cancel anytime â€¢ 14-day free trial
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         SCREEN 2: TOOL SELECTION DASHBOARD
         ======================================== -->
    <div id="screen-tools" class="screen">
        <!-- Header -->
        <header class="bg-slate-900 border-b border-slate-800 sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
                <div class="text-2xl font-bold text-white">NexusAI</div>
                <div id="header-summary" class="text-cyan-400 font-medium">
                    <span id="plan-name"></span><span id="tool-count">0 tools selected</span> â€¢ <span id="header-price">$0/month</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="bg-slate-950 min-h-screen">
            <div class="max-w-5xl mx-auto px-6 py-16">
                <div class="mb-12 fade-in">
                    <h1 class="text-4xl font-bold text-white mb-4">Select Your AI Tools</h1>
                    <p class="text-lg text-slate-400">Choose the tools your business needs. Click each row to learn more.</p>
                </div>

                <!-- Tool Selection List -->
                <div id="tool-list" class="space-y-4 mb-32">
                    <!-- Tools will be rendered by JavaScript -->
                </div>
            </div>
        </main>

        <!-- Bottom Action Bar -->
        <div class="fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 px-6 py-6 z-50">
            <div class="max-w-5xl mx-auto flex justify-between items-center">
                <div>
                    <div class="text-white text-lg font-semibold">
                        <span id="summary-count">0 tools selected</span> â€¢ <span id="summary-price">$0/month</span>
                    </div>
                    <div id="savings-message" class="text-slate-400 text-sm mt-1" style="display: none;">
                        Save with Professional plan
                    </div>
                </div>
                <button id="continue-to-setup" onclick="goToConfiguration()" disabled class="px-8 py-3 bg-slate-700 text-slate-500 rounded-lg font-semibold cursor-not-allowed transition-all">
                    Continue to Setup â†’
                </button>
            </div>
        </div>
    </div>

    <!-- ========================================
         SCREEN 3: BUSINESS CONFIGURATION
         ======================================== -->
    <div id="screen-config" class="screen">
        <!-- Header -->
        <header class="bg-slate-900 border-b border-slate-800">
            <div class="max-w-7xl mx-auto px-6 py-4">
                <div class="text-2xl font-bold text-white">NexusAI</div>
            </div>
        </header>

        <!-- Progress Indicator -->
        <div class="bg-slate-900 border-b border-slate-800">
            <div class="max-w-3xl mx-auto px-6 py-8">
                <div class="flex items-center justify-between">
                    <!-- Step 1 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center">
                            <i data-lucide="check" class="w-5 h-5 text-white"></i>
                        </div>
                        <span class="ml-3 text-slate-400 font-medium">Select Tools</span>
                    </div>
                    <div class="flex-1 h-px bg-slate-700 mx-4"></div>

                    <!-- Step 2 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center">
                            <div class="w-2 h-2 rounded-full bg-white"></div>
                        </div>
                        <span class="ml-3 text-cyan-500 font-medium">Configure</span>
                    </div>
                    <div class="flex-1 h-px bg-slate-700 mx-4"></div>

                    <!-- Step 3 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center">
                            <div class="w-2 h-2 rounded-full bg-slate-600"></div>
                        </div>
                        <span class="ml-3 text-slate-600 font-medium">Review & Deploy</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="bg-slate-950 min-h-screen">
            <div class="max-w-3xl mx-auto px-6 py-16">
                <div class="mb-12 fade-in">
                    <h1 class="text-4xl font-bold text-white mb-4">Configure Your AI Tools</h1>
                    <p class="text-lg text-slate-400">Tell us about your business so we can customize your AI tools</p>
                </div>

                <!-- Form -->
                <div class="bg-slate-800 border border-slate-700 rounded-xl p-12">
                    <form id="business-form" class="space-y-6">
                        <!-- Business Name -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Business Name <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                id="business-name"
                                name="businessName"
                                placeholder="e.g., Joe's HVAC Services"
                                class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                required
                            >
                            <div class="error-message text-red-400 text-xs mt-1" style="display: none;">This field is required</div>
                        </div>

                        <!-- Industry -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Industry <span class="text-red-500">*</span>
                            </label>
                            <select
                                id="industry"
                                name="industry"
                                class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                required
                            >
                                <option value="">Select an industry</option>
                                <option value="restaurant">Restaurant / Food Service</option>
                                <option value="home-services">Home Services (HVAC, Plumbing, Electric)</option>
                                <option value="retail">Retail / E-commerce</option>
                                <option value="professional">Professional Services (Legal, Accounting)</option>
                                <option value="health">Health & Wellness</option>
                                <option value="other">Other</option>
                            </select>
                            <div class="error-message text-red-400 text-xs mt-1" style="display: none;">Please select an industry</div>
                        </div>

                        <!-- Phone Number -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Business Phone Number <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="tel"
                                id="phone"
                                name="phone"
                                placeholder="(555) 123-4567"
                                class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                required
                            >
                            <div class="error-message text-red-400 text-xs mt-1" style="display: none;">Please enter a valid phone number</div>
                        </div>

                        <!-- Website URL -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Website (Optional)
                            </label>
                            <p class="text-slate-500 text-xs mb-2">Leave blank if you don't have one - we can build one for you!</p>
                            <input
                                type="url"
                                id="website"
                                name="website"
                                placeholder="https://yourwebsite.com"
                                class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                            >
                        </div>

                        <!-- Business Hours -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Business Hours
                            </label>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-slate-400 text-xs mb-1">Open</label>
                                    <select
                                        id="hours-open"
                                        name="hoursOpen"
                                        class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                    >
                                        <option value="7:00 AM">7:00 AM</option>
                                        <option value="8:00 AM">8:00 AM</option>
                                        <option value="9:00 AM" selected>9:00 AM</option>
                                        <option value="10:00 AM">10:00 AM</option>
                                        <option value="11:00 AM">11:00 AM</option>
                                        <option value="12:00 PM">12:00 PM</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-slate-400 text-xs mb-1">Close</label>
                                    <select
                                        id="hours-close"
                                        name="hoursClose"
                                        class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                    >
                                        <option value="3:00 PM">3:00 PM</option>
                                        <option value="4:00 PM">4:00 PM</option>
                                        <option value="5:00 PM">5:00 PM</option>
                                        <option value="6:00 PM" selected>6:00 PM</option>
                                        <option value="7:00 PM">7:00 PM</option>
                                        <option value="8:00 PM">8:00 PM</option>
                                        <option value="9:00 PM">9:00 PM</option>
                                        <option value="10:00 PM">10:00 PM</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <!-- Location -->
                        <div>
                            <label class="block text-slate-300 text-sm font-bold mb-2">
                                Primary Location <span class="text-red-500">*</span>
                            </label>
                            <input
                                type="text"
                                id="location"
                                name="location"
                                placeholder="City, State or Zip Code"
                                class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none transition-all"
                                required
                            >
                            <div class="error-message text-red-400 text-xs mt-1" style="display: none;">This field is required</div>
                        </div>
                    </form>
                </div>

                <!-- Bottom Actions -->
                <div class="flex justify-between items-center mt-12">
                    <button onclick="goToToolSelection()" class="px-6 py-3 border-2 border-slate-500 text-slate-300 rounded-lg hover:bg-slate-500/10 transition-all font-semibold">
                        â† Back to Tools
                    </button>
                    <button id="review-deploy-btn" onclick="goToReview()" disabled class="px-8 py-3 bg-slate-700 text-slate-500 rounded-lg font-semibold cursor-not-allowed transition-all">
                        Review & Deploy â†’
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- ========================================
         SCREEN 4: REVIEW & CONFIRM
         ======================================== -->
    <div id="screen-review" class="screen">
        <!-- Header -->
        <header class="bg-slate-900 border-b border-slate-800">
            <div class="max-w-7xl mx-auto px-6 py-4">
                <div class="text-2xl font-bold text-white">NexusAI</div>
            </div>
        </header>

        <!-- Progress Indicator -->
        <div class="bg-slate-900 border-b border-slate-800">
            <div class="max-w-3xl mx-auto px-6 py-8">
                <div class="flex items-center justify-between">
                    <!-- Step 1 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center">
                            <i data-lucide="check" class="w-5 h-5 text-white"></i>
                        </div>
                        <span class="ml-3 text-slate-400 font-medium">Select Tools</span>
                    </div>
                    <div class="flex-1 h-px bg-slate-700 mx-4"></div>

                    <!-- Step 2 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center">
                            <i data-lucide="check" class="w-5 h-5 text-white"></i>
                        </div>
                        <span class="ml-3 text-slate-400 font-medium">Configure</span>
                    </div>
                    <div class="flex-1 h-px bg-slate-700 mx-4"></div>

                    <!-- Step 3 -->
                    <div class="flex items-center flex-1">
                        <div class="w-8 h-8 rounded-full bg-cyan-500 flex items-center justify-center">
                            <div class="w-2 h-2 rounded-full bg-white"></div>
                        </div>
                        <span class="ml-3 text-cyan-500 font-medium">Review & Deploy</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="bg-slate-950 min-h-screen pb-32">
            <div class="max-w-4xl mx-auto px-6 py-16">
                <div class="mb-12 fade-in">
                    <h1 class="text-4xl font-bold text-white mb-4">Review Your Setup</h1>
                    <p class="text-lg text-slate-400">Confirm your selections before deployment</p>
                </div>

                <!-- Section 1: Selected AI Tools -->
                <div class="mb-12">
                    <h2 class="text-2xl font-bold text-white mb-6">Selected AI Tools</h2>
                    <div id="review-tools-list" class="space-y-3">
                        <!-- Tools will be rendered by JavaScript -->
                    </div>

                    <!-- Total -->
                    <div class="bg-slate-900 border border-cyan-500/30 rounded-lg px-6 py-5 mt-6">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="text-white text-xl font-bold">Total: <span id="review-total">$0/month</span></div>
                                <div class="text-slate-400 text-sm mt-1">Save $120 with annual billing</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 2: Business Information -->
                <div class="mb-12">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold text-white">Business Information</h2>
                        <button onclick="goToConfiguration()" class="px-4 py-2 border border-slate-500 text-slate-300 rounded-lg hover:bg-slate-500/10 transition-all text-sm font-semibold">
                            Edit
                        </button>
                    </div>

                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Business Name</div>
                                <div class="text-white font-semibold" id="review-business-name">-</div>
                            </div>
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Industry</div>
                                <div class="text-white font-semibold" id="review-industry">-</div>
                            </div>
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Phone</div>
                                <div class="text-white font-semibold" id="review-phone">-</div>
                            </div>
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Website</div>
                                <div class="text-white font-semibold" id="review-website">-</div>
                            </div>
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Hours</div>
                                <div class="text-white font-semibold" id="review-hours">-</div>
                            </div>
                            <div>
                                <div class="text-slate-400 text-sm mb-1">Location</div>
                                <div class="text-white font-semibold" id="review-location">-</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Section 3: Payment Information -->
                <div class="mb-12">
                    <h2 class="text-2xl font-bold text-white mb-6">Payment</h2>

                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                        <div class="space-y-4">
                            <div>
                                <label class="block text-slate-300 text-sm font-bold mb-2">Card Number</label>
                                <input
                                    type="text"
                                    placeholder="4242 4242 4242 4242"
                                    class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none"
                                >
                            </div>
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-slate-300 text-sm font-bold mb-2">Expiry</label>
                                    <input
                                        type="text"
                                        placeholder="MM/YY"
                                        class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none"
                                    >
                                </div>
                                <div>
                                    <label class="block text-slate-300 text-sm font-bold mb-2">CVV</label>
                                    <input
                                        type="text"
                                        placeholder="123"
                                        class="w-full bg-slate-900 border border-slate-700 text-white placeholder-slate-500 px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none"
                                    >
                                </div>
                            </div>
                            <div class="text-slate-400 text-sm flex items-center mt-4">
                                <i data-lucide="lock" class="w-4 h-4 mr-2"></i>
                                Secure payment processing
                            </div>
                            <div class="text-cyan-400 text-sm">
                                14-day free trial â€¢ No charges until <span id="trial-end-date">-</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Bottom Action Bar -->
        <div class="fixed bottom-0 left-0 right-0 bg-slate-900 border-t border-slate-800 px-6 py-6 z-50">
            <div class="max-w-4xl mx-auto flex justify-between items-center">
                <div class="text-white text-xl font-bold">
                    <span id="final-total">$0/month</span>
                </div>
                <div class="flex gap-4">
                    <button onclick="goToConfiguration()" class="px-6 py-3 border-2 border-slate-500 text-slate-300 rounded-lg hover:bg-slate-500/10 transition-all font-semibold">
                        â† Back to Configure
                    </button>
                    <button id="deploy-btn" onclick="deployTools()" class="px-8 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold glow-button">
                        Deploy All Tools ðŸš€
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         SCREEN 5: SUCCESS / CONFIRMATION
         ======================================== -->
    <div id="screen-success" class="screen">
        <div class="min-h-screen flex items-center justify-center px-4 py-16 bg-slate-950">
            <div class="max-w-2xl w-full text-center fade-in">
                <!-- Success Icon -->
                <div class="flex justify-center mb-8">
                    <div class="w-40 h-40 rounded-full bg-emerald-500/10 flex items-center justify-center pulse-animation">
                        <i data-lucide="check-circle" class="w-20 h-20 text-emerald-500"></i>
                    </div>
                </div>

                <!-- Success Message -->
                <h1 class="text-5xl font-bold text-white mb-4">Your AI Tools Are Live! ðŸŽ‰</h1>
                <p class="text-xl text-slate-400 mb-12">Everything is set up and ready to go</p>

                <!-- Deployed Tools List -->
                <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 mb-8">
                    <h2 class="text-xl font-bold text-white mb-6">Deployed AI Tools</h2>
                    <div id="success-tools-list" class="space-y-4">
                        <!-- Tools will be rendered by JavaScript -->
                    </div>

                    <div class="border-t border-slate-700 mt-6 pt-6">
                        <div class="text-slate-300 text-center">
                            <span id="success-tool-count">0 tools</span> deployed â€¢ <span id="success-total">$0/month</span>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center mb-8">
                    <button onclick="goToDashboard()" class="px-6 py-3 border-2 border-cyan-500 text-cyan-400 rounded-lg hover:bg-cyan-500/10 transition-all font-semibold">
                        View Dashboard
                    </button>
                    <button onclick="downloadSetupGuide()" class="px-6 py-3 border-2 border-slate-500 text-slate-300 rounded-lg hover:bg-slate-500/10 transition-all font-semibold">
                        Download Setup Guide
                    </button>
                    <button onclick="startOver()" class="px-6 py-3 text-slate-400 hover:text-slate-300 transition-all font-semibold">
                        â† Start Over
                    </button>
                </div>

                <!-- Bottom Note -->
                <p class="text-slate-500 text-sm">
                    Check your email for setup instructions and next steps
                </p>
            </div>
        </div>
    </div>

    <!-- ========================================
         TOOL SELECTION MARKETPLACE
         ======================================== -->
    <div id="screen-tool-selection" class="screen bg-white min-h-screen">
        <div class="max-w-6xl mx-auto px-6 py-16">
            <!-- Header -->
            <div class="text-center mb-12">
                <button onclick="showScreen('pricing')" class="inline-flex items-center gap-2 text-slate-600 hover:text-slate-900 mb-6">
                    <i data-lucide="arrow-left" class="w-4 h-4"></i>
                    Back to Pricing
                </button>
                <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Select Your AI Tools</h1>
                <p class="text-xl text-slate-600">Choose the tools you want to set up for your business</p>
            </div>

            <!-- Tool Cards - Row Layout with Expandable Dropdowns -->
            <div class="space-y-4 mb-12">
                <!-- AI Receptionist -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="receptionist">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('receptionist', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-receptionist"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('receptionist', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="phone" class="w-6 h-6 text-cyan-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Receptionist</h3>
                            <p class="text-sm text-slate-600">Answer calls 24/7, book appointments, never miss a lead</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-receptionist"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-receptionist">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Natural voice conversations with customers</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Automatic appointment booking and calendar sync</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Call transcripts and lead capture</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Multi-language support</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AI Website Builder -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="website">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('website', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-website"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('website', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="globe" class="w-6 h-6 text-purple-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Website Builder</h3>
                            <p class="text-sm text-slate-600">Professional site in minutes, mobile optimized, SEO ready</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-website"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-website">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>AI-powered design customization</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Mobile-responsive templates</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Built-in SEO optimization</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Easy drag-and-drop editing</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AI Booking System -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="booking">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('booking', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-booking"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('booking', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="calendar" class="w-6 h-6 text-orange-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Booking System</h3>
                            <p class="text-sm text-slate-600">Automated scheduling, calendar integration, reminder texts</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-booking"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-booking">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Smart scheduling with availability detection</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Google Calendar & Outlook integration</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Automated SMS and email reminders</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Customer self-service booking portal</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AI Email Assistant -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="email">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('email', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-email"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('email', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="mail" class="w-6 h-6 text-blue-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Email Assistant</h3>
                            <p class="text-sm text-slate-600">Draft responses, organize inbox, follow-up automation</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-email"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-email">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Smart email categorization and prioritization</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>AI-drafted response suggestions</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Automated follow-up sequences</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Sentiment analysis and insights</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AI Customer Chat -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="chat">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('chat', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-chat"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('chat', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="message-square" class="w-6 h-6 text-pink-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Customer Chat</h3>
                            <p class="text-sm text-slate-600">Website chatbot, instant responses, lead capture</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-chat"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-chat">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>24/7 instant customer support</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Lead qualification and capture</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Integration with CRM systems</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Custom knowledge base training</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <!-- AI Social Media -->
                <div class="bg-white border-2 border-slate-200 rounded-xl p-6 hover:border-cyan-400 transition-all" data-tool-id="social">
                    <div class="flex items-center gap-6 cursor-pointer" onclick="toggleToolExpandedLight('social', event)">
                        <!-- Checkbox -->
                        <div class="flex-shrink-0">
                            <input type="checkbox" id="tool-check-social"
                                   class="w-6 h-6 accent-cyan-500 cursor-pointer"
                                   onclick="event.stopPropagation(); toggleToolSelection('social', event)"
                                   style="display: block;">
                        </div>

                        <!-- Icon -->
                        <div class="flex-shrink-0 w-12 h-12 bg-green-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="megaphone" class="w-6 h-6 text-green-600"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-xl font-bold text-slate-900">AI Social Media</h3>
                            <p class="text-sm text-slate-600">Auto-post content, schedule posts, engagement tracking</p>
                        </div>

                        <!-- Expand Arrow -->
                        <div class="flex-shrink-0 text-slate-400 hover:text-cyan-500 transition-all">
                            <i data-lucide="chevron-down" class="w-6 h-6 expand-arrow-light" id="arrow-social"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info" id="expanded-social">
                        <div class="bg-slate-50 border-t border-slate-200 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-xl">
                            <h4 class="text-slate-700 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-600 text-sm">
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>AI-generated content suggestions</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Multi-platform scheduling</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Engagement analytics and insights</span>
                                </li>
                                <li class="flex items-start">
                                    <span class="text-cyan-500 mr-2">âœ“</span>
                                    <span>Hashtag and timing optimization</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Selection Summary -->
            <div class="bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-xl p-8 mb-8">
                <div class="flex items-center justify-between">
                    <div>
                        <h3 class="text-lg font-semibold text-slate-900 mb-2">Selected Tools</h3>
                        <p class="text-slate-600" id="selection-summary">Select tools above to get started</p>
                    </div>
                    <button onclick="startSetupFlow()" id="continue-setup-btn" disabled class="px-8 py-4 bg-cyan-500 text-white rounded-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed hover:bg-cyan-600 transition-all">
                        Continue to Setup
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ========================================
         AI RECEPTIONIST SETUP
         ======================================== -->
    <div id="screen-setup-receptionist" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-cyan-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="phone" class="w-6 h-6 text-cyan-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Receptionist Setup</h1>
                            <p class="text-slate-600 text-sm" id="receptionist-progress">Step 1 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div id="receptionist-progress-bar" class="bg-cyan-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Phone Number -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="phone" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Phone Number Setup <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Choose how customers will reach your AI receptionist</p>
                        
                        <div class="space-y-4">
                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-cyan-400 transition-all">
                                <input type="radio" name="phone-option" value="existing" class="mt-1" onchange="updatePhoneOption('existing')">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">Use my existing number</div>
                                    <div class="text-sm text-slate-600">Forward calls from your current business number</div>
                                    <input type="tel" id="existing-phone" placeholder="(555) 123-4567" class="mt-3 w-full px-4 py-2 border border-slate-300 rounded-lg hidden">
                                </div>
                            </label>
                            
                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-cyan-400 transition-all">
                                <input type="radio" name="phone-option" value="new" class="mt-1" onchange="updatePhoneOption('new')">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">Get a new number</div>
                                    <div class="text-sm text-slate-600">We'll provide a dedicated phone number</div>
                                    <div id="new-phone-options" class="mt-3 hidden">
                                        <select class="w-full px-4 py-2 border border-slate-300 rounded-lg mb-3">
                                            <option>Select area code</option>
                                            <option>(212) New York, NY</option>
                                            <option>(415) San Francisco, CA</option>
                                            <option>(312) Chicago, IL</option>
                                            <option>(617) Boston, MA</option>
                                        </select>
                                        <div class="space-y-2">
                                            <label class="flex items-center gap-3 p-3 border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50">
                                                <input type="radio" name="new-number" value="1">
                                                <span class="font-mono">(415) 234-5678</span>
                                            </label>
                                            <label class="flex items-center gap-3 p-3 border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50">
                                                <input type="radio" name="new-number" value="2">
                                                <span class="font-mono">(415) 987-6543</span>
                                            </label>
                                            <label class="flex items-center gap-3 p-3 border border-slate-300 rounded-lg cursor-pointer hover:bg-slate-50">
                                                <input type="radio" name="new-number" value="3">
                                                <span class="font-mono">(415) 555-0123</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Greeting Message -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="message-square" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Greeting Message <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-4">What should the AI say when answering calls?</p>
                        
                        <textarea id="greeting-message" rows="4" class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:border-cyan-500 focus:outline-none" placeholder="Thank you for calling [Business Name]. How may I help you today?"></textarea>
                        
                        <button onclick="generateGreeting()" class="mt-3 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2">
                            <i data-lucide="sparkles" class="w-4 h-4"></i>
                            Generate with AI
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 3: Business Hours -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="clock" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Business Hours <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Set your operating hours</p>

                        <div class="space-y-3" id="business-hours-container">
                            <!-- Monday -->
                            <div class="day-hours-row" data-day="monday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Monday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="09:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="17:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'monday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Tuesday -->
                            <div class="day-hours-row" data-day="tuesday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Tuesday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="09:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="17:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'tuesday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Wednesday -->
                            <div class="day-hours-row" data-day="wednesday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Wednesday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="09:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="17:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'wednesday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Thursday -->
                            <div class="day-hours-row" data-day="thursday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Thursday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="09:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="17:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'thursday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Friday -->
                            <div class="day-hours-row" data-day="friday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Friday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="09:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="17:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'friday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Saturday -->
                            <div class="day-hours-row" data-day="saturday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Saturday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="10:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="15:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'saturday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>

                            <!-- Sunday -->
                            <div class="day-hours-row" data-day="sunday">
                                <div class="grid grid-cols-4 gap-4 items-center">
                                    <div class="font-semibold text-slate-700">Sunday</div>
                                    <div class="hours-inputs col-span-2 flex gap-2 items-center">
                                        <input type="time" value="10:00" class="open-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                        <span class="text-slate-500">to</span>
                                        <input type="time" value="15:00" class="close-time px-3 py-2 border border-slate-300 rounded-lg flex-1">
                                    </div>
                                    <select class="day-status px-3 py-2 border border-slate-300 rounded-lg" onchange="toggleDayHours(this, 'sunday')">
                                        <option value="open">Open</option>
                                        <option value="closed">Closed</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <button onclick="copyToAllWeekdays()" class="mt-4 text-cyan-500 text-sm hover:text-cyan-600 font-semibold">Copy Monday's hours to all weekdays</button>

                        <div class="mt-6">
                            <label class="block text-sm font-semibold text-slate-700 mb-2">After-hours message</label>
                            <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg" placeholder="We're currently closed. Our hours are..."></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: FAQ Builder -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="help-circle" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">FAQ Builder</h2>
                        <p class="text-slate-600 mb-4">Teach the AI common questions and answers</p>
                        
                        <div id="faq-list" class="space-y-3 mb-4">
                            <div class="faq-item p-4 border border-slate-200 rounded-lg">
                                <div class="flex items-start justify-between gap-4">
                                    <div class="flex-1">
                                        <input type="text" placeholder="Question" class="w-full px-3 py-2 border border-slate-300 rounded-lg mb-2" value="What are your hours?">
                                        <textarea rows="2" placeholder="Answer" class="w-full px-3 py-2 border border-slate-300 rounded-lg">We're open Monday-Friday 9am-5pm</textarea>
                                    </div>
                                    <button onclick="removeFAQ(this)" class="text-red-500 hover:text-red-700">
                                        <i data-lucide="trash-2" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button onclick="addFAQ()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Question
                        </button>

                        <div class="mt-4 text-sm text-slate-600">
                            <span id="faq-counter" class="font-semibold">1 FAQ</span> added
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Appointment Booking -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="calendar-check" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Appointment Booking</h2>
                        <p class="text-slate-600 mb-4">Allow AI to book appointments during calls</p>

                        <label id="enable-booking-label" class="flex items-center gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-slate-300 transition-colors mb-4">
                            <input type="checkbox" id="enable-booking" class="w-5 h-5 rounded cursor-pointer" onchange="toggleBooking()">
                            <div class="flex-1">
                                <div class="font-semibold text-slate-900">Enable appointment booking</div>
                                <div class="text-sm text-slate-600">Allow the AI to schedule appointments with your calendar</div>
                            </div>
                        </label>

                        <div id="booking-integration" class="hidden">
                            <button onclick="connectCalendar('google')" class="w-full px-6 py-3 bg-white border-2 border-slate-300 rounded-lg hover:border-cyan-400 transition-all flex items-center justify-center gap-3">
                                <i data-lucide="calendar" class="w-5 h-5"></i>
                                Connect Google Calendar
                            </button>
                            <div id="calendar-connected" class="hidden mt-3 p-3 bg-green-50 border border-green-200 rounded-lg flex items-center gap-2 text-green-700">
                                <i data-lucide="check-circle" class="w-5 h-5"></i>
                                Connected to john@business.com
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 6: Call Routing -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="phone-forwarded" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Call Routing</h2>
                        <p class="text-slate-600 mb-4">When should calls be transferred to a human?</p>
                        
                        <div class="space-y-3 mb-4">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Customer is frustrated or angry</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Customer specifically requests a human</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Question is too complex for AI</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>VIP customer calling</span>
                            </label>
                        </div>
                        
                        <div class="mb-4">
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Forward calls to</label>
                            <input type="tel" class="w-full px-4 py-2 border border-slate-300 rounded-lg" placeholder="(555) 123-4567">
                        </div>
                        
                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Voicemail message (optional)</label>
                            <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg" placeholder="Please leave a message..."></textarea>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 7: Voice Selection -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="mic" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">AI Voice Selection <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Choose the voice for your AI receptionist</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Voice Gender</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="flex items-center gap-3 p-4 border-2 border-cyan-500 bg-cyan-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="voice-gender" value="female" checked>
                                        <span class="text-sm font-semibold">Female Voice</span>
                                    </label>
                                    <label class="flex items-center gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-cyan-400">
                                        <input type="radio" name="voice-gender" value="male">
                                        <span class="text-sm font-semibold">Male Voice</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Voice Style</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Professional & Warm</option>
                                    <option>Energetic & Friendly</option>
                                    <option>Calm & Reassuring</option>
                                    <option>Corporate & Formal</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Accent</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>American English</option>
                                    <option>British English</option>
                                    <option>Australian English</option>
                                    <option>Canadian English</option>
                                    <option>Neutral (No Accent)</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Speaking Speed</label>
                                <input type="range" min="0.75" max="1.25" step="0.05" value="1" class="w-full">
                                <div class="flex justify-between text-xs text-slate-500">
                                    <span>Slower</span>
                                    <span>Normal</span>
                                    <span>Faster</span>
                                </div>
                            </div>

                            <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                <div class="flex items-center gap-2 mb-2">
                                    <i data-lucide="volume-2" class="w-5 h-5 text-blue-600"></i>
                                    <span class="font-semibold text-blue-900">Preview Voice</span>
                                </div>
                                <button onclick="playVoicePreview()" class="mt-2 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all text-sm">
                                    â–¶ Listen to Sample Greeting
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 8: Call Recording & Compliance -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="shield-check" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Call Recording & Compliance <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Configure call recording and legal compliance</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-amber-50 border border-amber-200 rounded-lg">
                                <div class="flex items-start gap-2">
                                    <i data-lucide="alert-circle" class="w-5 h-5 text-amber-600 mt-0.5"></i>
                                    <div class="text-sm text-amber-900">
                                        <p class="font-semibold mb-1">Legal Requirement</p>
                                        <p>Many regions require informing callers that calls are being recorded. Consult local regulations.</p>
                                    </div>
                                </div>
                            </div>

                            <label id="enable-call-recording-label" class="flex items-center gap-3 p-4 border-2 border-cyan-500 rounded-lg transition-colors">
                                <input type="checkbox" id="enable-call-recording" checked class="w-5 h-5 rounded">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">Enable Call Recording</div>
                                    <div class="text-sm text-slate-600">Record all calls for quality assurance and training</div>
                                </div>
                            </label>

                            <label id="play-recording-disclaimer-label" class="flex items-center gap-3 p-4 border-2 border-cyan-500 rounded-lg transition-colors">
                                <input type="checkbox" id="play-recording-disclaimer" checked class="w-5 h-5 rounded">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">Play Recording Disclaimer</div>
                                    <div class="text-sm text-slate-600">Inform callers that the call may be recorded</div>
                                </div>
                            </label>

                            <div id="recording-disclaimer-message">
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Recording Disclaimer Message</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg">This call may be recorded for quality and training purposes.</textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Call Retention Period</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>30 days</option>
                                    <option>60 days</option>
                                    <option selected>90 days</option>
                                    <option>1 year</option>
                                    <option>2 years</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 9: Test Your Setup -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-cyan-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="phone-call" class="w-6 h-6 text-cyan-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Test Your AI Receptionist</h2>
                        <p class="text-slate-600 mb-6">Make a test call to ensure everything works correctly</p>

                        <div class="space-y-4">
                            <div id="test-step-1" class="p-4 bg-cyan-50 border border-cyan-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-cyan-900">Request a test phone number</span>
                                </div>
                                <button onclick="generateTestNumber()" class="px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all text-sm">
                                    Generate Test Number
                                </button>
                                <div id="test-number-display" class="hidden mt-3 p-3 bg-white border border-cyan-300 rounded-lg">
                                    <p class="text-sm text-slate-600 mb-1">Your test number (valid for 24 hours):</p>
                                    <p class="text-2xl font-bold text-cyan-600 mb-2">(555) 867-5309</p>
                                    <button onclick="copyTestNumber()" class="px-3 py-1.5 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all text-sm">
                                        Copy Number
                                    </button>
                                </div>
                            </div>

                            <div id="test-step-2" class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Call the test number from your phone</span>
                                </div>
                                <button onclick="markStepComplete(2)" class="px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all text-sm">
                                    Mark as Called
                                </button>
                            </div>

                            <div id="test-step-3" class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Verify the AI responds correctly</span>
                                </div>
                                <p class="text-sm text-slate-600 mb-3 ml-11">Test greeting, FAQ responses, and appointment booking</p>
                                <button onclick="markStepComplete(3)" class="px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all text-sm ml-11">
                                    Mark as Verified
                                </button>
                            </div>

                            <label id="test-confirmation-label" class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-slate-300 transition-colors">
                                <input type="checkbox" id="test-confirmation-checkbox" class="w-5 h-5 rounded mt-1 cursor-pointer accent-cyan-500">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have tested the AI receptionist and it works correctly</div>
                                    <div class="text-sm text-slate-600">Check this box after completing your test call</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToNextSetup()" class="flex-1 px-8 py-4 bg-cyan-500 text-white rounded-lg font-bold hover:bg-cyan-600 transition-all">
                    Continue to Next Tool
                </button>
            </div>
        </div>
    </div>

    <!-- ========================================
         AI BOOKING SYSTEM SETUP
         ======================================== -->
    <div id="screen-setup-booking" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="calendar" class="w-6 h-6 text-orange-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Booking System Setup</h1>
                            <p class="text-slate-600 text-sm" id="booking-progress">Step 2 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div class="bg-orange-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Calendar Integration -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="calendar-sync" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Calendar Integration <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Connect your calendar to sync appointments automatically</p>

                        <div class="space-y-3">
                            <button onclick="connectCalendarBooking('google')" class="w-full px-6 py-4 bg-white border-2 border-slate-300 rounded-lg hover:border-orange-400 transition-all flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="calendar" class="w-5 h-5 text-orange-600"></i>
                                    <span class="font-semibold">Google Calendar</span>
                                </div>
                                <span class="text-sm text-slate-600">Connect</span>
                            </button>

                            <button onclick="connectCalendarBooking('outlook')" class="w-full px-6 py-4 bg-white border-2 border-slate-300 rounded-lg hover:border-orange-400 transition-all flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="calendar" class="w-5 h-5 text-blue-600"></i>
                                    <span class="font-semibold">Outlook Calendar</span>
                                </div>
                                <span class="text-sm text-slate-600">Connect</span>
                            </button>

                            <div id="calendar-sync-status" class="hidden p-4 bg-green-50 border border-green-200 rounded-lg">
                                <div class="flex items-center gap-2 text-green-700 mb-2">
                                    <i data-lucide="check-circle" class="w-5 h-5"></i>
                                    <span class="font-semibold">Connected successfully</span>
                                </div>
                                <p class="text-sm text-green-600">john@business.com - Syncing every 5 minutes</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Appointment Types -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="list" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Appointment Types <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-4">Define the services customers can book</p>

                        <div id="appointment-types-list" class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="grid grid-cols-2 gap-4 mb-3">
                                    <div>
                                        <label class="block text-sm font-semibold text-slate-700 mb-1">Service Name</label>
                                        <input type="text" placeholder="e.g., Consultation" class="w-full px-3 py-2 border border-slate-300 rounded-lg" value="Consultation">
                                    </div>
                                    <div>
                                        <label class="block text-sm font-semibold text-slate-700 mb-1">Duration</label>
                                        <select class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                                            <option>15 minutes</option>
                                            <option selected>30 minutes</option>
                                            <option>45 minutes</option>
                                            <option>60 minutes</option>
                                            <option>90 minutes</option>
                                            <option>120 minutes</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="grid grid-cols-2 gap-4">
                                    <div>
                                        <label class="block text-sm font-semibold text-slate-700 mb-1">Price (optional)</label>
                                        <input type="text" placeholder="$0.00" class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                                    </div>
                                    <div class="flex items-end">
                                        <button class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <button onclick="addAppointmentType()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Service Type
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 3: Scheduling Rules -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="settings" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Scheduling Rules</h2>
                        <p class="text-slate-600 mb-6">Set availability and booking constraints</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Minimum advance booking</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>No minimum</option>
                                    <option>1 hour</option>
                                    <option selected>2 hours</option>
                                    <option>4 hours</option>
                                    <option>1 day</option>
                                    <option>2 days</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Maximum advance booking</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>1 week</option>
                                    <option>2 weeks</option>
                                    <option selected>30 days</option>
                                    <option>60 days</option>
                                    <option>90 days</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Time slot intervals</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option selected>15 minutes</option>
                                    <option>30 minutes</option>
                                    <option>60 minutes</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Notifications -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="bell" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Notifications</h2>
                        <p class="text-slate-600 mb-6">Configure reminders for you and your customers</p>

                        <div class="mb-6">
                            <h3 class="font-semibold text-slate-900 mb-3">Customer Reminders</h3>
                            <div class="space-y-2">
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span>24 hours before appointment (Email & SMS)</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span>1 hour before appointment (SMS)</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span>Follow-up after appointment (Email)</span>
                                </label>
                            </div>
                        </div>

                        <div>
                            <h3 class="font-semibold text-slate-900 mb-3">Business Notifications</h3>
                            <div class="space-y-2">
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span>New booking confirmation</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span>Booking cancellation</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span>Daily booking summary</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Buffer Times -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="timer" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Buffer Times</h2>
                        <p class="text-slate-600 mb-6">Add time between appointments</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Buffer before appointments</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option selected>No buffer</option>
                                    <option>5 minutes</option>
                                    <option>10 minutes</option>
                                    <option>15 minutes</option>
                                    <option>30 minutes</option>
                                </select>
                                <p class="text-sm text-slate-500 mt-1">Time to prepare before each appointment</p>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Buffer after appointments</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>No buffer</option>
                                    <option>5 minutes</option>
                                    <option selected>10 minutes</option>
                                    <option>15 minutes</option>
                                    <option>30 minutes</option>
                                </select>
                                <p class="text-sm text-slate-500 mt-1">Cleanup time after each appointment</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 6: Cancellation Policy -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="x-circle" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Cancellation Policy</h2>
                        <p class="text-slate-600 mb-6">Set rules for appointment cancellations</p>

                        <div class="space-y-4">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Allow customers to cancel appointments</span>
                            </label>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Cancellation deadline</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>No deadline</option>
                                    <option>1 hour before</option>
                                    <option>2 hours before</option>
                                    <option>4 hours before</option>
                                    <option selected>24 hours before</option>
                                    <option>48 hours before</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Cancellation policy text (shown to customers)</label>
                                <textarea rows="3" class="w-full px-4 py-3 border border-slate-300 rounded-lg" placeholder="Please cancel at least 24 hours in advance...">Please cancel at least 24 hours in advance to avoid any fees.</textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 7: Payment Integration -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="credit-card" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Payment Integration</h2>
                        <p class="text-slate-600 mb-4">Collect payments or deposits for bookings</p>

                        <label id="enable-payments-label" class="flex items-center gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-slate-300 transition-colors mb-6">
                            <input type="checkbox" id="enable-payments" class="w-5 h-5 rounded cursor-pointer" onchange="togglePayments()">
                            <div class="flex-1">
                                <div class="font-semibold text-slate-900">Require payment when booking</div>
                                <div class="text-sm text-slate-600">Collect payment or deposit to secure bookings</div>
                            </div>
                        </label>

                        <div id="payment-options" class="hidden space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Payment type</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Full payment</option>
                                    <option selected>Deposit only</option>
                                    <option>Card on file (no charge)</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Deposit amount</label>
                                <input type="text" placeholder="$25.00" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>

                            <button onclick="connectStripe()" class="w-full px-6 py-4 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-all flex items-center justify-center gap-3">
                                <i data-lucide="credit-card" class="w-5 h-5"></i>
                                Connect Stripe
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 8: Team Assignment -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="users" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Team Assignment</h2>
                        <p class="text-slate-600 mb-6">Assign appointments to team members</p>

                        <div id="team-members-list" class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center gap-3">
                                        <div class="w-10 h-10 bg-cyan-100 rounded-full flex items-center justify-center">
                                            <span class="font-semibold text-cyan-600">JD</span>
                                        </div>
                                        <div>
                                            <div class="font-semibold text-slate-900">John Doe</div>
                                            <div class="text-sm text-slate-600">Owner</div>
                                        </div>
                                    </div>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Active</span>
                                    </label>
                                </div>
                                <div class="text-sm text-slate-600">Can handle: All appointment types</div>
                            </div>
                        </div>

                        <button onclick="addTeamMember()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="user-plus" class="w-4 h-4"></i>
                            Add Team Member
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 9: Custom Fields -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="file-text" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Custom Fields</h2>
                        <p class="text-slate-600 mb-6">Collect additional information during booking</p>

                        <div id="custom-fields-list" class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="grid grid-cols-2 gap-4 mb-2">
                                    <input type="text" placeholder="Field label" value="Special requests" class="px-3 py-2 border border-slate-300 rounded-lg">
                                    <select class="px-3 py-2 border border-slate-300 rounded-lg">
                                        <option>Text input</option>
                                        <option selected>Text area</option>
                                        <option>Dropdown</option>
                                        <option>Checkbox</option>
                                    </select>
                                </div>
                                <div class="flex items-center gap-4">
                                    <label class="flex items-center gap-2 text-sm">
                                        <input type="checkbox" class="rounded">
                                        Required
                                    </label>
                                    <button class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                                </div>
                            </div>
                        </div>

                        <button onclick="addCustomField()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Custom Field
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 10: Confirmation Templates -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="mail" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Confirmation Templates</h2>
                        <p class="text-slate-600 mb-6">Customize booking confirmation messages</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Email confirmation subject</label>
                                <input type="text" value="Your appointment is confirmed" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Email confirmation body</label>
                                <textarea rows="5" class="w-full px-4 py-3 border border-slate-300 rounded-lg">Hi [Customer Name],

Your appointment is confirmed for [Date] at [Time].

Service: [Service Type]
Duration: [Duration]

If you need to reschedule, please click here: [Reschedule Link]

See you soon!
[Business Name]</textarea>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">SMS confirmation (160 characters max)</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg" maxlength="160">Appointment confirmed for [Date] at [Time]. Reply CANCEL to cancel.</textarea>
                                <p class="text-sm text-slate-500 mt-1">Available variables: [Customer Name], [Date], [Time], [Service Type]</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 11: Test Booking System -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-orange-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="calendar-check" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Test Your Booking System</h2>
                        <p class="text-slate-600 mb-6">Make a test booking to verify everything works</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-orange-50 border border-orange-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-orange-900">Get your booking page link</span>
                                </div>
                                <button onclick="generateBookingLink()" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all text-sm">
                                    Generate Booking Link
                                </button>
                                <div id="booking-link-display" class="hidden mt-3 p-3 bg-white border border-orange-300 rounded-lg">
                                    <p class="text-sm text-slate-600 mb-1">Your booking page:</p>
                                    <div class="flex items-center gap-2">
                                        <p class="text-sm font-mono text-orange-600 flex-1">https://book.nexusai.com/yourbusiness</p>
                                        <button onclick="copyBookingLink()" class="px-3 py-1 bg-orange-100 text-orange-600 rounded text-sm hover:bg-orange-200">
                                            Copy
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Open the link and make a test booking</span>
                                </div>
                                <p class="text-sm text-slate-600 mb-3 ml-11">Book an appointment as if you were a customer</p>
                                <button onclick="markBookingStepComplete(2)" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all text-sm ml-11">
                                    Mark as Completed
                                </button>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Check confirmation email and calendar sync</span>
                                </div>
                                <p class="text-sm text-slate-600 mb-3 ml-11">Verify you received confirmation and appointment appears in calendar</p>
                                <button onclick="markBookingStepComplete(3)" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all text-sm ml-11">
                                    Mark as Verified
                                </button>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                    <span class="font-semibold text-slate-900">Test cancellation/rescheduling</span>
                                </div>
                                <p class="text-sm text-slate-600 mb-3 ml-11">Try modifying or cancelling the test appointment</p>
                                <button onclick="markBookingStepComplete(4)" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all text-sm ml-11">
                                    Mark as Tested
                                </button>
                            </div>

                            <label id="booking-test-confirmation-label" class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-slate-300 transition-colors">
                                <input type="checkbox" id="booking-test-confirmation-checkbox" class="w-5 h-5 rounded mt-1 cursor-pointer accent-orange-500">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have tested the booking system and it works correctly</div>
                                    <div class="text-sm text-slate-600">Confirmed booking, calendar sync, and email notifications</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToNextSetup()" class="flex-1 px-8 py-4 bg-orange-500 text-white rounded-lg font-bold hover:bg-orange-600 transition-all">
                    Continue to Next Tool
                </button>
            </div>
        </div>
    </div>

    <!-- ========================================
         AI EMAIL ASSISTANT SETUP
         ======================================== -->
    <div id="screen-setup-email" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="mail" class="w-6 h-6 text-blue-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Email Assistant Setup</h1>
                            <p class="text-slate-600 text-sm" id="email-progress">Step 3 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div class="bg-blue-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Email Account Connection -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="link" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Email Account Connection <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Connect the email accounts you want AI to manage</p>

                        <div class="space-y-3">
                            <button onclick="connectEmail('gmail')" class="w-full px-6 py-4 bg-white border-2 border-slate-300 rounded-lg hover:border-blue-400 transition-all flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="mail" class="w-5 h-5 text-red-600"></i>
                                    <span class="font-semibold">Gmail</span>
                                </div>
                                <span class="text-sm text-slate-600">Connect</span>
                            </button>

                            <button onclick="connectEmail('outlook')" class="w-full px-6 py-4 bg-white border-2 border-slate-300 rounded-lg hover:border-blue-400 transition-all flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="mail" class="w-5 h-5 text-blue-600"></i>
                                    <span class="font-semibold">Outlook / Microsoft 365</span>
                                </div>
                                <span class="text-sm text-slate-600">Connect</span>
                            </button>

                            <button class="w-full px-6 py-4 bg-white border-2 border-slate-300 rounded-lg hover:border-blue-400 transition-all flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="mail" class="w-5 h-5 text-slate-600"></i>
                                    <span class="font-semibold">Other IMAP/SMTP</span>
                                </div>
                                <span class="text-sm text-slate-600">Configure</span>
                            </button>

                            <div id="email-connected-status" class="hidden p-4 bg-green-50 border border-green-200 rounded-lg">
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center gap-2 text-green-700">
                                        <i data-lucide="check-circle" class="w-5 h-5"></i>
                                        <span class="font-semibold">support@business.com</span>
                                    </div>
                                    <button class="text-sm text-green-600 hover:text-green-700">Disconnect</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Response Templates -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="file-text" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Response Templates <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-4">Create templates for common email responses</p>

                        <div class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="mb-3">
                                    <label class="block text-sm font-semibold text-slate-700 mb-1">Template Name</label>
                                    <input type="text" value="General Inquiry Response" class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                                </div>
                                <div class="mb-3">
                                    <label class="block text-sm font-semibold text-slate-700 mb-1">Trigger Keywords (comma-separated)</label>
                                    <input type="text" placeholder="pricing, quote, information" value="inquiry, question, info" class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                                </div>
                                <div class="mb-3">
                                    <label class="block text-sm font-semibold text-slate-700 mb-1">Template Response</label>
                                    <textarea rows="4" class="w-full px-3 py-2 border border-slate-300 rounded-lg">Thank you for your inquiry! We appreciate your interest in our services.

[AI will customize this section based on their specific question]

Is there anything else I can help you with?

Best regards,
[Your Business]</textarea>
                                </div>
                                <button class="text-red-500 hover:text-red-700 text-sm">Remove Template</button>
                            </div>
                        </div>

                        <button onclick="addEmailTemplate()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Template
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 3: Tone Settings -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="smile" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Tone Settings</h2>
                        <p class="text-slate-600 mb-6">Define how the AI should write emails</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Email Tone</label>
                                <div class="grid grid-cols-3 gap-3">
                                    <label class="flex flex-col items-center p-4 border-2 border-blue-500 bg-blue-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="tone" value="professional" checked class="mb-2">
                                        <span class="font-semibold text-sm">Professional</span>
                                    </label>
                                    <label class="flex flex-col items-center p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-blue-400">
                                        <input type="radio" name="tone" value="friendly" class="mb-2">
                                        <span class="font-semibold text-sm">Friendly</span>
                                    </label>
                                    <label class="flex flex-col items-center p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-blue-400">
                                        <input type="radio" name="tone" value="casual" class="mb-2">
                                        <span class="font-semibold text-sm">Casual</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Response Length Preference</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Concise (1-2 paragraphs)</option>
                                    <option selected>Moderate (2-3 paragraphs)</option>
                                    <option>Detailed (3-5 paragraphs)</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Company Voice Description (optional)</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg" placeholder="e.g., We're a friendly team that values personalization and warmth in customer interactions..."></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Priority Rules -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="alert-circle" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Priority Rules</h2>
                        <p class="text-slate-600 mb-6">Define which emails need immediate attention</p>

                        <div class="space-y-3">
                            <h3 class="font-semibold text-slate-900 mb-2">Mark as high priority if email contains:</h3>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Urgent, ASAP, or Emergency</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Complaint, Issue, or Problem</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Payment or Invoice related</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>From VIP contacts</span>
                            </label>

                            <div class="mt-4">
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Additional priority keywords (comma-separated)</label>
                                <input type="text" placeholder="refund, cancel, dissatisfied" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Auto-categorization -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="folder" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Auto-categorization</h2>
                        <p class="text-slate-600 mb-6">Automatically organize emails into categories</p>

                        <label class="flex items-center gap-3 mb-6">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="font-semibold">Enable automatic email categorization</span>
                        </label>

                        <div class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div>
                                        <div class="font-semibold text-slate-900">Sales Inquiries</div>
                                        <div class="text-sm text-slate-600">Keywords: quote, pricing, purchase, buy</div>
                                    </div>
                                    <button class="text-slate-600 hover:text-slate-900">
                                        <i data-lucide="edit" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div>
                                        <div class="font-semibold text-slate-900">Support Requests</div>
                                        <div class="text-sm text-slate-600">Keywords: help, problem, issue, not working</div>
                                    </div>
                                    <button class="text-slate-600 hover:text-slate-900">
                                        <i data-lucide="edit" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div>
                                        <div class="font-semibold text-slate-900">Feedback & Reviews</div>
                                        <div class="text-sm text-slate-600">Keywords: feedback, review, testimonial, experience</div>
                                    </div>
                                    <button class="text-slate-600 hover:text-slate-900">
                                        <i data-lucide="edit" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Category
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 6: Signature Setup -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="pen-tool" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Signature Setup</h2>
                        <p class="text-slate-600 mb-6">Configure email signature for AI-sent emails</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Signature Name/Title</label>
                                <input type="text" placeholder="AI Assistant" value="AI Support Team" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Email Signature</label>
                                <textarea rows="6" class="w-full px-4 py-3 border border-slate-300 rounded-lg font-mono text-sm">Best regards,
AI Support Team

[Your Business Name]
Phone: (555) 123-4567
Email: support@business.com
Website: www.business.com

Note: This email was sent by our AI assistant. A human team member will follow up if needed.</textarea>
                            </div>

                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span class="text-sm">Include disclaimer that email is AI-generated</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 7: Working Hours -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="clock" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Working Hours</h2>
                        <p class="text-slate-600 mb-6">Set when AI should send automated responses</p>

                        <div class="space-y-4">
                            <label class="flex items-start gap-3 p-4 border-2 border-blue-500 bg-blue-50 rounded-lg cursor-pointer">
                                <input type="radio" name="working-hours" value="24-7" checked class="mt-1">
                                <div>
                                    <div class="font-semibold text-slate-900">24/7 - Send anytime</div>
                                    <div class="text-sm text-slate-600">AI responds immediately at all times</div>
                                </div>
                            </label>

                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-blue-400">
                                <input type="radio" name="working-hours" value="business-hours" class="mt-1">
                                <div>
                                    <div class="font-semibold text-slate-900">Business hours only</div>
                                    <div class="text-sm text-slate-600">Queue responses outside business hours, send during hours</div>
                                </div>
                            </label>

                            <div id="business-hours-config" class="hidden ml-8 mt-3 p-4 bg-slate-50 rounded-lg">
                                <div class="grid grid-cols-3 gap-3 mb-2">
                                    <div class="font-semibold text-sm text-slate-700">Day</div>
                                    <div class="font-semibold text-sm text-slate-700">Start</div>
                                    <div class="font-semibold text-sm text-slate-700">End</div>
                                </div>
                                <div class="grid grid-cols-3 gap-3">
                                    <div class="text-sm">Weekdays</div>
                                    <input type="time" value="09:00" class="px-2 py-1 border border-slate-300 rounded text-sm">
                                    <input type="time" value="17:00" class="px-2 py-1 border border-slate-300 rounded text-sm">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 8: Escalation Rules -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="user-check" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Escalation Rules</h2>
                        <p class="text-slate-600 mb-6">When should a human review or respond?</p>

                        <div class="space-y-3 mb-6">
                            <h3 class="font-semibold text-slate-900 mb-2">Escalate to human if:</h3>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Customer is dissatisfied or complaining</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>AI confidence is low (can't answer accurately)</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Customer requests to speak with a person</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Email is marked as high priority</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Thread has more than 3 back-and-forth replies</span>
                            </label>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Notify this email when escalation occurs</label>
                            <input type="email" placeholder="manager@business.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section: Test Email Assistant -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-blue-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="mail-check" class="w-6 h-6 text-blue-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Test Your Email Assistant</h2>
                        <p class="text-slate-600 mb-6">Send a test email to verify AI responses</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-blue-50 border border-blue-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-blue-900">Send a test email to yourself</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11 mb-3">Use a personal email to send a message to your connected business email</p>
                                <div class="ml-11 p-3 bg-white border border-blue-300 rounded-lg">
                                    <p class="text-xs text-slate-600 mb-1">Test email suggestions:</p>
                                    <ul class="text-sm text-slate-700 space-y-1">
                                        <li>â€¢ "What are your business hours?"</li>
                                        <li>â€¢ "I'd like to schedule a consultation"</li>
                                        <li>â€¢ "Do you offer service X?"</li>
                                    </ul>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Wait for AI-generated response</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">The AI should reply within 1-2 minutes with a relevant answer</p>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Review the response quality</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Check if the tone, content, and accuracy match your preferences</p>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                    <span class="font-semibold text-slate-900">Test draft suggestions</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Reply to the AI and see if it suggests appropriate follow-up drafts</p>
                            </div>

                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg">
                                <input type="checkbox" class="w-5 h-5 rounded mt-1">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have tested the email assistant and responses are accurate</div>
                                    <div class="text-sm text-slate-600">Verified tone, content quality, and response time</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToNextSetup()" class="flex-1 px-8 py-4 bg-blue-500 text-white rounded-lg font-bold hover:bg-blue-600 transition-all">
                    Continue to Next Tool
                </button>
            </div>
        </div>
    </div>

    <!-- ========================================
         AI CUSTOMER CHAT SETUP
         ======================================== -->
    <div id="screen-setup-chat" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-pink-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="message-circle" class="w-6 h-6 text-pink-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Customer Chat Setup</h1>
                            <p class="text-slate-600 text-sm" id="chat-progress">Step 4 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div class="bg-pink-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Widget Customization -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="palette" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Widget Customization <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Design your chat widget to match your brand</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Widget Position</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="flex items-center gap-3 p-3 border-2 border-pink-500 bg-pink-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="position" value="bottom-right" checked>
                                        <span class="text-sm">Bottom Right</span>
                                    </label>
                                    <label class="flex items-center gap-3 p-3 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-pink-400">
                                        <input type="radio" name="position" value="bottom-left">
                                        <span class="text-sm">Bottom Left</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Primary Color</label>
                                <div class="flex gap-3 items-center">
                                    <input type="color" value="#ec4899" class="w-16 h-10 rounded border border-slate-300">
                                    <span class="text-sm text-slate-600">#ec4899</span>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Widget Header Text</label>
                                <input type="text" value="Chat with us!" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Widget Size</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Small</option>
                                    <option selected>Medium</option>
                                    <option>Large</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Upload Chat Icon (optional)</label>
                                <input type="file" accept="image/*" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Greeting Messages -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="message-square-text" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Greeting Messages <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Set automated greetings for different scenarios</p>

                        <div class="space-y-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Initial Greeting (when visitor lands)</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg">Hi there! ðŸ‘‹ How can I help you today?</textarea>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Returning Visitor Greeting</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg">Welcome back! How can I assist you today?</textarea>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <label class="block text-sm font-semibold text-slate-700 mb-2">After-Hours Greeting</label>
                                <textarea rows="2" class="w-full px-4 py-3 border border-slate-300 rounded-lg">We're currently offline, but I'm here to help! Leave a message and we'll get back to you.</textarea>
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Automatically greet visitors after 3 seconds</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Knowledge Base -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="book-open" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Knowledge Base</h2>
                        <p class="text-slate-600 mb-6">Add FAQs and information for the AI to reference</p>

                        <div class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-start justify-between gap-4">
                                    <div class="flex-1">
                                        <input type="text" placeholder="Question" class="w-full px-3 py-2 border border-slate-300 rounded-lg mb-2" value="What are your business hours?">
                                        <textarea rows="2" placeholder="Answer" class="w-full px-3 py-2 border border-slate-300 rounded-lg">We're open Monday-Friday, 9am-5pm EST. Our AI chat is available 24/7 to assist you!</textarea>
                                    </div>
                                    <button class="text-red-500 hover:text-red-700">
                                        <i data-lucide="trash-2" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-start justify-between gap-4">
                                    <div class="flex-1">
                                        <input type="text" placeholder="Question" class="w-full px-3 py-2 border border-slate-300 rounded-lg mb-2" value="How do I get started?">
                                        <textarea rows="2" placeholder="Answer" class="w-full px-3 py-2 border border-slate-300 rounded-lg">Getting started is easy! Just tell me what you need help with, and I'll guide you through the process.</textarea>
                                    </div>
                                    <button class="text-red-500 hover:text-red-700">
                                        <i data-lucide="trash-2" class="w-5 h-5"></i>
                                    </button>
                                </div>
                            </div>
                        </div>

                        <button onclick="addKBEntry()" class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Knowledge Base Entry
                        </button>

                        <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                            <div class="flex items-start gap-2">
                                <i data-lucide="info" class="w-5 h-5 text-blue-600 mt-0.5"></i>
                                <div class="text-sm text-blue-800">
                                    <span class="font-semibold">Pro Tip:</span> You can also import FAQs from your website URL
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Response Behavior -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="brain" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Response Behavior</h2>
                        <p class="text-slate-600 mb-6">Configure how the AI responds to visitors</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Response Tone</label>
                                <div class="grid grid-cols-3 gap-3">
                                    <label class="flex flex-col items-center p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-pink-400">
                                        <input type="radio" name="chat-tone" value="professional" class="mb-2">
                                        <span class="font-semibold text-sm">Professional</span>
                                    </label>
                                    <label class="flex flex-col items-center p-4 border-2 border-pink-500 bg-pink-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="chat-tone" value="friendly" checked class="mb-2">
                                        <span class="font-semibold text-sm">Friendly</span>
                                    </label>
                                    <label class="flex flex-col items-center p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-pink-400">
                                        <input type="radio" name="chat-tone" value="casual" class="mb-2">
                                        <span class="font-semibold text-sm">Casual</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Response Speed</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option selected>Instant (feels like AI)</option>
                                    <option>Natural (1-2 second delay)</option>
                                    <option>Thoughtful (2-3 second delay)</option>
                                </select>
                                <p class="text-sm text-slate-500 mt-1">Add slight delays to make responses feel more human</p>
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Use emojis in responses</span>
                                </label>
                                <label class="flex items-center gap-3 mt-2">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span class="text-sm">Suggest related questions after answering</span>
                                </label>
                                <label class="flex items-center gap-3 mt-2">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Show typing indicator</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Handoff Rules -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="users" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Handoff Rules</h2>
                        <p class="text-slate-600 mb-6">When should the chat transfer to a human?</p>

                        <div class="space-y-3 mb-6">
                            <h3 class="font-semibold text-slate-900 mb-2">Transfer to human agent if:</h3>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Visitor explicitly asks for a human</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>AI cannot answer the question confidently</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Visitor seems frustrated (detected negative sentiment)</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Conversation exceeds 5 messages</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>High-value opportunity detected (pricing/purchase intent)</span>
                            </label>
                        </div>

                        <div>
                            <label class="block text-sm font-semibold text-slate-700 mb-2">Handoff notification email</label>
                            <input type="email" placeholder="sales@business.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            <p class="text-sm text-slate-500 mt-1">Get notified when a chat needs human attention</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 6: Visitor Tracking -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="eye" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Visitor Tracking</h2>
                        <p class="text-slate-600 mb-6">Collect visitor information during conversations</p>

                        <div class="space-y-4">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span class="font-semibold">Collect visitor information</span>
                            </label>

                            <div class="ml-8 space-y-3">
                                <h3 class="font-semibold text-slate-900 text-sm mb-2">Request during chat:</h3>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Name</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Email address</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span class="text-sm">Phone number</span>
                                </label>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span class="text-sm">Company name</span>
                                </label>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">When to ask for information</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>At the start of chat</option>
                                    <option selected>After 2-3 messages</option>
                                    <option>Before answering complex questions</option>
                                    <option>Never (passive tracking only)</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 7: Chat Routing -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="git-branch" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Chat Routing</h2>
                        <p class="text-slate-600 mb-6">Route chats to different departments or agents</p>

                        <div class="space-y-3 mb-4">
                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <div class="font-semibold text-slate-900">Sales Inquiries</div>
                                        <div class="text-sm text-slate-600">Keywords: pricing, buy, purchase, demo</div>
                                    </div>
                                    <button class="text-slate-600 hover:text-slate-900">
                                        <i data-lucide="edit" class="w-5 h-5"></i>
                                    </button>
                                </div>
                                <div class="text-sm">
                                    <span class="text-slate-600">Route to:</span>
                                    <span class="font-semibold text-slate-900"> sales@business.com</span>
                                </div>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg">
                                <div class="flex items-center justify-between mb-3">
                                    <div>
                                        <div class="font-semibold text-slate-900">Technical Support</div>
                                        <div class="text-sm text-slate-600">Keywords: problem, bug, error, not working</div>
                                    </div>
                                    <button class="text-slate-600 hover:text-slate-900">
                                        <i data-lucide="edit" class="w-5 h-5"></i>
                                    </button>
                                </div>
                                <div class="text-sm">
                                    <span class="text-slate-600">Route to:</span>
                                    <span class="font-semibold text-slate-900"> support@business.com</span>
                                </div>
                            </div>
                        </div>

                        <button class="px-4 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition-all flex items-center gap-2">
                            <i data-lucide="plus" class="w-4 h-4"></i>
                            Add Routing Rule
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 8: Integrations -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="plug" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Integrations</h2>
                        <p class="text-slate-600 mb-6">Connect your chat to other tools</p>

                        <div class="space-y-3">
                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="calendar" class="w-5 h-5 text-slate-600"></i>
                                    <div>
                                        <div class="font-semibold text-slate-900">Calendar Booking</div>
                                        <div class="text-sm text-slate-600">Allow visitors to book appointments via chat</div>
                                    </div>
                                </div>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Enabled</span>
                                </label>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="mail" class="w-5 h-5 text-slate-600"></i>
                                    <div>
                                        <div class="font-semibold text-slate-900">Email Capture</div>
                                        <div class="text-sm text-slate-600">Save chat transcripts and send to email</div>
                                    </div>
                                </div>
                                <label class="flex items-center gap-2">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Enabled</span>
                                </label>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <i data-lucide="database" class="w-5 h-5 text-slate-600"></i>
                                    <div>
                                        <div class="font-semibold text-slate-900">CRM Integration</div>
                                        <div class="text-sm text-slate-600">Sync leads to your CRM automatically</div>
                                    </div>
                                </div>
                                <button class="text-sm text-cyan-500 hover:text-cyan-600">Connect</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 9: CSAT Settings -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="thumbs-up" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">CSAT Settings</h2>
                        <p class="text-slate-600 mb-6">Customer satisfaction feedback</p>

                        <div class="space-y-4">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span class="font-semibold">Request feedback after chat ends</span>
                            </label>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Feedback Question</label>
                                <input type="text" value="How was your chat experience?" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Rating Type</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="flex items-center gap-3 p-3 border-2 border-pink-500 bg-pink-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="rating-type" value="stars" checked>
                                        <span class="text-sm">â­ Star Rating (1-5)</span>
                                    </label>
                                    <label class="flex items-center gap-3 p-3 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-pink-400">
                                        <input type="radio" name="rating-type" value="thumbs">
                                        <span class="text-sm">ðŸ‘ðŸ‘Ž Thumbs Up/Down</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Allow optional comment with rating</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 10: Chat History -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="history" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Chat History</h2>
                        <p class="text-slate-600 mb-6">Configure chat history and transcript settings</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Save chat history for</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>7 days</option>
                                    <option>30 days</option>
                                    <option selected>90 days</option>
                                    <option>1 year</option>
                                    <option>Forever</option>
                                </select>
                            </div>

                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Allow visitors to download chat transcript</span>
                            </label>

                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Email transcript to visitor after chat ends</span>
                            </label>

                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Remember returning visitors and show previous chat history</span>
                            </label>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="text-sm text-slate-700">
                                    <span class="font-semibold">Privacy Note:</span> All chat data is encrypted and stored securely. Visitors can request deletion of their data at any time.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section: Test Chat Widget -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-pink-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="message-square-text" class="w-6 h-6 text-pink-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Test Your Chat Widget</h2>
                        <p class="text-slate-600 mb-6">Try the chat widget on a test page</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-pink-50 border border-pink-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-pink-900">Get your widget embed code</span>
                                </div>
                                <button onclick="generateWidgetCode()" class="px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-all text-sm">
                                    Generate Widget Code
                                </button>
                                <div id="widget-code-display" class="hidden mt-3 p-3 bg-white border border-pink-300 rounded-lg">
                                    <p class="text-xs text-slate-600 mb-1">Copy this code to your website:</p>
                                    <pre class="text-xs font-mono bg-slate-900 text-green-400 p-3 rounded overflow-x-auto"><code>&lt;script src="https://chat.nexusai.com/widget.js"&gt;&lt;/script&gt;</code></pre>
                                    <button onclick="copyWidgetCode()" class="mt-2 px-3 py-1 bg-pink-100 text-pink-600 rounded text-sm hover:bg-pink-200">
                                        Copy Code
                                    </button>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Open the test page</span>
                                </div>
                                <a href="#" onclick="openTestChatPage()" class="ml-11 text-sm text-pink-600 hover:text-pink-700 underline">https://test.nexusai.com/chat-preview/your-widget</a>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Test chat conversations</span>
                                </div>
                                <div class="ml-11 text-sm text-slate-600 space-y-1">
                                    <p>â€¢ Verify greeting message appears</p>
                                    <p>â€¢ Ask knowledge base questions</p>
                                    <p>â€¢ Test visitor information collection</p>
                                    <p>â€¢ Try offline message functionality</p>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                    <span class="font-semibold text-slate-900">Check widget appearance</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Verify colors, position, and branding match your settings</p>
                            </div>

                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg">
                                <input type="checkbox" class="w-5 h-5 rounded mt-1">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have tested the chat widget and it works correctly</div>
                                    <div class="text-sm text-slate-600">Verified appearance, responses, and functionality</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToNextSetup()" class="flex-1 px-8 py-4 bg-pink-500 text-white rounded-lg font-bold hover:bg-pink-600 transition-all">
                    Continue to Next Tool
                </button>
            </div>
        </div>
    </div>

    <!-- WEBSITE BUILDER SETUP SCREEN -->
    <div id="screen-setup-website" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="globe" class="w-6 h-6 text-purple-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Website Builder Setup</h1>
                            <p class="text-slate-600 text-sm" id="website-progress">Step 5 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div class="bg-purple-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Business Information -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="building" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Business Information <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Tell us about your business</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Business Name</label>
                                <input type="text" placeholder="Acme Inc." class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:border-purple-500 focus:outline-none">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Tagline or Slogan</label>
                                <input type="text" placeholder="Your business in a nutshell" class="w-full px-4 py-2 border border-slate-300 rounded-lg focus:border-purple-500 focus:outline-none">
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Business Description</label>
                                <textarea rows="4" placeholder="Describe what your business does..." class="w-full px-4 py-3 border border-slate-300 rounded-lg focus:border-purple-500 focus:outline-none"></textarea>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-2">Industry</label>
                                    <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                        <option>Select industry</option>
                                        <option>Retail</option>
                                        <option>Healthcare</option>
                                        <option>Professional Services</option>
                                        <option>Restaurant/Food Service</option>
                                        <option>Real Estate</option>
                                        <option>Technology</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-2">Phone Number</label>
                                    <input type="tel" placeholder="(555) 123-4567" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Website Template -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="layout" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Choose Template <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Select a design template (you can customize it later)</p>

                        <div class="grid grid-cols-3 gap-4">
                            <label class="cursor-pointer">
                                <input type="radio" name="template" value="modern" class="hidden peer">
                                <div class="border-2 border-slate-200 peer-checked:border-purple-500 peer-checked:bg-purple-50 rounded-lg p-4 transition-all">
                                    <div class="bg-gradient-to-br from-purple-100 to-purple-200 h-32 rounded mb-3 flex items-center justify-center">
                                        <i data-lucide="sparkles" class="w-8 h-8 text-purple-600"></i>
                                    </div>
                                    <div class="font-semibold text-slate-900">Modern</div>
                                    <div class="text-xs text-slate-600">Clean & professional</div>
                                </div>
                            </label>

                            <label class="cursor-pointer">
                                <input type="radio" name="template" value="creative" class="hidden peer">
                                <div class="border-2 border-slate-200 peer-checked:border-purple-500 peer-checked:bg-purple-50 rounded-lg p-4 transition-all">
                                    <div class="bg-gradient-to-br from-pink-100 to-orange-200 h-32 rounded mb-3 flex items-center justify-center">
                                        <i data-lucide="palette" class="w-8 h-8 text-orange-600"></i>
                                    </div>
                                    <div class="font-semibold text-slate-900">Creative</div>
                                    <div class="text-xs text-slate-600">Bold & artistic</div>
                                </div>
                            </label>

                            <label class="cursor-pointer">
                                <input type="radio" name="template" value="minimal" class="hidden peer">
                                <div class="border-2 border-slate-200 peer-checked:border-purple-500 peer-checked:bg-purple-50 rounded-lg p-4 transition-all">
                                    <div class="bg-gradient-to-br from-slate-100 to-slate-200 h-32 rounded mb-3 flex items-center justify-center">
                                        <i data-lucide="minus" class="w-8 h-8 text-slate-600"></i>
                                    </div>
                                    <div class="font-semibold text-slate-900">Minimal</div>
                                    <div class="text-xs text-slate-600">Simple & elegant</div>
                                </div>
                            </label>
                        </div>

                        <button onclick="generateWebsiteWithAI()" class="mt-4 px-4 py-2 bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all flex items-center gap-2">
                            <i data-lucide="sparkles" class="w-4 h-4"></i>
                            Generate Custom Design with AI
                        </button>
                    </div>
                </div>
            </div>

            <!-- Section 3: Pages & Content -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="file-text" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Pages & Content <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-4">Select which pages to include</p>

                        <div class="space-y-3 mb-4">
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked disabled class="w-5 h-5 rounded">
                                <div class="flex-1">
                                    <span class="font-semibold">Home Page</span>
                                    <span class="text-sm text-slate-600 ml-2">(Required)</span>
                                </div>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>About Us</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Services</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span>Contact</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Blog</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Gallery/Portfolio</span>
                            </label>
                            <label class="flex items-center gap-3">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span>Testimonials</span>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Brand Colors & Logo -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="palette" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Brand Colors & Logo</h2>
                        <p class="text-slate-600 mb-6">Customize your website's appearance</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Primary Color</label>
                                <div class="flex gap-3 items-center">
                                    <input type="color" value="#8b5cf6" class="w-16 h-10 rounded border border-slate-300">
                                    <span class="text-sm text-slate-600">#8b5cf6</span>
                                    <button class="ml-auto text-sm text-purple-500 hover:text-purple-600">Use AI to suggest colors</button>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Secondary Color</label>
                                <div class="flex gap-3 items-center">
                                    <input type="color" value="#ec4899" class="w-16 h-10 rounded border border-slate-300">
                                    <span class="text-sm text-slate-600">#ec4899</span>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Upload Logo (optional)</label>
                                <div class="border-2 border-dashed border-slate-300 rounded-lg p-6 text-center">
                                    <i data-lucide="upload" class="w-8 h-8 text-slate-400 mx-auto mb-2"></i>
                                    <p class="text-sm text-slate-600 mb-2">Drag & drop your logo or click to browse</p>
                                    <input type="file" accept="image/*" class="hidden" id="logo-upload">
                                    <button onclick="document.getElementById('logo-upload').click()" class="text-sm text-purple-500 hover:text-purple-600">Choose File</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Domain & SEO -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="search" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Domain & SEO</h2>
                        <p class="text-slate-600 mb-6">Set up your website address and search optimization</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Domain Name</label>
                                <div class="space-y-3">
                                    <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-purple-400">
                                        <input type="radio" name="domain-option" value="new" class="mt-1">
                                        <div class="flex-1">
                                            <div class="font-semibold text-slate-900">Register new domain</div>
                                            <div class="text-sm text-slate-600 mb-2">We'll help you find and register a domain</div>
                                            <input type="text" placeholder="yourbusiness.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                        </div>
                                    </label>

                                    <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg cursor-pointer hover:border-purple-400">
                                        <input type="radio" name="domain-option" value="existing" class="mt-1">
                                        <div class="flex-1">
                                            <div class="font-semibold text-slate-900">Use existing domain</div>
                                            <div class="text-sm text-slate-600 mb-2">Connect your current domain</div>
                                            <input type="text" placeholder="yourdomain.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                        </div>
                                    </label>

                                    <label class="flex items-start gap-3 p-4 border-2 border-purple-500 bg-purple-50 rounded-lg cursor-pointer">
                                        <input type="radio" name="domain-option" value="subdomain" checked class="mt-1">
                                        <div class="flex-1">
                                            <div class="font-semibold text-slate-900">Use free subdomain</div>
                                            <div class="text-sm text-slate-600 mb-2">Get started immediately with a free subdomain</div>
                                            <div class="flex items-center gap-2">
                                                <input type="text" placeholder="yourbusiness" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg">
                                                <span class="text-sm text-slate-600">.nexusai.site</span>
                                            </div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">SEO Keywords (optional)</label>
                                <input type="text" placeholder="e.g., plumbing, emergency repair, local service" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                <p class="text-xs text-slate-500 mt-1">Separate keywords with commas</p>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Meta Description (optional)</label>
                                <textarea rows="2" placeholder="Brief description for search engines..." class="w-full px-4 py-3 border border-slate-300 rounded-lg"></textarea>
                                <p class="text-xs text-slate-500 mt-1">150-160 characters recommended</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 6: Contact Information -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="map-pin" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Contact Information</h2>
                        <p class="text-slate-600 mb-6">How can customers reach you?</p>

                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-4">
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-2">Email</label>
                                    <input type="email" placeholder="info@business.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                </div>
                                <div>
                                    <label class="block text-sm font-semibold text-slate-700 mb-2">Phone</label>
                                    <input type="tel" placeholder="(555) 123-4567" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Address</label>
                                <input type="text" placeholder="123 Main Street" class="w-full px-4 py-2 border border-slate-300 rounded-lg mb-2">
                                <div class="grid grid-cols-3 gap-2">
                                    <input type="text" placeholder="City" class="px-4 py-2 border border-slate-300 rounded-lg">
                                    <input type="text" placeholder="State" class="px-4 py-2 border border-slate-300 rounded-lg">
                                    <input type="text" placeholder="ZIP" class="px-4 py-2 border border-slate-300 rounded-lg">
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Social Media Links (optional)</label>
                                <div class="space-y-2">
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="facebook" class="w-5 h-5 text-slate-400"></i>
                                        <input type="url" placeholder="facebook.com/yourpage" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg">
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="instagram" class="w-5 h-5 text-slate-400"></i>
                                        <input type="url" placeholder="instagram.com/yourprofile" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg">
                                    </div>
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="linkedin" class="w-5 h-5 text-slate-400"></i>
                                        <input type="url" placeholder="linkedin.com/company/yourcompany" class="flex-1 px-4 py-2 border border-slate-300 rounded-lg">
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section: Test Website -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-purple-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="monitor" class="w-6 h-6 text-purple-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Preview Your Website</h2>
                        <p class="text-slate-600 mb-6">Review your website before going live</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-purple-50 border border-purple-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-purple-900">Generate preview link</span>
                                </div>
                                <button onclick="generateWebsitePreview()" class="px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-all text-sm">
                                    Create Preview
                                </button>
                                <div id="website-preview-display" class="hidden mt-3 p-3 bg-white border border-purple-300 rounded-lg">
                                    <p class="text-sm text-slate-600 mb-2">Preview your website:</p>
                                    <a href="#" onclick="openWebsitePreview()" class="text-purple-600 hover:text-purple-700 underline text-sm font-mono">https://preview.nexusai.site/yourbusiness</a>
                                    <p class="text-xs text-slate-500 mt-2">Preview is password protected. Password: preview123</p>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Review all pages</span>
                                </div>
                                <div class="ml-11 text-sm text-slate-600 space-y-1">
                                    <p>â€¢ Check Home, About, Services, Contact pages</p>
                                    <p>â€¢ Verify content accuracy and formatting</p>
                                    <p>â€¢ Test navigation menu and links</p>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Test on mobile devices</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Open preview on phone/tablet to verify responsive design</p>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                    <span class="font-semibold text-slate-900">Test contact forms and CTAs</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Submit test form to verify email delivery</p>
                            </div>

                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg">
                                <input type="checkbox" class="w-5 h-5 rounded mt-1">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have reviewed the website and it looks ready to launch</div>
                                    <div class="text-sm text-slate-600">Checked design, content, mobile view, and functionality</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToNextSetup()" class="flex-1 px-8 py-4 bg-purple-500 text-white rounded-lg font-bold hover:bg-purple-600 transition-all">
                    Continue to Next Tool
                </button>
            </div>
        </div>
    </div>

    <!-- SOCIAL MEDIA MANAGER SETUP SCREEN -->
    <div id="screen-setup-social" class="screen bg-slate-50 min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-8">
            <!-- Progress Header -->
            <div class="bg-white rounded-xl p-6 mb-8 shadow-sm sticky top-0 z-10">
                <div class="flex items-center justify-between mb-4">
                    <div class="flex items-center gap-4">
                        <div class="w-12 h-12 bg-orange-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="megaphone" class="w-6 h-6 text-orange-600"></i>
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-slate-900">AI Social Media Manager Setup</h1>
                            <p class="text-slate-600 text-sm" id="social-progress">Step 6 of 6</p>
                        </div>
                    </div>
                    <button onclick="saveDraftAndExit()" class="text-slate-600 hover:text-slate-900 text-sm">Save & Exit</button>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-2">
                    <div class="bg-orange-500 h-2 rounded-full transition-all" style="width: 0%"></div>
                </div>
            </div>

            <!-- Section 1: Connect Platforms -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="link" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Connect Social Platforms <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Link your social media accounts</p>

                        <div class="space-y-3">
                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i data-lucide="facebook" class="w-5 h-5 text-blue-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-slate-900">Facebook</div>
                                        <div class="text-sm text-slate-600" id="facebook-status">Not connected</div>
                                    </div>
                                </div>
                                <button onclick="connectSocialPlatform('facebook')" class="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-all">
                                    Connect
                                </button>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-pink-100 rounded-lg flex items-center justify-center">
                                        <i data-lucide="instagram" class="w-5 h-5 text-pink-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-slate-900">Instagram</div>
                                        <div class="text-sm text-slate-600" id="instagram-status">Not connected</div>
                                    </div>
                                </div>
                                <button onclick="connectSocialPlatform('instagram')" class="px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition-all">
                                    Connect
                                </button>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-sky-100 rounded-lg flex items-center justify-center">
                                        <i data-lucide="twitter" class="w-5 h-5 text-sky-600"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-slate-900">Twitter / X</div>
                                        <div class="text-sm text-slate-600" id="twitter-status">Not connected</div>
                                    </div>
                                </div>
                                <button onclick="connectSocialPlatform('twitter')" class="px-4 py-2 bg-slate-900 text-white rounded-lg hover:bg-slate-800 transition-all">
                                    Connect
                                </button>
                            </div>

                            <div class="p-4 border-2 border-slate-200 rounded-lg flex items-center justify-between">
                                <div class="flex items-center gap-3">
                                    <div class="w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center">
                                        <i data-lucide="linkedin" class="w-5 h-5 text-blue-700"></i>
                                    </div>
                                    <div>
                                        <div class="font-semibold text-slate-900">LinkedIn</div>
                                        <div class="text-sm text-slate-600" id="linkedin-status">Not connected</div>
                                    </div>
                                </div>
                                <button onclick="connectSocialPlatform('linkedin')" class="px-4 py-2 bg-blue-700 text-white rounded-lg hover:bg-blue-800 transition-all">
                                    Connect
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 2: Content Strategy -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="target" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Content Strategy <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">Define your social media goals and content type</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Primary Goal</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Select your main objective</option>
                                    <option>Brand Awareness</option>
                                    <option>Lead Generation</option>
                                    <option>Customer Engagement</option>
                                    <option>Sales & Conversions</option>
                                    <option>Community Building</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Content Types (select all that apply)</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span>Promotional posts (products/services)</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span>Educational content (tips, how-tos)</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span>Behind-the-scenes</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span>Customer testimonials</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span>News & updates</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span>User-generated content</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Brand Voice & Tone</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Professional</option>
                                    <option>Friendly & Casual</option>
                                    <option>Inspirational</option>
                                    <option>Humorous</option>
                                    <option>Educational</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 3: Posting Schedule -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="calendar-clock" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Posting Schedule <span class="text-red-500 text-sm">Required</span></h2>
                        <p class="text-slate-600 mb-6">How often should we post on your behalf?</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Posting Frequency</label>
                                <div class="grid grid-cols-2 gap-3">
                                    <label class="cursor-pointer">
                                        <input type="radio" name="frequency" value="daily" class="hidden peer">
                                        <div class="border-2 border-slate-200 peer-checked:border-orange-500 peer-checked:bg-orange-50 rounded-lg p-4 transition-all text-center">
                                            <div class="font-semibold text-slate-900">Daily</div>
                                            <div class="text-xs text-slate-600">1 post per day</div>
                                        </div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="frequency" value="3-week" class="hidden peer">
                                        <div class="border-2 border-orange-500 bg-orange-50 rounded-lg p-4 transition-all text-center">
                                            <div class="font-semibold text-slate-900">3x per week</div>
                                            <div class="text-xs text-slate-600">Mon, Wed, Fri</div>
                                        </div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="frequency" value="weekly" class="hidden peer">
                                        <div class="border-2 border-slate-200 peer-checked:border-orange-500 peer-checked:bg-orange-50 rounded-lg p-4 transition-all text-center">
                                            <div class="font-semibold text-slate-900">Weekly</div>
                                            <div class="text-xs text-slate-600">1 post per week</div>
                                        </div>
                                    </label>
                                    <label class="cursor-pointer">
                                        <input type="radio" name="frequency" value="custom" class="hidden peer">
                                        <div class="border-2 border-slate-200 peer-checked:border-orange-500 peer-checked:bg-orange-50 rounded-lg p-4 transition-all text-center">
                                            <div class="font-semibold text-slate-900">Custom</div>
                                            <div class="text-xs text-slate-600">Set your own</div>
                                        </div>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Best Time to Post</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg mb-2">
                                    <option>Let AI optimize posting times</option>
                                    <option>Morning (8am - 12pm)</option>
                                    <option>Afternoon (12pm - 5pm)</option>
                                    <option>Evening (5pm - 9pm)</option>
                                    <option>Custom times</option>
                                </select>
                                <p class="text-xs text-slate-500">AI will analyze your audience engagement patterns</p>
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Require approval before posting</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 4: Content Generation -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="sparkles" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">AI Content Generation</h2>
                        <p class="text-slate-600 mb-6">Help AI create relevant content for your business</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Key Topics & Themes</label>
                                <textarea rows="3" placeholder="E.g., home improvement tips, seasonal promotions, customer success stories..." class="w-full px-4 py-3 border border-slate-300 rounded-lg"></textarea>
                                <p class="text-xs text-slate-500 mt-1">Separate topics with commas</p>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Hashtag Strategy</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-3">
                                        <input type="radio" name="hashtags" value="auto" checked>
                                        <span class="text-sm">Let AI suggest relevant hashtags</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="radio" name="hashtags" value="custom">
                                        <span class="text-sm">Use my custom hashtags only</span>
                                    </label>
                                </div>
                                <input type="text" placeholder="#yourbrand #industry #relevant" class="w-full px-4 py-2 border border-slate-300 rounded-lg mt-2">
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" checked class="w-5 h-5 rounded">
                                    <span class="text-sm">Include call-to-action in posts</span>
                                </label>
                            </div>

                            <div>
                                <label class="flex items-center gap-3">
                                    <input type="checkbox" class="w-5 h-5 rounded">
                                    <span class="text-sm">Generate image suggestions with AI</span>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 5: Engagement Settings -->
            <div class="bg-white rounded-xl p-8 mb-6 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="heart" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Engagement Settings</h2>
                        <p class="text-slate-600 mb-6">How should AI handle interactions?</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Auto-respond to comments</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Thank users for positive comments</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Answer simple questions</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span class="text-sm">Direct complaints to support team</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Notification Settings</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Notify me of all interactions</option>
                                    <option>Only important mentions and messages</option>
                                    <option>Daily summary only</option>
                                    <option>Weekly summary only</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Alert me when:</label>
                                <div class="space-y-2">
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Negative sentiment detected</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Post reaches high engagement</span>
                                    </label>
                                    <label class="flex items-center gap-3">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span class="text-sm">Competitor mentioned</span>
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section 6: Analytics & Reporting -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="bar-chart" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Analytics & Reporting</h2>
                        <p class="text-slate-600 mb-6">Track your social media performance</p>

                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Report Frequency</label>
                                <select class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                                    <option>Weekly performance reports</option>
                                    <option>Bi-weekly reports</option>
                                    <option>Monthly reports</option>
                                    <option>No automated reports</option>
                                </select>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-3">Metrics to track</label>
                                <div class="grid grid-cols-2 gap-2">
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Engagement rate</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Follower growth</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" checked class="w-5 h-5 rounded">
                                        <span class="text-sm">Reach & impressions</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span class="text-sm">Click-through rate</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span class="text-sm">Best performing content</span>
                                    </label>
                                    <label class="flex items-center gap-2">
                                        <input type="checkbox" class="w-5 h-5 rounded">
                                        <span class="text-sm">Audience demographics</span>
                                    </label>
                                </div>
                            </div>

                            <div>
                                <label class="block text-sm font-semibold text-slate-700 mb-2">Send reports to:</label>
                                <input type="email" placeholder="your@email.com" class="w-full px-4 py-2 border border-slate-300 rounded-lg">
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Section: Test Social Media Setup -->
            <div class="bg-white rounded-xl p-8 mb-8 shadow-sm border-2 border-orange-200">
                <div class="flex items-start gap-3 mb-6">
                    <i data-lucide="share-2" class="w-6 h-6 text-orange-600 mt-1"></i>
                    <div class="flex-1">
                        <h2 class="text-xl font-bold text-slate-900 mb-2">Review First AI-Generated Post</h2>
                        <p class="text-slate-600 mb-6">Approve or edit your first social media post</p>

                        <div class="space-y-4">
                            <div class="p-4 bg-orange-50 border border-orange-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center text-white font-bold">1</div>
                                    <span class="font-semibold text-orange-900">Generate test post</span>
                                </div>
                                <button onclick="generateTestSocialPost()" class="px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-all text-sm">
                                    Create Sample Post
                                </button>
                                <div id="test-post-display" class="hidden mt-3 p-4 bg-white border border-orange-300 rounded-lg">
                                    <div class="flex items-center gap-2 mb-2">
                                        <i data-lucide="instagram" class="w-4 h-4 text-pink-600"></i>
                                        <i data-lucide="facebook" class="w-4 h-4 text-blue-600"></i>
                                        <span class="text-xs text-slate-600">Posting to 2 platforms</span>
                                    </div>
                                    <p class="text-sm text-slate-900 mb-2">"ðŸŽ‰ Excited to announce we're now open for business! Visit us today and experience top-quality service. #GrandOpening #NewBusiness"</p>
                                    <div class="flex gap-2 mt-3">
                                        <button class="px-3 py-1 bg-green-500 text-white rounded text-sm hover:bg-green-600">Approve</button>
                                        <button class="px-3 py-1 bg-blue-500 text-white rounded text-sm hover:bg-blue-600">Edit</button>
                                        <button class="px-3 py-1 bg-red-500 text-white rounded text-sm hover:bg-red-600">Reject</button>
                                    </div>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">2</div>
                                    <span class="font-semibold text-slate-900">Review content quality</span>
                                </div>
                                <div class="ml-11 text-sm text-slate-600 space-y-1">
                                    <p>â€¢ Does the tone match your brand voice?</p>
                                    <p>â€¢ Are hashtags relevant and appropriate?</p>
                                    <p>â€¢ Is the message clear and engaging?</p>
                                </div>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">3</div>
                                    <span class="font-semibold text-slate-900">Verify connected accounts</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Ensure all social platforms show as connected and ready</p>
                            </div>

                            <div class="p-4 bg-slate-50 border border-slate-200 rounded-lg">
                                <div class="flex items-center gap-3 mb-2">
                                    <div class="w-8 h-8 bg-slate-400 rounded-full flex items-center justify-center text-white font-bold">4</div>
                                    <span class="font-semibold text-slate-900">Check posting schedule</span>
                                </div>
                                <p class="text-sm text-slate-600 ml-11">Review your content calendar for the next 7 days</p>
                            </div>

                            <label class="flex items-start gap-3 p-4 border-2 border-slate-200 rounded-lg">
                                <input type="checkbox" class="w-5 h-5 rounded mt-1">
                                <div class="flex-1">
                                    <div class="font-semibold text-slate-900">I have reviewed and approved the AI-generated content</div>
                                    <div class="text-sm text-slate-600">Content quality, brand voice, and posting schedule are correct</div>
                                </div>
                            </label>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Continue Button -->
            <div class="flex gap-4">
                <button onclick="skipToNext()" class="px-6 py-3 text-slate-600 hover:text-slate-900">Skip this tool</button>
                <button onclick="continueToDeployment()" class="flex-1 px-8 py-4 bg-orange-500 text-white rounded-lg font-bold hover:bg-orange-600 transition-all">
                    Continue to Deployment
                </button>
            </div>
        </div>
    </div>

    <!-- DEPLOYMENT SCREEN -->
    <div id="screen-deployment" class="screen bg-white min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-16 text-center">
            <div class="mb-8">
                <div class="w-20 h-20 bg-gradient-to-br from-cyan-500 to-blue-500 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <i data-lucide="rocket" class="w-10 h-10 text-white"></i>
                </div>
                <h1 class="text-4xl font-bold text-slate-900 mb-4">Ready to Deploy!</h1>
                <p class="text-xl text-slate-600">Your AI tools are configured and ready to go live</p>
            </div>

            <div class="bg-slate-50 rounded-xl p-8 mb-8 text-left max-w-2xl mx-auto">
                <h2 class="text-lg font-bold text-slate-900 mb-4">Tools Being Deployed:</h2>
                <div id="deployment-tool-list" class="space-y-3">
                    <!-- Will be populated by JavaScript -->
                </div>
            </div>

            <button onclick="deployAllTools()" id="deploy-button" class="px-12 py-5 bg-gradient-to-r from-cyan-500 to-blue-500 text-white text-xl font-bold rounded-lg hover:from-cyan-600 hover:to-blue-600 transition-all shadow-lg mb-4">
                ðŸš€ Deploy All AI Tools
            </button>
            
            <p class="text-slate-500 text-sm">This will take about 30 seconds</p>

            <!-- Deployment Progress (hidden initially) -->
            <div id="deployment-progress" class="hidden mt-8">
                <div class="max-w-md mx-auto">
                    <div class="space-y-4">
                        <div class="flex items-center gap-3">
                            <div class="w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                <i data-lucide="check" class="w-5 h-5 text-white"></i>
                            </div>
                            <span class="text-slate-700">Setting up infrastructure...</span>
                        </div>
                        <div class="flex items-center gap-3" id="deploy-step-2">
                            <div class="w-8 h-8 border-4 border-cyan-500 border-t-transparent rounded-full animate-spin"></div>
                            <span class="text-slate-700">Deploying AI models...</span>
                        </div>
                        <div class="flex items-center gap-3 opacity-50">
                            <div class="w-8 h-8 bg-slate-300 rounded-full"></div>
                            <span class="text-slate-500">Finalizing configuration...</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SUCCESS SCREEN -->
    <div id="screen-success-deployment" class="screen bg-white min-h-screen">
        <div class="max-w-4xl mx-auto px-6 py-16 text-center">
            <div class="mb-8">
                <div class="w-20 h-20 bg-green-500 rounded-full mx-auto mb-6 flex items-center justify-center animate-bounce">
                    <i data-lucide="check" class="w-10 h-10 text-white"></i>
                </div>
                <h1 class="text-5xl font-bold text-slate-900 mb-4">ðŸŽ‰ All Tools Are Live!</h1>
                <p class="text-xl text-slate-600 mb-8">Your AI-powered business is now operational</p>
            </div>

            <div class="bg-gradient-to-br from-cyan-50 to-blue-50 border-2 border-cyan-200 rounded-xl p-8 mb-8 max-w-2xl mx-auto">
                <h2 class="text-lg font-bold text-slate-900 mb-4">What's Next?</h2>
                <div class="space-y-3 text-left">
                    <div class="flex items-center gap-3">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                        <span class="text-slate-700">Check your email for setup instructions</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                        <span class="text-slate-700">Review your dashboard for real-time analytics</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <i data-lucide="check-circle" class="w-5 h-5 text-green-600"></i>
                        <span class="text-slate-700">Test each AI tool to ensure it's working</span>
                    </div>
                </div>
            </div>

            <button onclick="goToDashboard()" class="px-12 py-5 bg-cyan-500 text-white text-xl font-bold rounded-lg hover:bg-cyan-600 transition-all mb-4">
                View Dashboard
            </button>
        </div>
    </div>
    <!-- ========================================
         SCREEN 6: MANAGEMENT DASHBOARD
         ======================================== -->
    <div id="screen-dashboard" class="screen">
        <!-- Top Navigation Bar -->
        <header class="bg-slate-900 border-b border-slate-800 sticky top-0 z-50">
            <div class="max-w-7xl mx-auto px-8 h-16 flex justify-between items-center">
                <!-- Logo -->
                <div class="text-xl font-bold text-white">NexusAI</div>

                <!-- Navigation Menu -->
                <nav class="hidden md:flex gap-8">
                    <a href="#" onclick="event.preventDefault(); switchDashboardSection('overview')" id="nav-overview" class="text-cyan-400 font-medium border-b-2 border-cyan-500 pb-1">Dashboard</a>
                    <a href="#" onclick="event.preventDefault(); switchDashboardSection('tools')" id="nav-tools" class="text-slate-400 font-medium hover:text-slate-300 transition-all">AI Tools</a>
                    <a href="#" onclick="event.preventDefault(); switchDashboardSection('analytics')" id="nav-analytics" class="text-slate-400 font-medium hover:text-slate-300 transition-all">Analytics</a>
                    <a href="#" onclick="event.preventDefault(); switchDashboardSection('settings')" id="nav-settings" class="text-slate-400 font-medium hover:text-slate-300 transition-all">Settings</a>
                    <a href="#" onclick="event.preventDefault(); switchDashboardSection('billing')" id="nav-billing" class="text-slate-400 font-medium hover:text-slate-300 transition-all">Billing</a>
                </nav>

                <!-- User Avatar -->
                <div class="flex items-center gap-2 cursor-pointer" onclick="switchDashboardSection('settings')">
                    <div class="w-10 h-10 rounded-full bg-slate-700 flex items-center justify-center">
                        <span class="text-white text-sm font-semibold">JD</span>
                    </div>
                    <i data-lucide="chevron-down" class="w-4 h-4 text-slate-400"></i>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="bg-slate-950 min-h-screen">
            <div class="max-w-7xl mx-auto px-8 py-12">
                <!-- OVERVIEW SECTION -->
                <div id="dashboard-section-overview" class="dashboard-section">
                <!-- Section 1: Quick Stats Row -->
                <div class="mb-12 fade-in">
                    <h2 class="text-3xl font-bold text-white mb-6">Overview</h2>

                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
                        <!-- Card 1: Active Tools -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 hover:scale-105 transition-all duration-300 fade-in" style="animation-delay: 0ms;">
                            <div class="w-12 h-12 rounded-full bg-cyan-500/10 flex items-center justify-center mb-4 transform transition-transform hover:scale-110">
                                <i data-lucide="grid-3x3" class="w-8 h-8 text-cyan-400"></i>
                            </div>
                            <div class="text-4xl font-bold text-white mb-2" id="dashboard-tool-count">4</div>
                            <div class="text-slate-400 text-sm mb-3">Active AI Tools</div>
                            <div class="flex items-center gap-2">
                                <div class="w-2 h-2 rounded-full bg-emerald-500 pulse-animation"></div>
                                <span class="text-emerald-400 text-xs">All systems operational</span>
                            </div>
                        </div>

                        <!-- Card 2: Tasks Automated -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 hover:scale-105 transition-all duration-300 fade-in" style="animation-delay: 100ms;">
                            <div class="w-12 h-12 rounded-full bg-blue-500/10 flex items-center justify-center mb-4 transform transition-transform hover:scale-110">
                                <i data-lucide="zap" class="w-8 h-8 text-blue-400"></i>
                            </div>
                            <div class="text-4xl font-bold text-white mb-2" id="dashboard-tasks-automated">448</div>
                            <div class="text-slate-400 text-sm mb-3">Tasks Automated Today</div>
                            <div class="flex items-center gap-2">
                                <i data-lucide="trending-up" class="w-4 h-4 text-green-400"></i>
                                <span class="text-slate-400 text-xs">+28% vs yesterday</span>
                            </div>
                        </div>

                        <!-- Card 3: Estimated Savings -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 hover:scale-105 transition-all duration-300 fade-in" style="animation-delay: 200ms;">
                            <div class="w-12 h-12 rounded-full bg-emerald-500/10 flex items-center justify-center mb-4 transform transition-transform hover:scale-110">
                                <i data-lucide="dollar-sign" class="w-8 h-8 text-emerald-400"></i>
                            </div>
                            <div class="text-4xl font-bold text-white mb-2" id="dashboard-monthly-savings">$4,075</div>
                            <div class="text-slate-400 text-sm mb-3">Est. Monthly Savings</div>
                            <div class="text-slate-500 text-xs italic">vs hiring staff â€¢ $48,900/year</div>
                        </div>

                        <!-- Card 4: Subscription Status -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 hover:scale-105 transition-all duration-300 fade-in" style="animation-delay: 300ms;">
                            <div class="w-12 h-12 rounded-full bg-purple-500/10 flex items-center justify-center mb-4 transform transition-transform hover:scale-110">
                                <i data-lucide="credit-card" class="w-8 h-8 text-purple-400"></i>
                            </div>
                            <div class="text-lg font-bold text-white mb-1">Professional Plan</div>
                            <div class="text-slate-300 mb-3" id="dashboard-subscription-price">$399/month</div>
                            <a href="#" onclick="event.preventDefault(); switchDashboardSection('billing')" class="text-cyan-400 text-sm hover:text-cyan-300 transition-colors duration-200">Manage billing â†’</a>
                        </div>
                    </div>
                </div>

                <!-- Section 2: AI Tools Grid -->
                <div class="mb-12 fade-in" style="animation-delay: 400ms;">
                    <h2 class="text-2xl font-bold text-white mb-6">Your AI Tools</h2>

                    <div id="dashboard-tools-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <!-- Tool cards will be rendered by JavaScript -->
                    </div>
                </div>

                <!-- Section 3: Recent Activity Feed -->
                <div class="mb-12 fade-in" style="animation-delay: 500ms;">
                    <h2 class="text-2xl font-bold text-white mb-6">Recent Activity</h2>

                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 max-w-4xl hover:border-cyan-500/20 transition-all duration-300">
                        <div id="dashboard-activity-feed" class="space-y-4">
                            <!-- Activity items will be rendered by JavaScript -->
                        </div>

                        <div class="text-center mt-6 pt-6 border-t border-slate-700">
                            <a href="#" onclick="event.preventDefault(); showAllActivity()" class="text-cyan-400 text-sm hover:text-cyan-300 transition-colors duration-200">View all activity â†’</a>
                        </div>
                    </div>
                </div>

                <!-- Section 4: Quick Actions Bar -->
                <div class="mb-12 fade-in" style="animation-delay: 600ms;">
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/20 transition-all duration-300">
                        <h3 class="text-lg font-bold text-white mb-4">Quick Actions</h3>

                        <div class="flex flex-wrap gap-3">
                            <button onclick="switchDashboardSection('tools')" class="inline-flex items-center gap-2 bg-slate-900 border border-slate-700 rounded-lg px-5 py-3 hover:border-cyan-500/50 hover:bg-slate-800 hover:scale-105 transition-all duration-200">
                                <i data-lucide="plus" class="w-5 h-5 text-cyan-400"></i>
                                <span class="text-white text-sm font-medium">Add New Tool</span>
                            </button>

                            <button onclick="switchDashboardSection('analytics')" class="inline-flex items-center gap-2 bg-slate-900 border border-slate-700 rounded-lg px-5 py-3 hover:border-cyan-500/50 hover:bg-slate-800 hover:scale-105 transition-all duration-200">
                                <i data-lucide="bar-chart-2" class="w-5 h-5 text-blue-400"></i>
                                <span class="text-white text-sm font-medium">View Analytics</span>
                            </button>

                            <button onclick="switchDashboardSection('settings')" class="inline-flex items-center gap-2 bg-slate-900 border border-slate-700 rounded-lg px-5 py-3 hover:border-cyan-500/50 hover:bg-slate-800 hover:scale-105 transition-all duration-200">
                                <i data-lucide="settings" class="w-5 h-5 text-purple-400"></i>
                                <span class="text-white text-sm font-medium">Update Settings</span>
                            </button>

                            <button onclick="showSupportInfo()" class="inline-flex items-center gap-2 bg-slate-900 border border-slate-700 rounded-lg px-5 py-3 hover:border-cyan-500/50 hover:bg-slate-800 hover:scale-105 transition-all duration-200">
                                <i data-lucide="message-circle" class="w-5 h-5 text-green-400"></i>
                                <span class="text-white text-sm font-medium">Contact Support</span>
                            </button>
                        </div>
                    </div>
                </div>
                </div>
                <!-- END OVERVIEW SECTION -->

                <!-- AI TOOLS SECTION -->
                <div id="dashboard-section-tools" class="dashboard-section" style="display: none;">
                    <h2 class="text-3xl font-bold text-white mb-6">AI Tools Management</h2>

                    <!-- All Available Tools -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4">Your Active Tools</h3>
                        <div id="tools-section-active-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12">
                            <!-- Active tools will be rendered here -->
                        </div>
                    </div>

                    <!-- Available Tools -->
                    <div class="mb-8">
                        <h3 class="text-xl font-semibold text-white mb-4">Available to Add</h3>
                        <div id="tools-section-available-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                            <!-- Available tools will be rendered here -->
                        </div>
                    </div>
                </div>
                <!-- END AI TOOLS SECTION -->

                <!-- ANALYTICS SECTION -->
                <div id="dashboard-section-analytics" class="dashboard-section" style="display: none;">
                    <h2 class="text-3xl font-bold text-white mb-6">Analytics & Insights</h2>

                    <!-- Time Period Selector -->
                    <div class="flex gap-3 mb-8" id="time-period-selector">
                        <button onclick="changeTimePeriod(7)" data-period="7" class="px-4 py-2 bg-cyan-500 text-white text-sm font-medium rounded-lg time-period-btn">Last 7 Days</button>
                        <button onclick="changeTimePeriod(30)" data-period="30" class="px-4 py-2 bg-slate-800 border border-slate-700 text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-700 transition-all time-period-btn">Last 30 Days</button>
                        <button onclick="changeTimePeriod(90)" data-period="90" class="px-4 py-2 bg-slate-800 border border-slate-700 text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-700 transition-all time-period-btn">Last 90 Days</button>
                    </div>

                    <!-- Tool Tabs Navigation -->
                    <div class="mb-8">
                        <div id="analytics-tool-tabs" class="flex gap-2 border-b border-slate-700 overflow-x-auto">
                            <!-- Tabs will be rendered here -->
                        </div>
                    </div>

                    <!-- Tool Analytics Content -->
                    <div id="analytics-tool-content">
                        <!-- Content for each tool will be rendered here -->
                    </div>
                </div>
                <!-- END ANALYTICS SECTION -->

                <!-- SETTINGS SECTION -->
                <div id="dashboard-section-settings" class="dashboard-section" style="display: none;">
                    <h2 class="text-3xl font-bold text-white mb-6">Settings</h2>

                    <div class="grid md:grid-cols-2 gap-8">
                        <!-- Business Information -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                            <h3 class="text-xl font-semibold text-white mb-6">Business Information</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Business Name</label>
                                    <input type="text" id="settings-business-name" class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none" placeholder="Your Business Name">
                                </div>
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Industry</label>
                                    <select id="settings-industry" class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none">
                                        <option>Restaurant / Food Service</option>
                                        <option>Home Services</option>
                                        <option>Retail / E-commerce</option>
                                        <option>Professional Services</option>
                                        <option>Health & Wellness</option>
                                        <option>Other</option>
                                    </select>
                                </div>
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Phone Number</label>
                                    <input type="tel" id="settings-phone" class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none" placeholder="(555) 123-4567">
                                </div>
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Website</label>
                                    <input type="url" id="settings-website" class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none" placeholder="https://yourwebsite.com">
                                </div>
                                <button onclick="saveBusinessSettings()" class="w-full px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold mt-4">
                                    Save Changes
                                </button>
                            </div>
                        </div>

                        <!-- Account Settings -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                            <h3 class="text-xl font-semibold text-white mb-6">Account Settings</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Email Address</label>
                                    <input type="email" class="w-full bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg focus:border-cyan-500 focus:outline-none" value="john@business.com" readonly>
                                </div>
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">Password</label>
                                    <button onclick="showPasswordChange()" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 text-slate-300 text-left rounded-lg hover:bg-slate-800 transition-all">
                                        Change Password
                                    </button>
                                </div>
                                <div class="pt-4 border-t border-slate-700">
                                    <h4 class="text-white font-semibold mb-3">Notifications</h4>
                                    <div class="space-y-3">
                                        <label class="flex items-center justify-between cursor-pointer">
                                            <span class="text-slate-300">Email notifications</span>
                                            <input type="checkbox" checked class="w-5 h-5 text-cyan-500">
                                        </label>
                                        <label class="flex items-center justify-between cursor-pointer">
                                            <span class="text-slate-300">SMS alerts</span>
                                            <input type="checkbox" checked class="w-5 h-5 text-cyan-500">
                                        </label>
                                        <label class="flex items-center justify-between cursor-pointer">
                                            <span class="text-slate-300">Weekly reports</span>
                                            <input type="checkbox" class="w-5 h-5 text-cyan-500">
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- API Settings -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                            <h3 class="text-xl font-semibold text-white mb-6">API & Integrations</h3>
                            <div class="space-y-4">
                                <div>
                                    <label class="block text-slate-300 text-sm font-medium mb-2">API Key</label>
                                    <div class="flex gap-2">
                                        <input type="password" id="api-key-input" value="sk_live_123456789" class="flex-1 bg-slate-900 border border-slate-700 text-white px-4 py-3 rounded-lg" readonly>
                                        <button onclick="copyApiKey()" class="px-4 py-3 bg-slate-900 border border-slate-700 text-slate-300 rounded-lg hover:bg-slate-800 transition-all">
                                            <i data-lucide="copy" class="w-4 h-4"></i>
                                        </button>
                                    </div>
                                </div>
                                <button onclick="regenerateApiKey()" class="w-full px-4 py-3 bg-slate-900 border border-slate-700 text-slate-300 rounded-lg hover:bg-slate-800 transition-all">
                                    Regenerate API Key
                                </button>
                                <div class="pt-4 border-t border-slate-700">
                                    <h4 class="text-white font-semibold mb-3">Connected Integrations</h4>
                                    <div class="space-y-2">
                                        <div class="flex items-center justify-between p-3 bg-slate-900 rounded-lg">
                                            <div class="flex items-center gap-3">
                                                <div class="w-8 h-8 bg-green-500/10 rounded flex items-center justify-center">
                                                    <i data-lucide="check" class="w-4 h-4 text-green-500"></i>
                                                </div>
                                                <span class="text-slate-300">Google Calendar</span>
                                            </div>
                                            <span class="text-emerald-400 text-sm">Connected</span>
                                        </div>
                                        <div class="flex items-center justify-between p-3 bg-slate-900 rounded-lg">
                                            <div class="flex items-center gap-3">
                                                <div class="w-8 h-8 bg-slate-700 rounded flex items-center justify-center">
                                                    <i data-lucide="x" class="w-4 h-4 text-slate-500"></i>
                                                </div>
                                                <span class="text-slate-300">Zapier</span>
                                            </div>
                                            <button onclick="showToast('Zapier integration coming soon!')" class="text-cyan-400 text-sm hover:text-cyan-300">Connect</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Danger Zone -->
                        <div class="bg-slate-800 border border-red-900/30 rounded-xl p-8">
                            <h3 class="text-xl font-semibold text-red-400 mb-6">Danger Zone</h3>
                            <div class="space-y-4">
                                <div>
                                    <h4 class="text-white font-medium mb-2">Export Data</h4>
                                    <p class="text-slate-400 text-sm mb-3">Download all your business data and analytics</p>
                                    <button onclick="exportData()" class="px-4 py-2 bg-slate-900 border border-slate-700 text-slate-300 rounded-lg hover:bg-slate-800 transition-all text-sm">
                                        Export All Data
                                    </button>
                                </div>
                                <div class="pt-4 border-t border-slate-700">
                                    <h4 class="text-red-400 font-medium mb-2">Delete Account</h4>
                                    <p class="text-slate-400 text-sm mb-3">Permanently delete your account and all data</p>
                                    <button onclick="confirmDeleteAccount()" class="px-4 py-2 bg-red-500/10 border border-red-500/50 text-red-400 rounded-lg hover:bg-red-500/20 transition-all text-sm">
                                        Delete Account
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- END SETTINGS SECTION -->

                <!-- BILLING SECTION -->
                <div id="dashboard-section-billing" class="dashboard-section" style="display: none;">
                    <h2 class="text-3xl font-bold text-white mb-6">Billing & Subscription</h2>

                    <div class="grid md:grid-cols-3 gap-8 mb-8">
                        <!-- Current Plan -->
                        <div class="md:col-span-2 bg-slate-800 border border-slate-700 rounded-xl p-8">
                            <div class="flex justify-between items-start mb-6">
                                <div>
                                    <h3 class="text-2xl font-bold text-white mb-2" id="billing-plan-name">Professional Plan</h3>
                                    <p class="text-slate-400" id="billing-plan-description">Custom Ã  la carte selection</p>
                                </div>
                                <div class="text-right">
                                    <div class="text-3xl font-bold text-white" id="billing-total">$0</div>
                                    <div class="text-slate-400">/month</div>
                                </div>
                            </div>

                            <div class="space-y-3 mb-6">
                                <div id="billing-tools-list" class="space-y-2">
                                    <!-- Selected tools will be listed here -->
                                </div>
                            </div>

                            <div class="flex gap-3">
                                <button onclick="switchDashboardSection('tools')" class="px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold">
                                    Manage Tools
                                </button>
                                <button onclick="confirmCancelSubscription()" class="px-6 py-3 bg-slate-900 border border-slate-700 text-slate-300 rounded-lg hover:bg-slate-800 transition-all font-semibold">
                                    Cancel Subscription
                                </button>
                            </div>
                        </div>

                        <!-- Payment Method -->
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                            <h3 class="text-xl font-semibold text-white mb-6">Payment Method</h3>
                            <div class="bg-slate-900 rounded-lg p-4 mb-4">
                                <div class="flex items-center gap-3 mb-3">
                                    <div class="w-12 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded flex items-center justify-center">
                                        <i data-lucide="credit-card" class="w-5 h-5 text-white"></i>
                                    </div>
                                    <div>
                                        <div class="text-white font-medium">â€¢â€¢â€¢â€¢ 4242</div>
                                        <div class="text-slate-400 text-sm">Expires 12/25</div>
                                    </div>
                                </div>
                            </div>
                            <button onclick="updatePaymentMethod()" class="w-full px-4 py-2 bg-slate-900 border border-slate-700 text-slate-300 rounded-lg hover:bg-slate-800 transition-all text-sm">
                                Update Payment Method
                            </button>
                        </div>
                    </div>

                    <!-- Billing History -->
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-8">
                        <h3 class="text-xl font-semibold text-white mb-6">Billing History</h3>
                        <div class="overflow-x-auto">
                            <table class="w-full">
                                <thead>
                                    <tr class="border-b border-slate-700">
                                        <th class="text-left text-slate-400 font-medium pb-3">Date</th>
                                        <th class="text-left text-slate-400 font-medium pb-3">Description</th>
                                        <th class="text-left text-slate-400 font-medium pb-3">Amount</th>
                                        <th class="text-left text-slate-400 font-medium pb-3">Status</th>
                                        <th class="text-left text-slate-400 font-medium pb-3">Invoice</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="border-b border-slate-700">
                                        <td class="py-4 text-slate-300">Dec 1, 2024</td>
                                        <td class="py-4 text-slate-300">Monthly subscription</td>
                                        <td class="py-4 text-white font-semibold" id="billing-history-1">$0.00</td>
                                        <td class="py-4">
                                            <span class="px-2 py-1 bg-emerald-500/10 text-emerald-400 text-xs rounded">Paid</span>
                                        </td>
                                        <td class="py-4">
                                            <button onclick="downloadInvoice('Dec 2024')" class="text-cyan-400 hover:text-cyan-300 text-sm">Download</button>
                                        </td>
                                    </tr>
                                    <tr class="border-b border-slate-700">
                                        <td class="py-4 text-slate-300">Nov 1, 2024</td>
                                        <td class="py-4 text-slate-300">Monthly subscription</td>
                                        <td class="py-4 text-white font-semibold" id="billing-history-2">$0.00</td>
                                        <td class="py-4">
                                            <span class="px-2 py-1 bg-emerald-500/10 text-emerald-400 text-xs rounded">Paid</span>
                                        </td>
                                        <td class="py-4">
                                            <button onclick="downloadInvoice('Nov 2024')" class="text-cyan-400 hover:text-cyan-300 text-sm">Download</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="py-4 text-slate-300">Oct 1, 2024</td>
                                        <td class="py-4 text-slate-300">Monthly subscription</td>
                                        <td class="py-4 text-white font-semibold" id="billing-history-3">$0.00</td>
                                        <td class="py-4">
                                            <span class="px-2 py-1 bg-emerald-500/10 text-emerald-400 text-xs rounded">Paid</span>
                                        </td>
                                        <td class="py-4">
                                            <button onclick="downloadInvoice('Oct 2024')" class="text-cyan-400 hover:text-cyan-300 text-sm">Download</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                <!-- END BILLING SECTION -->
            </div>
        </main>

        <!-- Footer -->
        <footer class="bg-slate-900 border-t border-slate-800 py-8">
            <div class="max-w-7xl mx-auto px-8 text-center">
                <div class="text-slate-500 text-sm">NexusAI Dashboard</div>
                <div class="text-slate-600 text-xs mt-1">Enterprise AI for Small Business</div>
            </div>
        </footer>
    </div>

    <!-- Contact Sales Modal -->
    <div id="contact-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50" onclick="closeContactModal()">
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 max-w-md mx-4" onclick="event.stopPropagation()">
            <h3 class="text-2xl font-bold text-white mb-4">Contact Sales</h3>
            <p class="text-slate-300 mb-6">Get in touch with our sales team for Enterprise pricing and custom solutions.</p>
            <p class="text-cyan-400 mb-6">contact@nexusai.com</p>
            <button onclick="closeContactModal()" class="w-full px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold">
                Close
            </button>
        </div>
    </div>

    <!-- Tool Details Modal -->
    <div id="tool-details-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50 p-4" onclick="closeModal('tool-details-modal')">
        <div class="bg-white rounded-2xl p-8 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl" onclick="event.stopPropagation()">
            <div class="flex items-start justify-between mb-6">
                <div>
                    <h3 class="text-3xl font-bold text-slate-900 mb-2" id="modal-tool-name">Tool Details</h3>
                    <div class="flex items-center gap-2">
                        <span class="text-2xl font-bold text-cyan-500" id="modal-tool-price">$99/mo</span>
                        <span class="text-slate-600 text-sm">per month</span>
                    </div>
                </div>
                <button onclick="closeModal('tool-details-modal')" class="text-slate-400 hover:text-slate-600 transition-all">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>

            <p class="text-slate-700 mb-6 text-lg leading-relaxed" id="modal-tool-description">Tool description</p>

            <!-- Demo Preview Section -->
            <div class="mb-6 bg-slate-50 rounded-xl p-6 border-2 border-slate-200">
                <h4 class="text-lg font-semibold text-slate-900 mb-4 flex items-center gap-2">
                    <i data-lucide="eye" class="w-5 h-5 text-cyan-500"></i>
                    Live Demo Preview
                </h4>
                <div id="modal-tool-demo" class="bg-white rounded-lg border-2 border-slate-300 overflow-hidden">
                    <!-- Demo content will be populated by JavaScript -->
                </div>
            </div>

            <div class="mb-6">
                <h4 class="text-lg font-semibold text-slate-900 mb-3 flex items-center gap-2">
                    <i data-lucide="check-square" class="w-5 h-5 text-cyan-500"></i>
                    Key Features
                </h4>
                <div class="grid md:grid-cols-2 gap-3" id="modal-tool-features">
                    <!-- Features will be populated by JavaScript -->
                </div>
            </div>

            <div class="flex gap-3">
                <button onclick="closeModal('tool-details-modal')" class="flex-1 px-6 py-3 border-2 border-slate-300 text-slate-700 rounded-lg hover:bg-slate-50 transition-all font-semibold">
                    Close
                </button>
                <button onclick="closeModal('tool-details-modal'); configureTool(window.currentToolId);" class="flex-1 px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-600 transition-all font-semibold shadow-lg shadow-cyan-500/30">
                    Configure & Deploy
                </button>
            </div>
        </div>
    </div>

    <!-- Configure Tool Modal -->
    <div id="configure-tool-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50" onclick="closeModal('configure-tool-modal')">
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 max-w-2xl mx-4 max-h-[80vh] overflow-y-auto" onclick="event.stopPropagation()">
            <h3 class="text-2xl font-bold text-white mb-4" id="config-tool-name">Configure Tool</h3>
            <div class="bg-slate-900 rounded-lg p-6 mb-6">
                <div id="config-tool-settings" class="space-y-4">
                    <!-- Settings will be populated by JavaScript -->
                </div>
            </div>
            <div class="flex gap-3">
                <button onclick="closeModal('configure-tool-modal')" class="flex-1 px-6 py-3 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 transition-all font-semibold">
                    Cancel
                </button>
                <button onclick="saveToolConfig()" class="flex-1 px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold">
                    Save Changes
                </button>
            </div>
        </div>
    </div>

    <!-- Success Toast -->
    <div id="success-toast" class="fixed top-4 right-4 bg-emerald-500 text-white px-6 py-4 rounded-lg shadow-xl hidden z-50 fade-in">
        <div class="flex items-center gap-3">
            <i data-lucide="check-circle" class="w-5 h-5"></i>
            <span id="toast-message" class="font-medium">Success!</span>
        </div>
    </div>

    <!-- Confirmation Modal -->
    <div id="confirm-modal" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
        <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 max-w-md mx-4" onclick="event.stopPropagation()">
            <h3 class="text-2xl font-bold text-white mb-4" id="confirm-title">Confirm Action</h3>
            <p class="text-slate-300 mb-6" id="confirm-message">Are you sure you want to proceed?</p>
            <div class="flex gap-3">
                <button onclick="closeModal('confirm-modal')" class="flex-1 px-6 py-3 border border-slate-600 text-slate-300 rounded-lg hover:bg-slate-700 transition-all font-semibold">
                    Cancel
                </button>
                <button id="confirm-action-btn" class="flex-1 px-6 py-3 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all font-semibold">
                    Confirm
                </button>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // ========================================
        // DATA STRUCTURE
        // ========================================

        const TOOLS = [
            {
                id: 'receptionist',
                name: 'AI Receptionist',
                description: 'Answer calls 24/7, book appointments, never miss a lead',
                price: 119,
                icon: 'phone',
                category: 'customer',
                image: 'https://images.unsplash.com/photo-1600880292203-757bb62b4baf?w=400&h=300&fit=crop',
                features: [
                    'Natural voice conversations with customers',
                    'Automatic appointment booking and calendar sync',
                    'Call transcripts and lead capture',
                    'Multi-language support'
                ]
            },
            {
                id: 'website',
                name: 'AI Website Builder',
                description: 'Professional site in minutes, mobile optimized, SEO ready',
                price: 79,
                icon: 'globe',
                category: 'marketing',
                image: 'https://images.unsplash.com/photo-1467232004584-a241de8bcf5d?w=400&h=300&fit=crop',
                features: [
                    'AI-powered design customization',
                    'Mobile-responsive templates',
                    'Built-in SEO optimization',
                    'Easy drag-and-drop editing'
                ]
            },
            {
                id: 'booking',
                name: 'AI Booking System',
                description: 'Automated scheduling, calendar integration, reminder texts',
                price: 89,
                icon: 'calendar',
                category: 'operations',
                image: 'https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=400&h=300&fit=crop',
                features: [
                    'Smart scheduling with availability detection',
                    'Google Calendar & Outlook integration',
                    'Automated SMS and email reminders',
                    'Customer self-service booking portal'
                ]
            },
            {
                id: 'email',
                name: 'AI Email Assistant',
                description: 'Draft responses, organize inbox, follow-up automation',
                price: 99,
                icon: 'mail',
                category: 'customer',
                image: 'https://images.unsplash.com/photo-1557200134-90327ee9fafa?w=400&h=300&fit=crop',
                features: [
                    'Smart email categorization and prioritization',
                    'AI-drafted response suggestions',
                    'Automated follow-up sequences',
                    'Sentiment analysis and insights'
                ]
            },
            {
                id: 'chat',
                name: 'AI Customer Chat',
                description: 'Website chatbot, instant responses, lead capture',
                price: 92,
                icon: 'message-square',
                category: 'customer',
                image: 'https://images.unsplash.com/photo-1553775282-20af80779df7?w=400&h=300&fit=crop',
                features: [
                    '24/7 instant customer support',
                    'Lead qualification and capture',
                    'Integration with CRM systems',
                    'Custom knowledge base training'
                ]
            },
            {
                id: 'social',
                name: 'AI Social Media',
                description: 'Auto-post content, schedule posts, engagement tracking',
                price: 89,
                icon: 'megaphone',
                category: 'marketing',
                image: 'https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=400&h=300&fit=crop',
                features: [
                    'AI-generated content suggestions',
                    'Multi-platform scheduling',
                    'Engagement analytics and insights',
                    'Hashtag and timing optimization'
                ]
            }
        ];

        // ========================================
        // STATE MANAGEMENT
        // ========================================

        let appState = {
            selectedTools: [],
            businessInfo: {},
            currentScreen: 'hero',
            analyticsTimePeriod: 7, // Default to 7 days
            selectedPlan: null, // starter, professional, enterprise, or custom
            planDetails: {
                starter: { price: 199, maxTools: 2, name: 'Starter' },
                professional: { price: 399, maxTools: 4, name: 'Professional' },
                enterprise: { price: 699, maxTools: 6, name: 'Enterprise' },
                custom: { price: 0, maxTools: 6, name: 'Custom Package' }
            }
        };

        // Load state from localStorage on page load
        function loadState() {
            const saved = localStorage.getItem('nexusai-state');
            if (saved) {
                try {
                    const savedState = JSON.parse(saved);
                    // Merge saved state with default state to ensure all properties exist
                    appState = {
                        ...appState,
                        ...savedState,
                        // Ensure planDetails is always present
                        planDetails: appState.planDetails
                    };
                } catch (e) {
                    console.error('Failed to load state:', e);
                }
            }
        }

        // Save state to localStorage
        function saveState() {
            localStorage.setItem('nexusai-state', JSON.stringify(appState));
        }

        // Calculate total monthly cost of selected tools
        function calculateTotal() {
            let total = 0;
            appState.selectedTools.forEach(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (tool && tool.price) {
                    total += tool.price;
                }
            });
            return total;
        }

        // ========================================
        // NAVIGATION
        // ========================================

        function showScreen(screenName) {
            // Hide all screens
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });

            // Show selected screen
            const screen = document.getElementById(`screen-${screenName}`);
            if (screen) {
                screen.classList.add('active');
                appState.currentScreen = screenName;
                saveState();

                // Render screen-specific content
                if (screenName === 'tools') {
                    renderToolList();
                    updateToolSelectionUI();
                } else if (screenName === 'tool-selection') {
                    syncToolSelectionCheckboxes();
                } else if (screenName === 'config') {
                    populateConfigForm();
                } else if (screenName === 'review') {
                    renderReviewScreen();
                } else if (screenName === 'success') {
                    renderSuccessScreen();
                } else if (screenName === 'dashboard') {
                    renderDashboard();
                }

                // Re-initialize Lucide icons
                if (typeof lucide !== 'undefined') {
                    lucide.createIcons();
                }

                // Scroll to top when changing screens
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }
        }

        // Navigate to pricing page (from hero)
        function navigateToPricing() {
            showScreen('pricing');
        }

        function selectPlan(plan) {
            appState.selectedPlan = plan;
            // No tools are automatically selected
            appState.selectedTools = [];
            appState.setupProgress = {};
            saveState();
            showScreen('tool-selection');
        }

        function goToToolSelection() {
            appState.selectedPlan = 'custom';
            // No tools are automatically selected
            appState.selectedTools = [];
            appState.setupProgress = {};
            saveState();
            showScreen('tool-selection');
        }

        function goToConfiguration() {
            if (appState.selectedTools.length === 0) {
                alert('Please select at least one tool');
                return;
            }
            showScreen('config');
        }

        // ========================================
        // SETUP FLOW FUNCTIONS
        // ========================================

        function toggleToolSelection(toolId, event) {
            const checkbox = document.getElementById(`tool-check-${toolId}`);
            const isCurrentlyChecked = checkbox.checked;

            // If the checkbox itself was clicked, it's already toggled, so don't toggle again
            // Otherwise (if card was clicked), toggle the checkbox
            if (!event || event.target !== checkbox) {
                checkbox.checked = !checkbox.checked;
            }

            const index = appState.selectedTools.indexOf(toolId);
            const maxTools = appState.planDetails[appState.selectedPlan]?.maxTools || 6;

            // Check if trying to select a new tool
            if (checkbox.checked && index === -1) {
                // Check if limit is reached
                if (appState.selectedTools.length >= maxTools) {
                    // Prevent selection - revert checkbox
                    checkbox.checked = false;
                    alert(`You can only select ${maxTools} tools with the ${appState.planDetails[appState.selectedPlan]?.name || 'selected'} plan.`);
                    return;
                }
                appState.selectedTools.push(toolId);
            } else if (!checkbox.checked && index > -1) {
                // Unselecting a tool
                appState.selectedTools.splice(index, 1);
            }

            updateSelectionSummary();
            updateToolAvailability();
            saveState();
        }

        function updateToolAvailability() {
            const maxTools = appState.planDetails[appState.selectedPlan]?.maxTools || 6;
            const limitReached = appState.selectedTools.length >= maxTools;

            // Get all tool cards
            const allToolIds = ['receptionist', 'website', 'booking', 'email', 'chat', 'social'];

            allToolIds.forEach(toolId => {
                const checkbox = document.getElementById(`tool-check-${toolId}`);
                const toolCard = document.querySelector(`[data-tool-id="${toolId}"]`);
                const isSelected = appState.selectedTools.includes(toolId);

                if (toolCard && checkbox) {
                    if (limitReached && !isSelected) {
                        // Gray out unselected tools
                        toolCard.classList.add('opacity-40', 'pointer-events-none');
                        checkbox.disabled = true;
                    } else {
                        // Enable all tools when under limit or when tool is selected
                        toolCard.classList.remove('opacity-40', 'pointer-events-none');
                        checkbox.disabled = false;
                    }
                }
            });
        }

        function updateSelectionSummary() {
            const summary = document.getElementById('selection-summary');
            const btn = document.getElementById('continue-setup-btn');
            const maxTools = appState.planDetails[appState.selectedPlan]?.maxTools || 6;

            if (appState.selectedTools.length === 0) {
                summary.textContent = `Select up to ${maxTools} tools to get started`;
                btn.disabled = true;
            } else {
                const toolNames = appState.selectedTools.map(id => {
                    const tool = TOOLS.find(t => t.id === id);
                    return tool ? tool.name : '';
                }).join(', ');
                summary.textContent = `${appState.selectedTools.length} of ${maxTools} tools selected: ${toolNames}`;
                btn.disabled = false;
            }
        }

        function toggleToolExpandedLight(toolId, event) {
            // Prevent triggering when clicking checkbox
            if (event && event.target.closest('.flex-shrink-0:has(input[type="checkbox"])')) {
                return;
            }

            const expandedSection = document.getElementById(`expanded-${toolId}`);
            const arrow = document.getElementById(`arrow-${toolId}`);

            if (!expandedSection || !arrow) return;

            const isExpanded = expandedSection.classList.contains('expanded');

            if (isExpanded) {
                // Collapse
                expandedSection.classList.remove('expanded');
                arrow.classList.remove('rotated');
            } else {
                // Expand
                expandedSection.classList.add('expanded');
                arrow.classList.add('rotated');
            }

            // Re-initialize Lucide icons after DOM changes
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function syncToolSelectionCheckboxes() {
            // Sync all checkboxes with appState.selectedTools
            const allToolIds = ['receptionist', 'website', 'booking', 'email', 'chat', 'social'];

            allToolIds.forEach(toolId => {
                const checkbox = document.getElementById(`tool-check-${toolId}`);
                if (checkbox) {
                    checkbox.checked = appState.selectedTools.includes(toolId);
                }
            });

            // Update the summary and button state
            updateSelectionSummary();
            // Update tool availability based on plan limits
            updateToolAvailability();
        }

        function startSetupFlow() {
            if (appState.selectedTools.length === 0) {
                alert('Please select at least one tool');
                return;
            }

            appState.setupStep = 0;
            appState.setupProgress = {};
            saveState();

            // Only do setup for tools that have setup screens, in the correct order
            const toolsWithSetup = ['receptionist', 'booking', 'email', 'chat', 'website', 'social'];
            // Sort selected tools according to the order in toolsWithSetup
            const selectedToolsWithSetup = toolsWithSetup.filter(id => appState.selectedTools.includes(id));

            if (selectedToolsWithSetup.length === 0) {
                // No tools need setup, go straight to deployment
                continueToDeployment();
            } else {
                // Go to first selected tool's setup
                const firstTool = selectedToolsWithSetup[0];
                updateSetupProgress(firstTool, 1, selectedToolsWithSetup.length);
                showScreen(`setup-${firstTool}`);
            }
        }

        function continueToNextSetup() {
            // Only do setup for tools that have setup screens, in the correct order
            const toolsWithSetup = ['receptionist', 'booking', 'email', 'chat', 'website', 'social'];
            // Sort selected tools according to the order in toolsWithSetup
            const selectedToolsWithSetup = toolsWithSetup.filter(id => appState.selectedTools.includes(id));

            appState.setupStep = (appState.setupStep || 0) + 1;

            if (appState.setupStep < selectedToolsWithSetup.length) {
                const nextTool = selectedToolsWithSetup[appState.setupStep];
                updateSetupProgress(nextTool, appState.setupStep + 1, selectedToolsWithSetup.length);
                saveState();
                showScreen(`setup-${nextTool}`);
            } else {
                continueToDeployment();
            }
        }

        function updateSetupProgress(toolId, currentStep, totalSteps) {
            // Update the progress text for the current setup screen
            const progressSelectors = {
                'receptionist': 'receptionist-progress',
                'booking': 'booking-progress',
                'email': 'email-progress',
                'chat': 'chat-progress',
                'website': 'website-progress',
                'social': 'social-progress'
            };

            const progressElement = document.getElementById(progressSelectors[toolId]);
            if (progressElement) {
                progressElement.textContent = `Step ${currentStep} of ${totalSteps}`;
            }
        }

        function skipToNext() {
            continueToNextSetup();
        }

        function continueToDeployment() {
            populateDeploymentList();
            saveState();
            showScreen('deployment');
        }

        function populateDeploymentList() {
            const container = document.getElementById('deployment-tool-list');
            if (!container) return;

            container.innerHTML = appState.selectedTools.map(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return '';

                const icons = {
                    'receptionist': 'phone',
                    'booking': 'calendar',
                    'email': 'mail',
                    'chat': 'message-circle',
                    'website': 'globe',
                    'social': 'megaphone'
                };

                return `
                    <div class="flex items-center gap-3 p-4 bg-white border border-slate-200 rounded-lg">
                        <div class="w-10 h-10 bg-cyan-100 rounded-lg flex items-center justify-center">
                            <i data-lucide="${icons[toolId] || 'check'}" class="w-5 h-5 text-cyan-600"></i>
                        </div>
                        <div class="flex-1">
                            <div class="font-semibold text-slate-900">${tool.name}</div>
                            <div class="text-sm text-slate-600">Configured and ready</div>
                        </div>
                        <i data-lucide="check-circle" class="w-6 h-6 text-green-500"></i>
                    </div>
                `;
            }).join('');

            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function deployAllTools() {
            const btn = document.getElementById('deploy-button');
            btn.disabled = true;
            btn.innerHTML = 'Deploying...';

            document.getElementById('deployment-progress').classList.remove('hidden');

            // Simulate deployment
            setTimeout(() => {
                showScreen('success-deployment');
            }, 3000);
        }

        function goToDashboard() {
            showScreen('dashboard');
        }

        function saveDraftAndExit() {
            saveState();
            if (confirm('Save your progress and return to dashboard?')) {
                showScreen('dashboard');
            }
        }

        function updatePhoneOption(option) {
            if (option === 'existing') {
                document.getElementById('existing-phone').classList.remove('hidden');
                document.getElementById('new-phone-options').classList.add('hidden');
            } else {
                document.getElementById('existing-phone').classList.add('hidden');
                document.getElementById('new-phone-options').classList.remove('hidden');
            }
        }

        function generateGreeting() {
            const textarea = document.getElementById('greeting-message');
            textarea.value = "Thank you for calling! We're excited to help you today. How may I assist you?";
        }

        function toggleDayHours(selectElement, day) {
            const dayRow = document.querySelector(`.day-hours-row[data-day="${day}"]`);
            const hoursInputs = dayRow.querySelector('.hours-inputs');

            if (selectElement.value === 'closed') {
                hoursInputs.style.visibility = 'hidden';
                hoursInputs.style.opacity = '0.3';
            } else {
                hoursInputs.style.visibility = 'visible';
                hoursInputs.style.opacity = '1';
            }
        }

        function copyToAllWeekdays() {
            const mondayRow = document.querySelector('.day-hours-row[data-day="monday"]');
            const mondayOpenTime = mondayRow.querySelector('.open-time').value;
            const mondayCloseTime = mondayRow.querySelector('.close-time').value;
            const mondayStatus = mondayRow.querySelector('.day-status').value;

            const weekdays = ['tuesday', 'wednesday', 'thursday', 'friday'];

            weekdays.forEach(day => {
                const dayRow = document.querySelector(`.day-hours-row[data-day="${day}"]`);
                const openTimeInput = dayRow.querySelector('.open-time');
                const closeTimeInput = dayRow.querySelector('.close-time');
                const statusSelect = dayRow.querySelector('.day-status');

                openTimeInput.value = mondayOpenTime;
                closeTimeInput.value = mondayCloseTime;
                statusSelect.value = mondayStatus;

                // Trigger the toggle to update visibility
                toggleDayHours(statusSelect, day);
            });
        }

        function toggleBooking() {
            const enabled = document.getElementById('enable-booking').checked;
            const integration = document.getElementById('booking-integration');
            const label = document.getElementById('enable-booking-label');

            if (enabled) {
                integration.classList.remove('hidden');
                // Update border to cyan when checked
                label.classList.remove('border-slate-200');
                label.classList.add('border-cyan-500');
            } else {
                integration.classList.add('hidden');
                // Update border to gray when unchecked
                label.classList.remove('border-cyan-500');
                label.classList.add('border-slate-200');
            }
        }

        function connectCalendar(type) {
            // Mock OAuth connection
            document.getElementById('calendar-connected').classList.remove('hidden');
        }

        function addFAQ() {
            const faqList = document.getElementById('faq-list');

            // Create new FAQ item
            const faqItem = document.createElement('div');
            faqItem.className = 'faq-item p-4 border border-slate-200 rounded-lg';
            faqItem.innerHTML = `
                <div class="flex items-start justify-between gap-4">
                    <div class="flex-1">
                        <input type="text" placeholder="Question" class="w-full px-3 py-2 border border-slate-300 rounded-lg mb-2">
                        <textarea rows="2" placeholder="Answer" class="w-full px-3 py-2 border border-slate-300 rounded-lg"></textarea>
                    </div>
                    <button onclick="removeFAQ(this)" class="text-red-500 hover:text-red-700">
                        <i data-lucide="trash-2" class="w-5 h-5"></i>
                    </button>
                </div>
            `;

            faqList.appendChild(faqItem);

            // Re-initialize Lucide icons for the new trash icon
            if (window.lucide) {
                lucide.createIcons();
            }

            updateFAQCounter();
        }

        function removeFAQ(button) {
            const faqItem = button.closest('.faq-item');
            if (faqItem) {
                faqItem.remove();
                updateFAQCounter();
            }
        }

        function updateFAQCounter() {
            const faqItems = document.querySelectorAll('#faq-list .faq-item');
            const count = faqItems.length;
            const counter = document.getElementById('faq-counter');
            if (counter) {
                counter.textContent = `${count} FAQ${count !== 1 ? 's' : ''}`;
            }
        }

        // Test Your Setup Functions
        function generateTestNumber() {
            const display = document.getElementById('test-number-display');
            const button = event.target;

            // Generate a random test number
            const areaCode = Math.floor(Math.random() * 900) + 100;
            const prefix = Math.floor(Math.random() * 900) + 100;
            const lineNumber = Math.floor(Math.random() * 9000) + 1000;
            const testNumber = `(${areaCode}) ${prefix}-${lineNumber}`;

            // Update display
            const numberElement = display.querySelector('.text-2xl');
            if (numberElement) {
                numberElement.textContent = testNumber;
            }

            // Show the display
            display.classList.remove('hidden');

            // Update button text
            button.textContent = 'Generate New Number';
            button.classList.add('bg-cyan-600');
        }

        function copyTestNumber() {
            const numberElement = document.querySelector('#test-number-display .text-2xl');
            if (numberElement) {
                const number = numberElement.textContent;
                navigator.clipboard.writeText(number).then(() => {
                    const button = event.target;
                    const originalText = button.textContent;
                    button.textContent = 'Copied!';
                    button.classList.add('bg-green-500');
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.classList.remove('bg-green-500');
                    }, 2000);
                });
            }
        }

        function markStepComplete(stepNumber) {
            const step = document.getElementById(`test-step-${stepNumber}`);
            if (step) {
                const circle = step.querySelector('.w-8.h-8');
                const button = event.target;

                // Update circle styling
                circle.classList.remove('bg-slate-400');
                circle.classList.add('bg-green-500');

                // Update circle content to checkmark
                circle.innerHTML = 'âœ“';

                // Update button
                button.textContent = 'Completed âœ“';
                button.classList.add('bg-green-500', 'cursor-default');
                button.classList.remove('bg-cyan-500', 'hover:bg-cyan-600');
                button.disabled = true;
            }
        }

        // Booking System Functions
        function connectCalendarBooking(type) {
            const statusDiv = document.getElementById('calendar-sync-status');
            const buttons = document.querySelectorAll('#screen-setup-booking button[onclick^="connectCalendar"]');

            // Update status display
            const email = 'john@business.com';
            statusDiv.querySelector('p').textContent = `${email} - Syncing every 5 minutes`;
            statusDiv.classList.remove('hidden');

            // Update button states
            buttons.forEach(btn => {
                if (btn.getAttribute('onclick').includes(type)) {
                    btn.querySelector('span.text-sm').textContent = 'Connected âœ“';
                    btn.classList.add('border-green-500', 'bg-green-50');
                } else {
                    btn.querySelector('span.text-sm').textContent = 'Connect';
                    btn.classList.remove('border-green-500', 'bg-green-50');
                }
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function addAppointmentType() {
            const container = document.getElementById('appointment-types-list');

            const appointmentType = document.createElement('div');
            appointmentType.className = 'appointment-type-item p-4 border-2 border-slate-200 rounded-lg';
            appointmentType.innerHTML = `
                <div class="grid grid-cols-2 gap-4 mb-3">
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-1">Service Name</label>
                        <input type="text" placeholder="e.g., Consultation" class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-1">Duration</label>
                        <select class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                            <option>15 minutes</option>
                            <option selected>30 minutes</option>
                            <option>45 minutes</option>
                            <option>60 minutes</option>
                            <option>90 minutes</option>
                            <option>120 minutes</option>
                        </select>
                    </div>
                </div>
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-semibold text-slate-700 mb-1">Price (optional)</label>
                        <input type="text" placeholder="$0.00" class="w-full px-3 py-2 border border-slate-300 rounded-lg">
                    </div>
                    <div class="flex items-end">
                        <button onclick="removeAppointmentType(this)" class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                    </div>
                </div>
            `;

            container.appendChild(appointmentType);
        }

        function removeAppointmentType(button) {
            const item = button.closest('.appointment-type-item');
            if (item) {
                item.remove();
            }
        }

        function togglePayments() {
            const enabled = document.getElementById('enable-payments').checked;
            const options = document.getElementById('payment-options');
            const label = document.getElementById('enable-payments-label');

            if (enabled) {
                options.classList.remove('hidden');
                if (label) {
                    label.classList.remove('border-slate-200');
                    label.classList.add('border-orange-500');
                }
            } else {
                options.classList.add('hidden');
                if (label) {
                    label.classList.remove('border-orange-500');
                    label.classList.add('border-slate-200');
                }
            }
        }

        function connectStripe() {
            // Mock Stripe connection
            alert('Stripe connection would open OAuth flow in production');
        }

        function addTeamMember() {
            const container = document.getElementById('team-members-list');

            const teamMember = document.createElement('div');
            teamMember.className = 'team-member-item p-4 border-2 border-slate-200 rounded-lg';
            teamMember.innerHTML = `
                <div class="flex items-center justify-between mb-2">
                    <div class="flex items-center gap-3 flex-1">
                        <div class="w-10 h-10 bg-purple-100 rounded-full flex items-center justify-center">
                            <span class="font-semibold text-purple-600">NM</span>
                        </div>
                        <div class="flex-1">
                            <input type="text" placeholder="Name" class="w-full px-2 py-1 border border-slate-300 rounded text-sm font-semibold mb-1">
                            <input type="text" placeholder="Role" class="w-full px-2 py-1 border border-slate-300 rounded text-sm text-slate-600">
                        </div>
                    </div>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" checked class="w-5 h-5 rounded">
                        <span class="text-sm">Active</span>
                    </label>
                </div>
                <div class="text-sm text-slate-600 mb-2">Can handle: All appointment types</div>
                <button onclick="removeTeamMember(this)" class="text-red-500 hover:text-red-700 text-sm">Remove</button>
            `;

            container.appendChild(teamMember);
        }

        function removeTeamMember(button) {
            const item = button.closest('.team-member-item');
            if (item) {
                item.remove();
            }
        }

        function addCustomField() {
            const container = document.getElementById('custom-fields-list');

            const customField = document.createElement('div');
            customField.className = 'custom-field-item p-4 border-2 border-slate-200 rounded-lg';
            customField.innerHTML = `
                <div class="grid grid-cols-2 gap-4 mb-2">
                    <input type="text" placeholder="Field label" class="px-3 py-2 border border-slate-300 rounded-lg">
                    <select class="px-3 py-2 border border-slate-300 rounded-lg">
                        <option>Text input</option>
                        <option>Text area</option>
                        <option>Dropdown</option>
                        <option>Checkbox</option>
                    </select>
                </div>
                <div class="flex items-center gap-4">
                    <label class="flex items-center gap-2 text-sm">
                        <input type="checkbox" class="rounded">
                        Required
                    </label>
                    <button onclick="removeCustomField(this)" class="text-red-500 hover:text-red-700 text-sm">Remove</button>
                </div>
            `;

            container.appendChild(customField);
        }

        function removeCustomField(button) {
            const item = button.closest('.custom-field-item');
            if (item) {
                item.remove();
            }
        }

        function generateBookingLink() {
            const display = document.getElementById('booking-link-display');
            const button = event.target;

            // Show the display
            display.classList.remove('hidden');

            // Update button text
            button.textContent = 'Regenerate Link';
            button.classList.add('bg-orange-600');
        }

        function copyBookingLink() {
            const linkElement = document.querySelector('#booking-link-display .font-mono');
            if (linkElement) {
                const link = linkElement.textContent;
                navigator.clipboard.writeText(link).then(() => {
                    const button = event.target;
                    const originalText = button.textContent;
                    button.textContent = 'Copied!';
                    button.classList.add('bg-green-100', 'text-green-600');
                    button.classList.remove('bg-orange-100', 'text-orange-600');
                    setTimeout(() => {
                        button.textContent = originalText;
                        button.classList.remove('bg-green-100', 'text-green-600');
                        button.classList.add('bg-orange-100', 'text-orange-600');
                    }, 2000);
                });
            }
        }

        function markBookingStepComplete(stepNumber) {
            const steps = document.querySelectorAll('#screen-setup-booking .p-4.bg-slate-50');
            const step = steps[stepNumber - 2]; // -2 because step 1 is orange, steps 2-4 are slate

            if (step) {
                const circle = step.querySelector('.w-8.h-8');

                // Update circle styling
                circle.classList.remove('bg-slate-400');
                circle.classList.add('bg-green-500');

                // Update circle content to checkmark
                circle.innerHTML = 'âœ“';
            }
        }

        function goToReview() {
            if (!validateConfigForm()) {
                return;
            }
            saveBusinessInfo();
            showScreen('review');
        }

        function deployTools() {
            const btn = document.getElementById('deploy-btn');
            btn.disabled = true;
            btn.innerHTML = '<span class="spin-animation inline-block mr-2">â³</span> Deploying...';

            setTimeout(() => {
                showScreen('success');
            }, 2000);
        }

        function startOver() {
            if (confirm('Are you sure you want to start over? All your selections will be cleared.')) {
                appState = {
                    selectedTools: [],
                    businessInfo: {},
                    currentScreen: 'pricing',
                    analyticsTimePeriod: 7,
                    selectedPlan: null,
                    planDetails: {
                        starter: { price: 199, maxTools: 2, name: 'Starter' },
                        professional: { price: 399, maxTools: 4, name: 'Professional' },
                        enterprise: { price: 699, maxTools: 6, name: 'Enterprise' },
                        custom: { price: 0, maxTools: 6, name: 'Custom Package' }
                    }
                };
                saveState();
                showScreen('pricing');
            }
        }

        function goToDashboard() {
            showScreen('dashboard');
        }

        // ========================================
        // SCREEN 2: TOOL SELECTION
        // ========================================

        function renderToolList() {
            const container = document.getElementById('tool-list');
            container.innerHTML = '';

            // Check if we should show individual prices (only for custom plan)
            const showPrices = appState.selectedPlan === 'custom';

            TOOLS.forEach(tool => {
                const isSelected = appState.selectedTools.includes(tool.id);

                const toolCard = document.createElement('div');
                toolCard.className = 'bg-slate-800 border border-slate-700 rounded-lg p-6 cursor-pointer hover:border-cyan-500/30 hover:scale-[1.01] transition-all';
                toolCard.dataset.toolId = tool.id;

                if (isSelected) {
                    toolCard.classList.add('border-cyan-500', 'bg-slate-800/80');
                }

                toolCard.innerHTML = `
                    <div class="flex items-center gap-6">
                        <!-- Checkbox -->
                        <div class="custom-checkbox ${isSelected ? 'checked' : ''}" onclick="event.stopPropagation(); toggleToolSelection('${tool.id}')">
                            <i data-lucide="check" class="w-4 h-4"></i>
                        </div>

                        <!-- Icon -->
                        <div class="text-cyan-400">
                            <i data-lucide="${tool.icon}" class="w-8 h-8"></i>
                        </div>

                        <!-- Content -->
                        <div class="flex-1">
                            <h3 class="text-white text-lg font-bold mb-1">${tool.name}</h3>
                            <p class="text-slate-400 text-sm">${tool.description}</p>
                        </div>

                        <!-- Price (only show for custom plan) -->
                        ${showPrices ? `
                        <div class="text-cyan-400 text-xl font-bold text-right">
                            $${tool.price}/mo
                        </div>
                        ` : ''}

                        <!-- Expand Arrow Indicator -->
                        <div class="text-slate-400 hover:text-cyan-400 transition-all">
                            <i data-lucide="chevron-down" class="w-5 h-5 expand-arrow"></i>
                        </div>
                    </div>

                    <!-- Expanded Info -->
                    <div class="tool-expanded-info mt-0">
                        <div class="bg-slate-900 border-t border-slate-700 -mx-6 -mb-6 px-6 py-6 mt-6 rounded-b-lg">
                            <h4 class="text-slate-300 text-xs font-bold uppercase mb-3">Key Features</h4>
                            <ul class="space-y-2 text-slate-400 text-sm mb-4">
                                ${tool.features.map(feature => `
                                    <li class="flex items-start">
                                        <span class="mr-2">â€¢</span>
                                        <span>${feature}</span>
                                    </li>
                                `).join('')}
                            </ul>
                            <a href="#" onclick="event.preventDefault()" class="text-cyan-400 text-sm hover:text-cyan-300">Learn more â†’</a>
                        </div>
                    </div>
                `;

                // Click to expand (but not on checkbox)
                toolCard.addEventListener('click', (e) => {
                    if (!e.target.closest('.custom-checkbox')) {
                        toggleToolExpanded(tool.id);
                    }
                });

                container.appendChild(toolCard);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // ========================================
        // SCREEN 3: CONFIGURATION
        // ========================================

        function populateConfigForm() {
            if (appState.businessInfo) {
                const form = document.getElementById('business-form');
                Object.keys(appState.businessInfo).forEach(key => {
                    const input = form.elements[key];
                    if (input) {
                        input.value = appState.businessInfo[key];
                    }
                });
            }
            validateConfigForm();
        }

        function validateConfigForm() {
            const form = document.getElementById('business-form');
            const requiredFields = ['businessName', 'industry', 'phone', 'location'];
            let isValid = true;

            requiredFields.forEach(fieldName => {
                const input = form.elements[fieldName];
                if (!input || !input.value.trim()) {
                    isValid = false;
                }
            });

            // Update button state
            const btn = document.getElementById('review-deploy-btn');
            if (isValid) {
                btn.disabled = false;
                btn.classList.remove('bg-slate-700', 'text-slate-500', 'cursor-not-allowed');
                btn.classList.add('bg-cyan-500', 'text-white', 'hover:bg-cyan-400');
            } else {
                btn.disabled = true;
                btn.classList.add('bg-slate-700', 'text-slate-500', 'cursor-not-allowed');
                btn.classList.remove('bg-cyan-500', 'text-white', 'hover:bg-cyan-400');
            }

            return isValid;
        }

        function saveBusinessInfo() {
            const form = document.getElementById('business-form');
            const formData = new FormData(form);
            appState.businessInfo = {};
            for (let [key, value] of formData.entries()) {
                appState.businessInfo[key] = value;
            }
            saveState();
        }

        // Add real-time validation
        document.addEventListener('DOMContentLoaded', () => {
            const form = document.getElementById('business-form');
            if (form) {
                form.addEventListener('input', validateConfigForm);
                form.addEventListener('change', validateConfigForm);
            }
        });

        // ========================================
        // SCREEN 4: REVIEW
        // ========================================

        function renderReviewScreen() {
            // Render selected tools
            const toolsList = document.getElementById('review-tools-list');
            toolsList.innerHTML = '';

            const showPrices = appState.selectedPlan === 'custom';

            appState.selectedTools.forEach(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return;

                const toolCard = document.createElement('div');
                toolCard.className = 'bg-slate-800 border border-slate-700 rounded-lg px-6 py-4 flex items-center justify-between';
                toolCard.innerHTML = `
                    <div class="flex items-center gap-4">
                        <i data-lucide="${tool.icon}" class="w-6 h-6 text-cyan-400"></i>
                        <span class="text-white font-semibold">${tool.name}</span>
                    </div>
                    <div class="flex items-center gap-6">
                        ${showPrices ? `<span class="text-cyan-400 font-bold">$${tool.price}/mo</span>` : ''}
                        <button onclick="goToToolSelection()" class="text-slate-400 text-sm hover:text-slate-300">Edit</button>
                    </div>
                `;
                toolsList.appendChild(toolCard);
            });

            // Update totals
            const total = calculateTotal();
            document.getElementById('review-total').textContent = `$${total}/month`;
            document.getElementById('final-total').textContent = `$${total}/month`;

            // Populate business info
            const industryLabels = {
                'restaurant': 'Restaurant / Food Service',
                'home-services': 'Home Services',
                'retail': 'Retail / E-commerce',
                'professional': 'Professional Services',
                'health': 'Health & Wellness',
                'other': 'Other'
            };

            document.getElementById('review-business-name').textContent = appState.businessInfo.businessName || '-';
            document.getElementById('review-industry').textContent = industryLabels[appState.businessInfo.industry] || '-';
            document.getElementById('review-phone').textContent = appState.businessInfo.phone || '-';
            document.getElementById('review-website').textContent = appState.businessInfo.website || 'None';
            document.getElementById('review-hours').textContent = `${appState.businessInfo.hoursOpen || '9:00 AM'} - ${appState.businessInfo.hoursClose || '6:00 PM'}`;
            document.getElementById('review-location').textContent = appState.businessInfo.location || '-';

            // Calculate trial end date (14 days from now)
            const trialEnd = new Date();
            trialEnd.setDate(trialEnd.getDate() + 14);
            document.getElementById('trial-end-date').textContent = trialEnd.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // ========================================
        // SCREEN 5: SUCCESS
        // ========================================

        function renderSuccessScreen() {
            const toolsList = document.getElementById('success-tools-list');
            toolsList.innerHTML = '';

            appState.selectedTools.forEach(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return;

                const toolItem = document.createElement('div');
                toolItem.className = 'flex items-center justify-between';
                toolItem.innerHTML = `
                    <div class="flex items-center gap-3">
                        <i data-lucide="check-circle" class="w-5 h-5 text-emerald-500"></i>
                        <span class="text-white">${tool.name}</span>
                    </div>
                    <span class="text-emerald-400 text-sm font-semibold">âœ“ Active</span>
                `;
                toolsList.appendChild(toolItem);
            });

            const count = appState.selectedTools.length;
            const total = calculateTotal();

            document.getElementById('success-tool-count').textContent = `${count} tool${count !== 1 ? 's' : ''}`;
            document.getElementById('success-total').textContent = `$${total}/month`;

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // ========================================
        // SCREEN 6: DASHBOARD
        // ========================================

        function renderDashboard() {
            const count = appState.selectedTools.length;
            const total = calculateTotal();

            // Update stats
            document.getElementById('dashboard-tool-count').textContent = count;
            document.getElementById('dashboard-subscription-price').textContent = `$${total}/month`;

            // Render tools grid
            renderDashboardToolsGrid();

            // Render activity feed
            renderActivityFeed();

            // Render other sections
            renderToolsSection();
            renderAnalyticsSection();
            renderSettingsSection();
            renderBillingSection();

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function switchDashboardSection(section) {
            // Hide all sections
            document.querySelectorAll('.dashboard-section').forEach(sec => {
                sec.style.display = 'none';
            });

            // Show selected section
            document.getElementById(`dashboard-section-${section}`).style.display = 'block';

            // Update navigation active state
            document.querySelectorAll('nav a').forEach(link => {
                link.classList.remove('text-cyan-400', 'border-b-2', 'border-cyan-500');
                link.classList.add('text-slate-400');
            });

            const activeNav = document.getElementById(`nav-${section}`);
            if (activeNav) {
                activeNav.classList.remove('text-slate-400');
                activeNav.classList.add('text-cyan-400', 'border-b-2', 'border-cyan-500');
            }

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderToolsSection() {
            const activeContainer = document.getElementById('tools-section-active-grid');
            const availableContainer = document.getElementById('tools-section-available-grid');

            activeContainer.innerHTML = '';
            availableContainer.innerHTML = '';

            TOOLS.forEach(tool => {
                const isActive = appState.selectedTools.includes(tool.id);
                const container = isActive ? activeContainer : availableContainer;

                const toolCard = document.createElement('div');
                toolCard.className = 'bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 transition-all';

                toolCard.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <i data-lucide="${tool.icon}" class="w-7 h-7 text-cyan-400"></i>
                            <h3 class="text-white text-lg font-bold">${tool.name}</h3>
                        </div>
                        ${isActive ? '<span class="px-2 py-1 bg-emerald-500/10 text-emerald-400 text-xs rounded font-semibold">Active</span>' : ''}
                    </div>
                    <p class="text-slate-400 text-sm mb-4">${tool.description}</p>
                    <div class="flex justify-end">
                        ${isActive ?
                            `<button onclick="removeTool('${tool.id}')" class="px-4 py-2 bg-red-500/10 border border-red-500/50 text-red-400 rounded-lg hover:bg-red-500/20 transition-all text-sm">Deactivate</button>` :
                            `<button onclick="addTool('${tool.id}')" class="px-4 py-2 bg-cyan-500 text-white rounded-lg hover:bg-cyan-400 transition-all text-sm">Add Tool</button>`
                        }
                    </div>
                `;

                container.appendChild(toolCard);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderAnalyticsCards() {
            const container = document.getElementById('analytics-cards-container');
            container.innerHTML = '';

            // Tool-specific metrics
            const toolMetrics = {
                'receptionist': [
                    { label: 'Calls Handled', value: '482', trend: '+18%', icon: 'phone', positive: true },
                    { label: 'Avg Call Duration', value: '3m 42s', trend: '-8%', icon: 'clock', positive: true },
                    { label: 'Appointments Booked', value: '127', trend: '+22%', icon: 'calendar-check', positive: true },
                    { label: 'Customer Satisfaction', value: '96%', trend: '+5%', icon: 'smile', positive: true }
                ],
                'website': [
                    { label: 'Total Visitors', value: '1,234', trend: '+12%', icon: 'users', positive: true },
                    { label: 'Page Views', value: '4,892', trend: '+15%', icon: 'eye', positive: true },
                    { label: 'Bounce Rate', value: '32%', trend: '-7%', icon: 'trending-down', positive: true },
                    { label: 'Avg Session Time', value: '4m 18s', trend: '+9%', icon: 'clock', positive: true }
                ],
                'booking': [
                    { label: 'Appointments Scheduled', value: '156', trend: '+23%', icon: 'calendar', positive: true },
                    { label: 'Cancellation Rate', value: '8%', trend: '-12%', icon: 'x-circle', positive: true },
                    { label: 'Reminder Success', value: '94%', trend: '+3%', icon: 'bell', positive: true },
                    { label: 'Avg Booking Value', value: '$127', trend: '+8%', icon: 'dollar-sign', positive: true }
                ],
                'email': [
                    { label: 'Emails Processed', value: '847', trend: '+16%', icon: 'mail', positive: true },
                    { label: 'Response Rate', value: '94%', trend: '+8%', icon: 'message-circle', positive: true },
                    { label: 'Avg Response Time', value: '1.2h', trend: '-24%', icon: 'clock', positive: true },
                    { label: 'Follow-ups Sent', value: '234', trend: '+19%', icon: 'repeat', positive: true }
                ],
                'chat': [
                    { label: 'Conversations', value: '643', trend: '+28%', icon: 'message-square', positive: true },
                    { label: 'Avg Response Time', value: '8s', trend: '-32%', icon: 'zap', positive: true },
                    { label: 'Resolution Rate', value: '91%', trend: '+15%', icon: 'check-circle', positive: true },
                    { label: 'Lead Captures', value: '89', trend: '+41%', icon: 'user-plus', positive: true }
                ],
                'social': [
                    { label: 'Posts Published', value: '24', trend: '+6%', icon: 'megaphone', positive: true },
                    { label: 'Total Engagement', value: '2,847', trend: '+34%', icon: 'heart', positive: true },
                    { label: 'Follower Growth', value: '+156', trend: '+12%', icon: 'trending-up', positive: true },
                    { label: 'Avg Post Reach', value: '1.8K', trend: '+21%', icon: 'eye', positive: true }
                ]
            };

            // Get metrics for selected tools
            let allMetrics = [];
            appState.selectedTools.forEach(toolId => {
                const metrics = toolMetrics[toolId];
                if (metrics) {
                    allMetrics = allMetrics.concat(metrics);
                }
            });

            // Display first 4 metrics (or all if less than 4)
            allMetrics.slice(0, 4).forEach(metric => {
                const card = document.createElement('div');
                card.className = 'bg-slate-800 border border-slate-700 rounded-xl p-6';
                card.innerHTML = `
                    <div class="text-slate-400 text-sm mb-2">${metric.label}</div>
                    <div class="text-3xl font-bold text-white mb-2">${metric.value}</div>
                    <div class="flex items-center gap-2 ${metric.positive ? 'text-emerald-400' : 'text-red-400'} text-sm">
                        <i data-lucide="${metric.positive ? 'trending-up' : 'trending-down'}" class="w-4 h-4"></i>
                        <span>${metric.trend} vs last period</span>
                    </div>
                `;
                container.appendChild(card);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // Track current analytics tab
        let currentAnalyticsTool = null;

        function renderAnalyticsSection() {
            // Render tabs
            const tabsContainer = document.getElementById('analytics-tool-tabs');
            tabsContainer.innerHTML = '';

            if (appState.selectedTools.length === 0) {
                document.getElementById('analytics-tool-content').innerHTML = `
                    <div class="text-center py-12 text-slate-400">
                        <p>No tools selected yet. Add tools to see analytics.</p>
                    </div>
                `;
                return;
            }

            // Set current tool if not set
            if (!currentAnalyticsTool || !appState.selectedTools.includes(currentAnalyticsTool)) {
                currentAnalyticsTool = appState.selectedTools[0];
            }

            // Create tab for each tool
            appState.selectedTools.forEach(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return;

                const tab = document.createElement('button');
                tab.className = toolId === currentAnalyticsTool
                    ? 'px-6 py-3 border-b-2 border-cyan-500 text-cyan-400 font-medium transition-all flex items-center gap-2'
                    : 'px-6 py-3 border-b-2 border-transparent text-slate-400 hover:text-slate-300 font-medium transition-all flex items-center gap-2';
                tab.onclick = () => switchAnalyticsTool(toolId);
                tab.innerHTML = `
                    <i data-lucide="${tool.icon}" class="w-4 h-4"></i>
                    <span>${tool.name}</span>
                `;
                tabsContainer.appendChild(tab);
            });

            // Render content for current tool
            renderToolAnalytics(currentAnalyticsTool);

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function switchAnalyticsTool(toolId) {
            currentAnalyticsTool = toolId;
            renderAnalyticsSection();
        }

        function renderToolAnalytics(toolId) {
            const tool = TOOLS.find(t => t.id === toolId);
            if (!tool) return;

            const contentContainer = document.getElementById('analytics-tool-content');

            // Get tool-specific metrics
            const toolMetrics = getToolMetrics(toolId);

            contentContainer.innerHTML = `
                <!-- Metrics Cards -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
                    ${toolMetrics.map(metric => `
                        <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                            <div class="text-slate-400 text-sm mb-2">${metric.label}</div>
                            <div class="text-3xl font-bold text-white mb-2">${metric.value}</div>
                            <div class="flex items-center gap-2 ${metric.positive ? 'text-emerald-400' : 'text-red-400'} text-sm">
                                <i data-lucide="${metric.positive ? 'trending-up' : 'trending-down'}" class="w-4 h-4"></i>
                                <span>${metric.trend} vs last period</span>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <!-- Interactive Chart -->
                <div class="bg-slate-800 border border-slate-700 rounded-xl p-8 mb-8">
                    <h3 class="text-xl font-semibold text-white mb-6">${tool.name} Performance Over Time</h3>
                    <div class="relative bg-slate-900 rounded-lg p-6" style="height: 380px;">
                        <svg id="tool-chart-${toolId}" class="w-full h-full"></svg>
                        <!-- Tooltip -->
                        <div id="tool-tooltip-${toolId}" class="absolute hidden bg-slate-950 border border-cyan-500 rounded-lg px-4 py-3 shadow-xl z-50" style="pointer-events: none;">
                            <div class="text-white text-sm font-semibold" id="tool-tooltip-date-${toolId}"></div>
                            <div class="text-cyan-400 text-lg font-bold" id="tool-tooltip-value-${toolId}"></div>
                        </div>
                    </div>
                </div>

                <!-- Additional Insights -->
                <div class="grid md:grid-cols-2 gap-6">
                    ${getToolInsights(toolId)}
                </div>
            `;

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }

            // Render the interactive chart
            renderToolChart(toolId);
        }

        function getToolMetrics(toolId) {
            const allMetrics = {
                'receptionist': [
                    { label: 'Time Saved (This Month)', value: '45 hrs', trend: '+15%', positive: true },
                    { label: 'Money Saved', value: '$1,125', trend: '+15%', positive: true },
                    { label: 'ROI', value: '237%', trend: '+8%', positive: true },
                    { label: 'Calls Handled (7 days)', value: '482', trend: '+18%', positive: true },
                    { label: 'Avg Call Duration', value: '3m 42s', trend: '-8%', positive: true },
                    { label: 'Appointments Booked', value: '127', trend: '+22%', positive: true }
                ],
                'booking': [
                    { label: 'Time Saved (This Month)', value: '28 hrs', trend: '+18%', positive: true },
                    { label: 'Money Saved', value: '$700', trend: '+18%', positive: true },
                    { label: 'ROI', value: '214%', trend: '+11%', positive: true },
                    { label: 'Appointments (7 days)', value: '156', trend: '+23%', positive: true },
                    { label: 'Cancellation Rate', value: '8%', trend: '-12%', positive: true },
                    { label: 'Reminder Success', value: '94%', trend: '+3%', positive: true }
                ],
                'email': [
                    { label: 'Time Saved (This Month)', value: '38 hrs', trend: '+22%', positive: true },
                    { label: 'Money Saved', value: '$950', trend: '+22%', positive: true },
                    { label: 'ROI', value: '175%', trend: '+14%', positive: true },
                    { label: 'Emails Processed (7 days)', value: '1,847', trend: '+28%', positive: true },
                    { label: 'Response Rate', value: '94%', trend: '+11%', positive: true },
                    { label: 'Avg Response Time', value: '47min', trend: '-35%', positive: true }
                ],
                'chat': [
                    { label: 'Time Saved (This Month)', value: '52 hrs', trend: '+28%', positive: true },
                    { label: 'Money Saved', value: '$1,300', trend: '+28%', positive: true },
                    { label: 'ROI', value: '250%', trend: '+19%', positive: true },
                    { label: 'Conversations (7 days)', value: '1,643', trend: '+38%', positive: true },
                    { label: 'Avg Response Time', value: '4.2s', trend: '-45%', positive: true },
                    { label: 'Resolution Rate', value: '93%', trend: '+18%', positive: true }
                ]
            };

            return allMetrics[toolId] || [];
        }

        function getToolInsights(toolId) {
            const insights = {
                'receptionist': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$99</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (45 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$1,125</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$1,026/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$12,312/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">237% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Peak Call Times</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">9 AM - 11 AM</span>
                                <span class="text-emerald-400 font-semibold">38% of calls</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">2 PM - 4 PM</span>
                                <span class="text-cyan-400 font-semibold">31% of calls</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">11 AM - 1 PM</span>
                                <span class="text-slate-400 font-semibold">21% of calls</span>
                            </div>
                        </div>
                    </div>
                `,
                'website': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$79</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (30 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$750</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$671/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$8,052/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">149% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Traffic Sources</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Organic Search</span>
                                <span class="text-emerald-400 font-semibold">58%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Direct</span>
                                <span class="text-cyan-400 font-semibold">28%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Social Media</span>
                                <span class="text-slate-400 font-semibold">14%</span>
                            </div>
                        </div>
                    </div>
                `,
                'booking': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$69</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (28 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$700</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$631/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$7,572/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">214% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Booking Preferences</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Morning (9-12)</span>
                                <span class="text-emerald-400 font-semibold">42%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Afternoon (12-5)</span>
                                <span class="text-cyan-400 font-semibold">38%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Evening (5-8)</span>
                                <span class="text-slate-400 font-semibold">20%</span>
                            </div>
                        </div>
                    </div>
                `,
                'email': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$89</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (38 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$950</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$861/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$10,332/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">175% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Email Categories</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Customer Support</span>
                                <span class="text-emerald-400 font-semibold">48%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Sales Inquiries</span>
                                <span class="text-cyan-400 font-semibold">32%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">General</span>
                                <span class="text-slate-400 font-semibold">20%</span>
                            </div>
                        </div>
                    </div>
                `,
                'chat': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$95</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (52 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$1,300</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$1,205/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$14,460/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">250% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Customer Sentiment</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Positive</span>
                                <span class="text-emerald-400 font-semibold">72%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Neutral</span>
                                <span class="text-cyan-400 font-semibold">22%</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Negative</span>
                                <span class="text-red-400 font-semibold">6%</span>
                            </div>
                        </div>
                    </div>
                `,
                'social': `
                    <div class="bg-gradient-to-br from-emerald-500/10 to-green-500/10 border-2 border-emerald-500/30 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4 flex items-center gap-2">
                            <i data-lucide="trending-up" class="w-5 h-5 text-emerald-400"></i>
                            ROI Breakdown
                        </h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Tool Cost (Monthly)</span>
                                <span class="text-slate-300 font-semibold">$85</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Time Saved (35 hrs @ $25/hr)</span>
                                <span class="text-emerald-400 font-semibold">$875</span>
                            </div>
                            <div class="flex justify-between items-center pt-2 border-t border-emerald-500/20">
                                <span class="text-white font-semibold">Net Savings</span>
                                <span class="text-emerald-400 font-bold text-lg">$790/mo</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-white font-semibold">Annual Savings</span>
                                <span class="text-green-400 font-bold text-lg">$9,480/yr</span>
                            </div>
                            <div class="bg-emerald-500/20 rounded-lg p-3 mt-3">
                                <div class="text-center">
                                    <div class="text-emerald-400 text-2xl font-bold">182% ROI</div>
                                    <div class="text-slate-300 text-xs mt-1">Return on Investment</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="bg-slate-800 border border-slate-700 rounded-xl p-6">
                        <h4 class="text-lg font-semibold text-white mb-4">Platform Performance</h4>
                        <div class="space-y-3">
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Instagram</span>
                                <span class="text-emerald-400 font-semibold">1,234 eng.</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Facebook</span>
                                <span class="text-cyan-400 font-semibold">892 eng.</span>
                            </div>
                            <div class="flex justify-between items-center">
                                <span class="text-slate-300">Twitter</span>
                                <span class="text-slate-400 font-semibold">456 eng.</span>
                            </div>
                        </div>
                    </div>
                `
            };

            return insights[toolId] || '';
        }

        function renderToolChart(toolId) {
            const svg = document.getElementById(`tool-chart-${toolId}`);
            if (!svg) return;

            // Clear previous chart
            svg.innerHTML = '';

            // Tool color
            const toolColor = '#06b6d4'; // cyan

            // Generate data based on selected time period
            const period = appState.analyticsTimePeriod || 7;
            let days = [];

            if (period === 7) {
                days = ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'];
            } else if (period === 30) {
                days = ['Week 1', 'Week 2', 'Week 3', 'Week 4'];
            } else if (period === 90) {
                days = ['Month 1', 'Month 2', 'Month 3'];
            }

            // Generate realistic data for this tool
            const baseValue = 75 + Math.random() * 10;
            const chartData = days.map(() => baseValue + (Math.random() - 0.5) * 15);

            // SVG dimensions
            const width = svg.clientWidth || 800;
            const height = svg.clientHeight || 330;
            const padding = { top: 20, right: 20, bottom: 50, left: 60 };
            const chartWidth = width - padding.left - padding.right;
            const chartHeight = height - padding.top - padding.bottom;

            // Scales
            const xStep = chartWidth / (days.length - 1);
            const yMax = 100;
            const yMin = 0;

            // Draw grid lines
            for (let i = 0; i <= 5; i++) {
                const y = padding.top + (chartHeight / 5) * i;
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('x1', padding.left);
                line.setAttribute('y1', y);
                line.setAttribute('x2', width - padding.right);
                line.setAttribute('y2', y);
                line.setAttribute('stroke', '#334155');
                line.setAttribute('stroke-width', '1');
                line.setAttribute('stroke-dasharray', '4');
                svg.appendChild(line);

                // Y-axis labels
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', padding.left - 10);
                label.setAttribute('y', y + 4);
                label.setAttribute('text-anchor', 'end');
                label.setAttribute('fill', '#94a3b8');
                label.setAttribute('font-size', '12');
                label.textContent = Math.round(yMax - (yMax / 5) * i) + '%';
                svg.appendChild(label);
            }

            // Draw X-axis labels
            days.forEach((day, i) => {
                const x = padding.left + xStep * i;
                const label = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                label.setAttribute('x', x);
                label.setAttribute('y', height - padding.bottom + 30);
                label.setAttribute('text-anchor', 'middle');
                label.setAttribute('fill', '#94a3b8');
                label.setAttribute('font-size', '12');
                label.textContent = day;
                svg.appendChild(label);
            });

            // Draw gradient area under line
            const areaPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            let areaData = `M ${padding.left} ${height - padding.bottom} `;
            chartData.forEach((value, i) => {
                const x = padding.left + xStep * i;
                const y = padding.top + chartHeight - (value / yMax * chartHeight);
                if (i === 0) {
                    areaData += `L ${x} ${y} `;
                } else {
                    areaData += `L ${x} ${y} `;
                }
            });
            areaData += `L ${padding.left + xStep * (chartData.length - 1)} ${height - padding.bottom} Z`;
            areaPath.setAttribute('d', areaData);
            areaPath.setAttribute('fill', 'url(#gradient-' + toolId + ')');
            areaPath.setAttribute('opacity', '0.2');

            // Create gradient
            const defs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            const gradient = document.createElementNS('http://www.w3.org/2000/svg', 'linearGradient');
            gradient.setAttribute('id', 'gradient-' + toolId);
            gradient.setAttribute('x1', '0%');
            gradient.setAttribute('y1', '0%');
            gradient.setAttribute('x2', '0%');
            gradient.setAttribute('y2', '100%');

            const stop1 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
            stop1.setAttribute('offset', '0%');
            stop1.setAttribute('stop-color', toolColor);
            stop1.setAttribute('stop-opacity', '0.5');

            const stop2 = document.createElementNS('http://www.w3.org/2000/svg', 'stop');
            stop2.setAttribute('offset', '100%');
            stop2.setAttribute('stop-color', toolColor);
            stop2.setAttribute('stop-opacity', '0');

            gradient.appendChild(stop1);
            gradient.appendChild(stop2);
            defs.appendChild(gradient);
            svg.appendChild(defs);
            svg.appendChild(areaPath);

            // Draw line
            let pathData = '';
            chartData.forEach((value, i) => {
                const x = padding.left + xStep * i;
                const y = padding.top + chartHeight - (value / yMax * chartHeight);
                if (i === 0) {
                    pathData += `M ${x} ${y} `;
                } else {
                    pathData += `L ${x} ${y} `;
                }
            });

            const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            path.setAttribute('d', pathData);
            path.setAttribute('fill', 'none');
            path.setAttribute('stroke', toolColor);
            path.setAttribute('stroke-width', '3');
            path.setAttribute('stroke-linecap', 'round');
            path.setAttribute('stroke-linejoin', 'round');
            svg.appendChild(path);

            // Draw interactive points
            chartData.forEach((value, i) => {
                const x = padding.left + xStep * i;
                const y = padding.top + chartHeight - (value / yMax * chartHeight);

                // Invisible larger hit area
                const hitArea = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                hitArea.setAttribute('cx', x);
                hitArea.setAttribute('cy', y);
                hitArea.setAttribute('r', '12');
                hitArea.setAttribute('fill', 'transparent');
                hitArea.setAttribute('cursor', 'pointer');
                hitArea.style.transition = 'all 0.2s';

                // Visible point
                const point = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                point.setAttribute('cx', x);
                point.setAttribute('cy', y);
                point.setAttribute('r', '4');
                point.setAttribute('fill', toolColor);
                point.setAttribute('stroke', '#0f172a');
                point.setAttribute('stroke-width', '2');
                point.style.transition = 'all 0.2s';

                // Hover events
                hitArea.addEventListener('mouseenter', (e) => {
                    point.setAttribute('r', '6');
                    point.setAttribute('stroke-width', '3');
                    showToolTooltip(toolId, days[i], Math.round(value), e);
                });

                hitArea.addEventListener('mouseleave', () => {
                    point.setAttribute('r', '4');
                    point.setAttribute('stroke-width', '2');
                    hideToolTooltip(toolId);
                });

                hitArea.addEventListener('mousemove', (e) => {
                    showToolTooltip(toolId, days[i], Math.round(value), e);
                });

                svg.appendChild(hitArea);
                svg.appendChild(point);
            });
        }

        function showToolTooltip(toolId, date, value, event) {
            const tooltip = document.getElementById(`tool-tooltip-${toolId}`);
            const dateElement = document.getElementById(`tool-tooltip-date-${toolId}`);
            const valueElement = document.getElementById(`tool-tooltip-value-${toolId}`);

            if (!tooltip || !dateElement || !valueElement) return;

            dateElement.textContent = date;
            valueElement.textContent = `${value}% Performance`;

            tooltip.classList.remove('hidden');

            // Position tooltip near cursor
            const chartContainer = tooltip.parentElement;
            const rect = chartContainer.getBoundingClientRect();
            const x = event.clientX - rect.left;
            const y = event.clientY - rect.top;

            tooltip.style.left = (x + 15) + 'px';
            tooltip.style.top = (y - 40) + 'px';
        }

        function hideToolTooltip(toolId) {
            const tooltip = document.getElementById(`tool-tooltip-${toolId}`);
            if (tooltip) {
                tooltip.classList.add('hidden');
            }
        }

        // Remove old chart functions that are no longer needed
        function renderAnalyticsCards() {
            // This function is no longer used since we have tool-specific tabs now
            return;
        }

        function renderPerformanceChart() {
            // This function is no longer used since we have tool-specific charts now
            return;
        }

        function renderSettingsSection() {
            // Populate settings with business info if available
            if (appState.businessInfo) {
                const nameInput = document.getElementById('settings-business-name');
                const phoneInput = document.getElementById('settings-phone');
                const websiteInput = document.getElementById('settings-website');

                if (nameInput) nameInput.value = appState.businessInfo.businessName || '';
                if (phoneInput) phoneInput.value = appState.businessInfo.phone || '';
                if (websiteInput) websiteInput.value = appState.businessInfo.website || '';
            }
        }

        function renderBillingSection() {
            const total = calculateTotal();
            const plan = appState.selectedPlan || 'custom';
            const showPrices = plan === 'custom';
            const planDetails = appState.planDetails[plan];

            // Update plan name and description
            document.getElementById('billing-plan-name').textContent = planDetails.name + ' Plan';
            document.getElementById('billing-plan-description').textContent =
                plan === 'custom' ? 'Custom Ã  la carte selection' : `${planDetails.maxTools} AI tools included`;

            // Update billing total
            document.getElementById('billing-total').textContent = `$${total}`;

            // Update billing history amounts
            document.getElementById('billing-history-1').textContent = `$${total}.00`;
            document.getElementById('billing-history-2').textContent = `$${total}.00`;
            document.getElementById('billing-history-3').textContent = `$${total}.00`;

            // Render tools list
            const toolsList = document.getElementById('billing-tools-list');
            toolsList.innerHTML = '';

            appState.selectedTools.forEach(toolId => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return;

                const toolItem = document.createElement('div');
                toolItem.className = 'flex items-center justify-between py-2 border-b border-slate-700';
                toolItem.innerHTML = `
                    <div class="flex items-center gap-3">
                        <i data-lucide="${tool.icon}" class="w-4 h-4 text-cyan-400"></i>
                        <span class="text-slate-300">${tool.name}</span>
                    </div>
                    ${showPrices ? `<span class="text-white font-medium">$${tool.price}/mo</span>` : ''}
                `;
                toolsList.appendChild(toolItem);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderDashboardToolsGrid() {
            const container = document.getElementById('dashboard-tools-grid');
            container.innerHTML = '';

            // Tool stats data with ROI and savings - 4 TOOLS with 100-250% ROI
            const toolStats = {
                'receptionist': {
                    text: '68 calls handled today â€¢ 127 this week',
                    icon: 'phone',
                    color: 'cyan',
                    status: 'active',
                    timeSaved: '45 hrs/month',
                    moneySaved: '$1,125/mo',
                    roi: '237%'
                },
                'booking': {
                    text: '34 appointments today â€¢ 156 this week',
                    icon: 'calendar',
                    color: 'orange',
                    status: 'active',
                    timeSaved: '28 hrs/month',
                    moneySaved: '$700/mo',
                    roi: '214%'
                },
                'email': {
                    text: '127 emails today â€¢ 94% response rate',
                    icon: 'mail',
                    color: 'blue',
                    status: 'active',
                    timeSaved: '38 hrs/month',
                    moneySaved: '$950/mo',
                    roi: '175%'
                },
                'chat': {
                    text: '219 conversations today â€¢ 643 this week',
                    icon: 'message-square',
                    color: 'pink',
                    status: 'active',
                    timeSaved: '52 hrs/month',
                    moneySaved: '$1,300/mo',
                    roi: '250%'
                }
            };

            appState.selectedTools.forEach((toolId, index) => {
                const tool = TOOLS.find(t => t.id === toolId);
                if (!tool) return;

                const stats = toolStats[toolId];
                if (!stats) return;

                const toolCard = document.createElement('div');
                toolCard.className = 'bg-slate-800 border border-slate-700 rounded-xl p-6 hover:border-cyan-500/30 hover:scale-[1.02] transition-all duration-300 fade-in';
                toolCard.style.animationDelay = `${index * 100}ms`;

                toolCard.innerHTML = `
                    <div class="flex items-start justify-between mb-4">
                        <div class="flex items-center gap-3">
                            <div class="w-12 h-12 rounded-lg bg-${stats.color}-500/10 flex items-center justify-center transform transition-transform duration-300 hover:scale-110">
                                <i data-lucide="${tool.icon}" class="w-6 h-6 text-${stats.color}-400"></i>
                            </div>
                            <h3 class="text-white text-lg font-bold">${tool.name}</h3>
                        </div>
                    </div>

                    <div class="flex items-center gap-2 mb-4">
                        <div class="w-1.5 h-1.5 rounded-full bg-emerald-500 pulse-animation"></div>
                        <span class="text-emerald-400 text-xs font-semibold">Active</span>
                    </div>

                    <div class="bg-slate-900 rounded-lg px-4 py-3 mb-4 transform transition-all duration-200 hover:bg-slate-850">
                        <div class="flex items-center gap-2 text-slate-300 text-sm mb-3">
                            <i data-lucide="${stats.icon}" class="w-4 h-4 text-slate-400"></i>
                            <span>${stats.text}</span>
                        </div>
                        <div class="grid grid-cols-3 gap-2 pt-3 border-t border-slate-700">
                            <div class="group">
                                <div class="text-xs text-slate-500 mb-1">Time Saved</div>
                                <div class="text-sm font-semibold text-emerald-400 group-hover:scale-110 transition-transform">${stats.timeSaved}</div>
                            </div>
                            <div class="group">
                                <div class="text-xs text-slate-500 mb-1">Saved</div>
                                <div class="text-sm font-semibold text-green-400 group-hover:scale-110 transition-transform">${stats.moneySaved}</div>
                            </div>
                            <div class="group">
                                <div class="text-xs text-slate-500 mb-1">ROI</div>
                                <div class="text-sm font-semibold text-cyan-400 group-hover:scale-110 transition-transform">${stats.roi}</div>
                            </div>
                        </div>
                    </div>

                    <div class="flex gap-3">
                        <button onclick="viewToolDetails('${tool.id}')" class="flex-1 px-4 py-2 border border-cyan-500/50 text-cyan-400 text-sm font-medium rounded-lg hover:bg-cyan-500/10 hover:border-cyan-400 transition-all duration-200">
                            View Details
                        </button>
                        <button onclick="configureTool('${tool.id}')" class="px-4 py-2 text-slate-400 text-sm hover:text-slate-300 hover:bg-slate-700 rounded-lg transition-all duration-200">
                            Configure
                        </button>
                    </div>
                `;

                container.appendChild(toolCard);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function renderActivityFeed() {
            const container = document.getElementById('dashboard-activity-feed');
            container.innerHTML = '';

            // Activity data based on selected tools - Enhanced with more realistic entries
            const activityTemplates = {
                'receptionist': [
                    { text: 'AI Receptionist booked appointment with Sarah Johnson for Dec 20 at 2:30 PM', time: '3 minutes ago', icon: 'phone', color: 'cyan' },
                    { text: 'Answered call from new customer inquiring about services - captured contact info', time: '11 minutes ago', icon: 'phone', color: 'cyan' },
                    { text: 'Transferred urgent call to sales team after qualifying lead', time: '18 minutes ago', icon: 'phone', color: 'cyan' },
                    { text: 'Handled 3 simultaneous calls with zero hold time', time: '35 minutes ago', icon: 'phone', color: 'cyan' },
                    { text: 'Confirmed appointment for Marcus Williams at 3:00 PM today', time: '52 minutes ago', icon: 'phone', color: 'cyan' },
                    { text: 'Answered pricing question and scheduled callback with consultant', time: '1 hour ago', icon: 'phone', color: 'cyan' }
                ],
                'email': [
                    { text: 'Responded to inquiry from mike.chen@techcorp.com with pricing details', time: '5 minutes ago', icon: 'mail', color: 'blue' },
                    { text: 'Auto-categorized 47 incoming emails - 12 urgent, 35 regular', time: '14 minutes ago', icon: 'mail', color: 'blue' },
                    { text: 'Sent personalized follow-up to 8 prospects from last week', time: '28 minutes ago', icon: 'mail', color: 'blue' },
                    { text: 'Drafted responses to 15 customer support requests', time: '45 minutes ago', icon: 'mail', color: 'blue' },
                    { text: 'Scheduled 3 follow-up emails for non-responders', time: '1 hour ago', icon: 'mail', color: 'blue' },
                    { text: 'Flagged VIP email from jennifer.martinez@enterprise.com for immediate attention', time: '1 hour ago', icon: 'mail', color: 'blue' }
                ],
                'booking': [
                    { text: 'Sent appointment reminders to 8 customers for tomorrow', time: '7 minutes ago', icon: 'calendar', color: 'orange' },
                    { text: 'Auto-rescheduled cancelled appointment - found new slot for customer', time: '22 minutes ago', icon: 'calendar', color: 'orange' },
                    { text: 'Processed 4 new booking requests from website form', time: '38 minutes ago', icon: 'calendar', color: 'orange' },
                    { text: 'Synced 12 appointments with Google Calendar', time: '47 minutes ago', icon: 'calendar', color: 'orange' },
                    { text: 'Sent SMS confirmation to 5 customers for this week', time: '1 hour ago', icon: 'calendar', color: 'orange' },
                    { text: 'Optimized schedule - filled 2 cancellation gaps automatically', time: '2 hours ago', icon: 'calendar', color: 'orange' }
                ],
                'chat': [
                    { text: 'Resolved product inquiry for customer in 2 minutes - satisfaction: 5/5', time: '4 minutes ago', icon: 'message-square', color: 'pink' },
                    { text: 'Captured qualified lead: emma.wilson@startup.io interested in Enterprise plan', time: '16 minutes ago', icon: 'message-square', color: 'pink' },
                    { text: 'Provided shipping status to 3 customers simultaneously', time: '29 minutes ago', icon: 'message-square', color: 'pink' },
                    { text: 'Escalated technical issue to support team with full conversation history', time: '43 minutes ago', icon: 'message-square', color: 'pink' },
                    { text: 'Answered 18 FAQs automatically with 94% accuracy', time: '58 minutes ago', icon: 'message-square', color: 'pink' },
                    { text: 'Handled after-hours chat - captured message for morning follow-up', time: '1 hour ago', icon: 'message-square', color: 'pink' }
                ]
            };

            // Collect activities from selected tools
            let activities = [];
            appState.selectedTools.forEach(toolId => {
                if (activityTemplates[toolId]) {
                    activities = activities.concat(activityTemplates[toolId]);
                }
            });

            // Show first 12 activities
            activities.slice(0, 12).forEach((activity, index) => {
                const isLast = index === Math.min(activities.length, 12) - 1;
                const activityItem = document.createElement('div');
                activityItem.className = `flex gap-4 pb-4 ${!isLast ? 'border-b border-slate-700' : ''} fade-in hover:bg-slate-700/20 p-2 -m-2 rounded-lg transition-all duration-200`;
                activityItem.style.animationDelay = `${index * 50}ms`;

                const colorClasses = {
                    'cyan': 'bg-cyan-500/10 text-cyan-400',
                    'blue': 'bg-blue-500/10 text-blue-400',
                    'purple': 'bg-purple-500/10 text-purple-400',
                    'green': 'bg-green-500/10 text-green-400',
                    'orange': 'bg-orange-500/10 text-orange-400',
                    'pink': 'bg-pink-500/10 text-pink-400'
                };

                activityItem.innerHTML = `
                    <div class="w-6 h-6 rounded-full ${colorClasses[activity.color]} flex items-center justify-center flex-shrink-0 transform transition-transform hover:scale-110">
                        <i data-lucide="${activity.icon}" class="w-3.5 h-3.5"></i>
                    </div>
                    <div class="flex-1">
                        <p class="text-slate-300 text-sm mb-1">${activity.text}</p>
                        <p class="text-slate-500 text-xs">${activity.time}</p>
                    </div>
                `;

                container.appendChild(activityItem);
            });

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // ========================================
        // MODALS & UTILITIES
        // ========================================

        function showContactModal() {
            const modal = document.getElementById('contact-modal');
            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function closeContactModal() {
            const modal = document.getElementById('contact-modal');
            modal.classList.add('hidden');
            modal.classList.remove('flex');
        }

        function showComingSoon(feature) {
            alert(`${feature} coming soon!`);
        }

        // ========================================
        // TOOL MANAGEMENT FUNCTIONS
        // ========================================

        function viewToolDetails(toolId) {
            const tool = TOOLS.find(t => t.id === toolId);
            if (!tool) return;

            // Store tool ID for Configure button
            window.currentToolId = toolId;

            const modal = document.getElementById('tool-details-modal');
            const title = document.getElementById('modal-tool-name');
            const price = document.getElementById('modal-tool-price');
            const description = document.getElementById('modal-tool-description');
            const featuresList = document.getElementById('modal-tool-features');
            const demoSection = document.getElementById('modal-tool-demo');

            title.textContent = tool.name;
            price.textContent = `$${tool.price}/mo`;
            description.textContent = tool.description;

            // Populate features
            featuresList.innerHTML = tool.features.map(feature => `
                <div class="flex items-start gap-2 bg-white p-3 rounded-lg border border-slate-200">
                    <i data-lucide="check" class="w-5 h-5 text-cyan-500 flex-shrink-0 mt-0.5"></i>
                    <span class="text-slate-700">${feature}</span>
                </div>
            `).join('');

            // Generate interactive demo based on tool type
            const demos = {
                'receptionist': `
                    <div class="p-6">
                        <div class="flex items-center gap-3 mb-4">
                            <div class="w-12 h-12 bg-cyan-100 rounded-full flex items-center justify-center">
                                <i data-lucide="phone-call" class="w-6 h-6 text-cyan-600"></i>
                            </div>
                            <div>
                                <div class="font-semibold text-slate-900">Incoming Call</div>
                                <div class="text-sm text-slate-600">+1 (555) 123-4567</div>
                            </div>
                        </div>
                        <div class="bg-slate-50 rounded-lg p-4 mb-3">
                            <div class="flex items-start gap-2 mb-2">
                                <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                                </div>
                                <div class="bg-white p-3 rounded-lg flex-1 shadow-sm">
                                    <p class="text-sm text-slate-700">"Hello! Thank you for calling. How can I help you today?"</p>
                                </div>
                            </div>
                            <div class="flex items-start gap-2 flex-row-reverse">
                                <div class="w-8 h-8 bg-slate-300 rounded-full flex items-center justify-center flex-shrink-0">
                                    <i data-lucide="user" class="w-4 h-4 text-slate-600"></i>
                                </div>
                                <div class="bg-cyan-50 p-3 rounded-lg flex-1 shadow-sm">
                                    <p class="text-sm text-slate-700">"I'd like to schedule an appointment."</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600">
                            <span class="flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> Real-time</span>
                            <span class="flex items-center gap-1"><i data-lucide="mic" class="w-3 h-3"></i> Natural Voice</span>
                            <span class="flex items-center gap-1"><i data-lucide="zap" class="w-3 h-3"></i> AI-Powered</span>
                        </div>
                    </div>
                `,
                'website': `
                    <div class="p-6">
                        <div class="border-2 border-slate-200 rounded-lg overflow-hidden">
                            <div class="bg-slate-100 px-3 py-2 flex items-center gap-2 border-b border-slate-200">
                                <div class="flex gap-1.5">
                                    <div class="w-2.5 h-2.5 rounded-full bg-red-400"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-yellow-400"></div>
                                    <div class="w-2.5 h-2.5 rounded-full bg-green-400"></div>
                                </div>
                                <div class="flex-1 bg-white rounded px-2 py-1 text-xs text-slate-500">yourbusiness.com</div>
                            </div>
                            <div class="bg-white p-4">
                                <div class="h-3 bg-cyan-200 rounded w-32 mb-3"></div>
                                <div class="space-y-2">
                                    <div class="h-2 bg-slate-200 rounded w-full"></div>
                                    <div class="h-2 bg-slate-200 rounded w-5/6"></div>
                                    <div class="h-2 bg-slate-200 rounded w-4/6"></div>
                                </div>
                                <div class="mt-4 h-8 bg-cyan-500 rounded w-24"></div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600 mt-3">
                            <span class="flex items-center gap-1"><i data-lucide="smartphone" class="w-3 h-3"></i> Mobile-Ready</span>
                            <span class="flex items-center gap-1"><i data-lucide="search" class="w-3 h-3"></i> SEO Optimized</span>
                            <span class="flex items-center gap-1"><i data-lucide="sparkles" class="w-3 h-3"></i> AI Design</span>
                        </div>
                    </div>
                `,
                'booking': `
                    <div class="p-6">
                        <div class="bg-white rounded-lg border-2 border-slate-200 p-4">
                            <div class="flex items-center justify-between mb-4">
                                <h5 class="font-semibold text-slate-900">Available Appointments</h5>
                                <i data-lucide="calendar" class="w-5 h-5 text-cyan-500"></i>
                            </div>
                            <div class="space-y-2">
                                <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg hover:bg-cyan-50 transition-colors cursor-pointer border border-slate-200">
                                    <div class="flex items-center gap-3">
                                        <div class="text-cyan-600 font-medium">9:00 AM</div>
                                        <div class="text-sm text-slate-600">Available</div>
                                    </div>
                                    <div class="w-6 h-6 rounded-full border-2 border-slate-300"></div>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-cyan-50 rounded-lg border-2 border-cyan-400">
                                    <div class="flex items-center gap-3">
                                        <div class="text-cyan-600 font-medium">10:30 AM</div>
                                        <div class="text-sm text-slate-600">Selected</div>
                                    </div>
                                    <div class="w-6 h-6 rounded-full bg-cyan-500 flex items-center justify-center">
                                        <i data-lucide="check" class="w-4 h-4 text-white"></i>
                                    </div>
                                </div>
                                <div class="flex items-center justify-between p-3 bg-slate-50 rounded-lg border border-slate-200">
                                    <div class="flex items-center gap-3">
                                        <div class="text-cyan-600 font-medium">2:00 PM</div>
                                        <div class="text-sm text-slate-600">Available</div>
                                    </div>
                                    <div class="w-6 h-6 rounded-full border-2 border-slate-300"></div>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600 mt-3">
                            <span class="flex items-center gap-1"><i data-lucide="bell" class="w-3 h-3"></i> Auto Reminders</span>
                            <span class="flex items-center gap-1"><i data-lucide="sync" class="w-3 h-3"></i> Calendar Sync</span>
                        </div>
                    </div>
                `,
                'email': `
                    <div class="p-6">
                        <div class="bg-white rounded-lg border-2 border-slate-200 overflow-hidden">
                            <div class="bg-slate-50 px-4 py-2 border-b border-slate-200">
                                <div class="text-sm font-medium text-slate-900">Inbox (3)</div>
                            </div>
                            <div class="divide-y divide-slate-200">
                                <div class="p-3 hover:bg-slate-50 cursor-pointer">
                                    <div class="flex items-center justify-between mb-1">
                                        <div class="font-medium text-slate-900 text-sm">New Customer Inquiry</div>
                                        <span class="text-xs bg-cyan-100 text-cyan-700 px-2 py-1 rounded">High Priority</span>
                                    </div>
                                    <div class="text-xs text-slate-600">AI suggested reply ready...</div>
                                </div>
                                <div class="p-3 bg-slate-50">
                                    <div class="text-xs text-slate-600 mb-2">AI-Generated Reply:</div>
                                    <div class="bg-white border border-slate-200 rounded p-2 text-xs text-slate-700 italic">
                                        "Thank you for reaching out! I'd be happy to help you with..."
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600 mt-3">
                            <span class="flex items-center gap-1"><i data-lucide="brain" class="w-3 h-3"></i> Smart Sorting</span>
                            <span class="flex items-center gap-1"><i data-lucide="zap" class="w-3 h-3"></i> Auto-Reply</span>
                        </div>
                    </div>
                `,
                'chat': `
                    <div class="p-6">
                        <div class="bg-white rounded-lg border-2 border-slate-200 overflow-hidden">
                            <div class="bg-cyan-500 px-4 py-3 text-white flex items-center justify-between">
                                <div class="flex items-center gap-2">
                                    <div class="w-2 h-2 bg-green-400 rounded-full"></div>
                                    <span class="font-medium">Live Chat</span>
                                </div>
                                <i data-lucide="minimize-2" class="w-4 h-4"></i>
                            </div>
                            <div class="p-4 h-48 overflow-y-auto bg-slate-50">
                                <div class="flex items-start gap-2 mb-3">
                                    <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                                    </div>
                                    <div class="bg-white p-2 rounded-lg shadow-sm max-w-[80%]">
                                        <p class="text-sm text-slate-700">Hi! How can I help you today?</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-2 flex-row-reverse mb-3">
                                    <div class="w-8 h-8 bg-slate-300 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i data-lucide="user" class="w-4 h-4 text-slate-600"></i>
                                    </div>
                                    <div class="bg-cyan-50 p-2 rounded-lg shadow-sm max-w-[80%]">
                                        <p class="text-sm text-slate-700">What are your hours?</p>
                                    </div>
                                </div>
                                <div class="flex items-start gap-2">
                                    <div class="w-8 h-8 bg-cyan-500 rounded-full flex items-center justify-center flex-shrink-0">
                                        <i data-lucide="bot" class="w-4 h-4 text-white"></i>
                                    </div>
                                    <div class="bg-white p-2 rounded-lg shadow-sm max-w-[80%]">
                                        <p class="text-sm text-slate-700">We're open Monday-Friday, 9 AM to 6 PM!</p>
                                    </div>
                                </div>
                            </div>
                            <div class="border-t border-slate-200 p-3 bg-white">
                                <div class="flex gap-2">
                                    <input type="text" placeholder="Type a message..." class="flex-1 px-3 py-2 border border-slate-300 rounded-lg text-sm" />
                                    <button class="px-4 py-2 bg-cyan-500 text-white rounded-lg">
                                        <i data-lucide="send" class="w-4 h-4"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600 mt-3">
                            <span class="flex items-center gap-1"><i data-lucide="clock" class="w-3 h-3"></i> 24/7 Available</span>
                            <span class="flex items-center gap-1"><i data-lucide="users" class="w-3 h-3"></i> Lead Capture</span>
                        </div>
                    </div>
                `,
                'social': `
                    <div class="p-6">
                        <div class="bg-white rounded-lg border-2 border-slate-200 p-4">
                            <div class="flex items-center gap-2 mb-3">
                                <i data-lucide="calendar" class="w-5 h-5 text-cyan-500"></i>
                                <h5 class="font-semibold text-slate-900">Scheduled Posts</h5>
                            </div>
                            <div class="space-y-3">
                                <div class="bg-slate-50 rounded-lg p-3 border border-slate-200">
                                    <div class="flex items-center gap-2 mb-2">
                                        <div class="flex gap-1">
                                            <div class="w-6 h-6 bg-blue-500 rounded flex items-center justify-center">
                                                <i data-lucide="facebook" class="w-3 h-3 text-white"></i>
                                            </div>
                                            <div class="w-6 h-6 bg-pink-500 rounded flex items-center justify-center">
                                                <i data-lucide="instagram" class="w-3 h-3 text-white"></i>
                                            </div>
                                        </div>
                                        <span class="text-xs text-slate-600">Today at 10:00 AM</span>
                                    </div>
                                    <p class="text-sm text-slate-700 mb-2">"Check out our latest offerings! ðŸš€"</p>
                                    <div class="flex gap-2">
                                        <span class="text-xs bg-cyan-100 text-cyan-700 px-2 py-1 rounded">#business</span>
                                        <span class="text-xs bg-cyan-100 text-cyan-700 px-2 py-1 rounded">#AI</span>
                                    </div>
                                </div>
                                <div class="bg-green-50 rounded-lg p-3 border border-green-200">
                                    <div class="flex items-center gap-2">
                                        <i data-lucide="check-circle" class="w-4 h-4 text-green-600"></i>
                                        <span class="text-sm text-green-700 font-medium">Posted Successfully</span>
                                    </div>
                                    <div class="text-xs text-green-600 mt-1">1.2K views â€¢ 89 engagements</div>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2 text-xs text-slate-600 mt-3">
                            <span class="flex items-center gap-1"><i data-lucide="calendar-check" class="w-3 h-3"></i> Auto-Schedule</span>
                            <span class="flex items-center gap-1"><i data-lucide="bar-chart" class="w-3 h-3"></i> Analytics</span>
                        </div>
                    </div>
                `
            };

            demoSection.innerHTML = demos[toolId] || '<div class="p-6 text-center text-slate-600">Interactive demo preview coming soon!</div>';

            modal.classList.remove('hidden');
            modal.classList.add('flex');

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        function configureTool(toolId) {
            const tool = TOOLS.find(t => t.id === toolId);
            if (!tool) return;

            const modal = document.getElementById('configure-tool-modal');
            const title = modal.querySelector('h3');
            const settingsContainer = document.getElementById('config-tool-settings');

            title.textContent = `Configure ${tool.name}`;

            // Tool-specific configuration options
            const configs = {
                'receptionist': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Phone Number</label>
                        <input type="tel" class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg" placeholder="+1 (555) 123-4567" value="+1 (555) 123-4567">
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Business Hours</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>24/7 - Always Available</option>
                            <option>Business Hours Only (9am-5pm)</option>
                            <option>Custom Schedule</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Voice Type</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Professional Female</option>
                            <option>Professional Male</option>
                            <option>Friendly Female</option>
                            <option>Friendly Male</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Enable appointment booking</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Send call transcripts via email</span>
                        </label>
                    </div>
                `,
                'website': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Domain Name</label>
                        <input type="text" class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg" placeholder="yourbusiness.com" value="demo-business.com">
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Theme</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Modern Professional</option>
                            <option>Creative Portfolio</option>
                            <option>Minimalist Clean</option>
                            <option>Bold & Vibrant</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Primary Color</label>
                        <div class="flex gap-2">
                            <input type="color" value="#06b6d4" class="w-16 h-10 rounded cursor-pointer">
                            <input type="text" value="#06b6d4" class="flex-1 bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                        </div>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Enable SEO optimization</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Mobile responsive design</span>
                        </label>
                    </div>
                `,
                'booking': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Calendar Integration</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Google Calendar</option>
                            <option>Microsoft Outlook</option>
                            <option>Apple Calendar</option>
                            <option>Multiple Calendars</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Default Appointment Duration</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option>15 minutes</option>
                            <option selected>30 minutes</option>
                            <option>45 minutes</option>
                            <option>1 hour</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Buffer Time Between Appointments</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option>No buffer</option>
                            <option selected>5 minutes</option>
                            <option>10 minutes</option>
                            <option>15 minutes</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Send SMS reminders 24h before</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Allow customer rescheduling</span>
                        </label>
                    </div>
                `,
                'email': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Email Account</label>
                        <input type="email" class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg" placeholder="your-email@business.com" value="hello@demo-business.com">
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Auto-Response Tone</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Professional & Friendly</option>
                            <option>Formal & Business-like</option>
                            <option>Casual & Conversational</option>
                            <option>Warm & Personal</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Priority Detection</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Automatic (AI-powered)</option>
                            <option>Keywords Only</option>
                            <option>Sender-based</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Draft responses for review</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" class="w-5 h-5 rounded">
                            <span class="text-slate-300">Send responses automatically</span>
                        </label>
                    </div>
                `,
                'chat': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Chat Widget Position</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Bottom Right</option>
                            <option>Bottom Left</option>
                            <option>Bottom Center</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Welcome Message</label>
                        <textarea class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg" rows="3">Hi! How can I help you today?</textarea>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Response Speed</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Instant</option>
                            <option>1-2 seconds (more natural)</option>
                            <option>2-3 seconds</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Collect visitor email</span>
                        </label>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Show "typing" indicator</span>
                        </label>
                    </div>
                `,
                'social': `
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Connected Platforms</label>
                        <div class="space-y-2">
                            <label class="flex items-center gap-2">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span class="text-slate-300">Instagram</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" checked class="w-5 h-5 rounded">
                                <span class="text-slate-300">Facebook</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span class="text-slate-300">Twitter/X</span>
                            </label>
                            <label class="flex items-center gap-2">
                                <input type="checkbox" class="w-5 h-5 rounded">
                                <span class="text-slate-300">LinkedIn</span>
                            </label>
                        </div>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Posting Schedule</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option>Daily (7 posts/week)</option>
                            <option selected>3-4 times per week</option>
                            <option>2-3 times per week</option>
                            <option>Weekly</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-slate-300 text-sm font-medium mb-2">Content Style</label>
                        <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                            <option selected>Educational & Informative</option>
                            <option>Promotional & Sales</option>
                            <option>Behind-the-scenes</option>
                            <option>Mixed Content</option>
                        </select>
                    </div>
                    <div>
                        <label class="flex items-center gap-2">
                            <input type="checkbox" checked class="w-5 h-5 rounded">
                            <span class="text-slate-300">Use hashtag optimization</span>
                        </label>
                    </div>
                `
            };

            // Populate settings based on tool type
            settingsContainer.innerHTML = configs[toolId] || `
                <div>
                    <label class="block text-slate-300 text-sm font-medium mb-2">Tool Status</label>
                    <select class="w-full bg-slate-800 border border-slate-700 text-white px-4 py-3 rounded-lg">
                        <option selected>Active</option>
                        <option>Paused</option>
                    </select>
                </div>
                <div>
                    <label class="flex items-center gap-2">
                        <input type="checkbox" checked class="w-5 h-5 rounded">
                        <span class="text-slate-300">Enable notifications</span>
                    </label>
                </div>
            `;

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        function saveToolConfig() {
            showToast('Configuration saved successfully!');
            closeModal('configure-tool-modal');
        }

        function addTool(toolId) {
            if (!appState.selectedTools.includes(toolId)) {
                appState.selectedTools.push(toolId);
                saveState();
                renderDashboardOverview();
                renderAIToolsSection();
                showToast('Tool added successfully!');
            }
        }

        function removeTool(toolId) {
            const tool = TOOLS.find(t => t.id === toolId);
            if (!tool) return;

            showConfirmModal(
                'Remove Tool',
                `Are you sure you want to remove ${tool.name}? This action cannot be undone.`,
                () => {
                    appState.selectedTools = appState.selectedTools.filter(id => id !== toolId);
                    saveState();
                    renderDashboardOverview();
                    renderAIToolsSection();
                    showToast('Tool removed successfully!');
                }
            );
        }

        // ========================================
        // SETTINGS FUNCTIONS
        // ========================================

        function saveBusinessSettings() {
            const businessName = document.querySelector('[name="business-name"]')?.value;
            const industry = document.querySelector('[name="industry"]')?.value;
            const phone = document.querySelector('[name="phone"]')?.value;
            const email = document.querySelector('[name="email"]')?.value;
            const website = document.querySelector('[name="website"]')?.value;
            const address = document.querySelector('[name="address"]')?.value;

            // Update appState
            if (businessName) appState.businessInfo.name = businessName;
            if (industry) appState.businessInfo.industry = industry;
            if (phone) appState.businessInfo.phone = phone;
            if (email) appState.businessInfo.email = email;
            if (website) appState.businessInfo.website = website;
            if (address) appState.businessInfo.location = address;

            saveState();
            showToast('Settings saved successfully!');
        }

        function showPasswordChange() {
            showConfirmModal(
                'Change Password',
                'Password change functionality would be implemented here. This would typically open a secure form with current password, new password, and confirm password fields.',
                () => {
                    showToast('Password changed successfully!');
                }
            );
        }

        function copyApiKey() {
            const apiKey = 'sk_live_nexusai_1234567890abcdef';

            // Try to copy to clipboard
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(apiKey).then(() => {
                    showToast('API key copied to clipboard!');
                }).catch(() => {
                    // Fallback: show the key in an alert
                    showToast('API key: ' + apiKey);
                });
            } else {
                // Fallback for older browsers
                showToast('API key: ' + apiKey);
            }
        }

        function regenerateApiKey() {
            showConfirmModal(
                'Regenerate API Key',
                'This will invalidate your current API key. Any integrations using the old key will stop working. Are you sure?',
                () => {
                    showToast('API key regenerated successfully!');
                }
            );
        }

        function exportData() {
            // Simulate data export
            const data = {
                businessInfo: appState.businessInfo,
                selectedTools: appState.selectedTools,
                exportDate: new Date().toISOString()
            };

            const dataStr = JSON.stringify(data, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `nexusai-data-export-${new Date().toISOString().split('T')[0]}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast('Data exported successfully!');
        }

        function confirmDeleteAccount() {
            showConfirmModal(
                'Delete Account',
                'This action is irreversible. All your data, settings, and deployed tools will be permanently deleted. Are you absolutely sure?',
                () => {
                    showToast('Account deletion request submitted. You will receive a confirmation email.');
                }
            );
        }

        // ========================================
        // BILLING FUNCTIONS
        // ========================================

        function confirmCancelSubscription() {
            showConfirmModal(
                'Cancel Subscription',
                'Your tools will remain active until the end of your current billing period. Are you sure you want to cancel?',
                () => {
                    showToast('Subscription cancelled. Active until end of billing period.');
                }
            );
        }

        function updatePaymentMethod() {
            showConfirmModal(
                'Update Payment Method',
                'This would open a secure payment form to update your card details. In a production app, this would use Stripe or similar payment processor.',
                () => {
                    showToast('Payment method updated successfully!');
                }
            );
        }

        function downloadInvoice(month) {
            // Simulate invoice download
            const invoiceData = `
NexusAI Invoice - ${month}

Business: ${appState.businessInfo.name || 'Your Business'}
Invoice Date: ${month}
Due Date: ${month}

Items:
${appState.selectedTools.map(toolId => {
    const tool = TOOLS.find(t => t.id === toolId);
    return `  ${tool?.name || 'Tool'}: $${tool?.price || 0}`;
}).join('\n')}

Total: $${appState.selectedTools.reduce((sum, toolId) => {
    const tool = TOOLS.find(t => t.id === toolId);
    return sum + (tool?.price || 0);
}, 0)}

Thank you for your business!
            `.trim();

            const blob = new Blob([invoiceData], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = `nexusai-invoice-${month.replace(' ', '-').toLowerCase()}.txt`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast(`Invoice for ${month} downloaded!`);
        }

        // ========================================
        // ANALYTICS FUNCTIONS
        // ========================================

        function changeTimePeriod(days) {
            // Update state
            appState.analyticsTimePeriod = days;
            saveState();

            // Update button styling
            const buttons = document.querySelectorAll('.time-period-btn');
            buttons.forEach(btn => {
                const period = parseInt(btn.getAttribute('data-period'));
                if (period === days) {
                    // Active state
                    btn.className = 'px-4 py-2 bg-cyan-500 text-white text-sm font-medium rounded-lg time-period-btn';
                } else {
                    // Inactive state
                    btn.className = 'px-4 py-2 bg-slate-800 border border-slate-700 text-slate-300 text-sm font-medium rounded-lg hover:bg-slate-700 transition-all time-period-btn';
                }
            });

            // Re-render chart with new time period
            renderPerformanceChart();
        }

        // ========================================
        // OTHER UTILITY FUNCTIONS
        // ========================================

        function downloadSetupGuide() {
            const guideData = `
NexusAI Setup Guide

Welcome to NexusAI! This guide will help you get started with your deployed AI tools.

Selected Tools:
${appState.selectedTools.map(toolId => {
    const tool = TOOLS.find(t => t.id === toolId);
    return `\n${tool?.name || 'Tool'}\n  ${tool?.description || ''}`;
}).join('\n')}

Getting Started:
1. Access your dashboard at dashboard.nexusai.com
2. Configure each tool using the Configure button
3. Integrate tools with your existing systems using our API
4. Monitor performance in the Analytics section

Support:
- Email: support@nexusai.com
- Phone: 1-800-NEXUS-AI
- Documentation: docs.nexusai.com

Thank you for choosing NexusAI!
            `.trim();

            const blob = new Blob([guideData], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'nexusai-setup-guide.txt';
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);

            showToast('Setup guide downloaded!');
        }

        function showSupportInfo() {
            showConfirmModal(
                'Contact Support',
                'Our support team is available 24/7 to assist you.\n\nEmail: support@nexusai.com\nPhone: 1-800-NEXUS-AI\nLive Chat: Available in dashboard',
                null,
                'Close'
            );
        }

        function showAllActivity() {
            const activityCount = appState.selectedTools.length * 2; // Each tool has ~2 activities
            showConfirmModal(
                'Activity Log',
                `Showing recent activity from your ${appState.selectedTools.length} deployed AI tools. In a production app, this would display a comprehensive activity log with filtering, search, and export capabilities.\n\nTotal Activities Today: ${activityCount}`,
                null,
                'Close'
            );
        }

        // ========================================
        // MODAL & TOAST UTILITIES
        // ========================================

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            if (modal) {
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        }

        function showToast(message) {
            const toast = document.getElementById('success-toast');
            const messageEl = toast.querySelector('.font-medium');
            messageEl.textContent = message;

            toast.classList.remove('hidden');

            // Auto-hide after 3 seconds
            setTimeout(() => {
                toast.classList.add('hidden');
            }, 3000);
        }

        function showConfirmModal(title, message, onConfirm, confirmText = 'Confirm') {
            const modal = document.getElementById('confirm-modal');
            const titleEl = modal.querySelector('h3');
            const messageEl = modal.querySelector('p');
            const confirmBtn = modal.querySelector('.bg-blue-600');

            titleEl.textContent = title;
            messageEl.textContent = message;
            confirmBtn.textContent = confirmText;

            // Remove old event listeners by cloning
            const newConfirmBtn = confirmBtn.cloneNode(true);
            confirmBtn.parentNode.replaceChild(newConfirmBtn, confirmBtn);

            // Add new event listener
            if (onConfirm) {
                newConfirmBtn.addEventListener('click', () => {
                    onConfirm();
                    closeModal('confirm-modal');
                });
            } else {
                newConfirmBtn.addEventListener('click', () => {
                    closeModal('confirm-modal');
                });
            }

            modal.classList.remove('hidden');
            modal.classList.add('flex');
        }

        // ========================================
        // ROI CALCULATOR
        // ========================================

        function calculateROI() {
            const employees = parseFloat(document.getElementById('roi-employees').value) || 0;
            const hourlyRate = parseFloat(document.getElementById('roi-hourly-rate').value) || 0;
            const hoursPerWeek = parseFloat(document.getElementById('roi-hours').value) || 0;
            const softwareCosts = parseFloat(document.getElementById('roi-software').value) || 0;
            const planCost = parseFloat(document.getElementById('roi-plan').value) || 399;

            // Calculate monthly labor costs
            const monthlyLaborCost = (hoursPerWeek * 4.33) * hourlyRate; // 4.33 weeks per month average
            const totalCurrentCost = monthlyLaborCost + softwareCosts;

            // Calculate savings with NexusAI (60% time reduction)
            const timeSavingsPercent = 0.60;
            const reducedLaborCost = monthlyLaborCost * (1 - timeSavingsPercent);
            const costWithNexus = reducedLaborCost + planCost;

            const monthlySavings = totalCurrentCost - costWithNexus;
            const annualSavings = monthlySavings * 12;

            // Update display
            document.getElementById('roi-labor-cost').textContent = `$${monthlyLaborCost.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
            document.getElementById('roi-total-current').textContent = `$${totalCurrentCost.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
            document.getElementById('roi-with-nexus').textContent = `$${costWithNexus.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
            document.getElementById('roi-monthly-savings').textContent = `$${monthlySavings.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
            document.getElementById('roi-annual-savings').textContent = `$${annualSavings.toLocaleString(undefined, {minimumFractionDigits: 0, maximumFractionDigits: 0})}`;
        }

        // ========================================
        // HERO PAGE - TOOLS SHOWCASE TABS
        // ========================================

        let currentToolTab = 'all';

        function switchToolTab(tab) {
            currentToolTab = tab;

            // Update tab button states
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.classList.remove('active', 'text-cyan-600', 'bg-cyan-50', 'border-cyan-300');
                btn.classList.add('text-slate-600', 'bg-white', 'border-slate-200');
            });

            const activeBtn = document.querySelector(`[data-tab="${tab}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active', 'text-cyan-600', 'bg-cyan-50', 'border-cyan-300');
                activeBtn.classList.remove('text-slate-600', 'bg-white', 'border-slate-200');
            }

            // Render filtered tools
            renderToolsShowcase();
        }

        function renderToolsShowcase() {
            const grid = document.getElementById('tools-grid');
            if (!grid) return;

            // Filter tools based on current tab
            const filteredTools = currentToolTab === 'all'
                ? TOOLS
                : TOOLS.filter(tool => tool.category === currentToolTab);

            grid.innerHTML = filteredTools.map(tool => `
                <div class="bg-white border-2 border-slate-200 rounded-xl overflow-hidden hover:border-cyan-400 hover:shadow-xl transition-all group fade-in">
                    <div class="image-card">
                        <img src="${tool.image}" alt="${tool.name}" class="w-full h-48 object-cover">
                    </div>
                    <div class="p-6">
                        <div class="flex items-center justify-between mb-3">
                            <div class="w-12 h-12 bg-cyan-50 rounded-lg flex items-center justify-center group-hover:scale-110 transition-transform">
                                <i data-lucide="${tool.icon}" class="w-6 h-6 text-cyan-500"></i>
                            </div>
                            <div class="text-2xl font-bold text-cyan-500">$${tool.price}<span class="text-sm text-slate-500">/mo</span></div>
                        </div>
                        <h3 class="text-xl font-bold text-slate-900 mb-2">${tool.name}</h3>
                        <p class="text-slate-600 mb-4">${tool.description}</p>
                        <ul class="space-y-2 mb-6">
                            ${tool.features.slice(0, 3).map(feature => `
                                <li class="flex items-start text-sm text-slate-700">
                                    <i data-lucide="check" class="w-4 h-4 text-cyan-500 mr-2 mt-0.5 flex-shrink-0"></i>
                                    <span>${feature}</span>
                                </li>
                            `).join('')}
                        </ul>
                        <div class="flex gap-2">
                            <button onclick="viewToolDetails('${tool.id}')" class="flex-1 px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-semibold transition-all border-2 border-slate-300">
                                Try Demo
                            </button>
                            <button onclick="showScreen('pricing')" class="flex-1 px-4 py-2 bg-cyan-50 hover:bg-cyan-500 border-2 border-cyan-300 hover:border-cyan-500 text-cyan-600 hover:text-white rounded-lg font-semibold transition-all">
                                Select
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');

            // Re-initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }
        }

        // ========================================
        // INITIALIZATION
        // ========================================

        document.addEventListener('DOMContentLoaded', () => {
            loadState();
            showScreen(appState.currentScreen);

            // Render tools showcase on hero page
            renderToolsShowcase();

            // Initialize ROI calculator
            calculateROI();

            // Initialize Lucide icons
            if (typeof lucide !== 'undefined') {
                lucide.createIcons();
            }

            // Handle recording disclaimer toggle
            const playDisclaimerCheckbox = document.getElementById('play-recording-disclaimer');
            const playDisclaimerLabel = document.getElementById('play-recording-disclaimer-label');
            const disclaimerMessage = document.getElementById('recording-disclaimer-message');
            const enableRecordingCheckbox = document.getElementById('enable-call-recording');
            const enableRecordingLabel = document.getElementById('enable-call-recording-label');

            // Function to toggle border style based on checkbox state
            function toggleBorderStyle(checkbox, label) {
                if (checkbox.checked) {
                    label.classList.remove('border-slate-200');
                    label.classList.add('border-cyan-500');
                } else {
                    label.classList.remove('border-cyan-500');
                    label.classList.add('border-slate-200');
                }
            }

            // Handle Play Recording Disclaimer checkbox
            if (playDisclaimerCheckbox && disclaimerMessage && playDisclaimerLabel) {
                // Function to toggle disclaimer message visibility
                function toggleDisclaimerMessage() {
                    if (playDisclaimerCheckbox.checked) {
                        disclaimerMessage.style.display = 'block';
                    } else {
                        disclaimerMessage.style.display = 'none';
                    }
                }

                // Set initial state
                toggleDisclaimerMessage();
                toggleBorderStyle(playDisclaimerCheckbox, playDisclaimerLabel);

                // Add event listener
                playDisclaimerCheckbox.addEventListener('change', function() {
                    toggleDisclaimerMessage();
                    toggleBorderStyle(playDisclaimerCheckbox, playDisclaimerLabel);
                });
            }

            // Handle Enable Call Recording checkbox
            if (enableRecordingCheckbox && enableRecordingLabel) {
                // Set initial state
                toggleBorderStyle(enableRecordingCheckbox, enableRecordingLabel);

                // Add event listener
                enableRecordingCheckbox.addEventListener('change', function() {
                    toggleBorderStyle(enableRecordingCheckbox, enableRecordingLabel);
                });
            }

            // Handle Test Confirmation checkbox (AI Receptionist)
            const testConfirmationCheckbox = document.getElementById('test-confirmation-checkbox');
            const testConfirmationLabel = document.getElementById('test-confirmation-label');

            if (testConfirmationCheckbox && testConfirmationLabel) {
                // Function to toggle border style based on checkbox state
                function toggleTestConfirmationBorder() {
                    if (testConfirmationCheckbox.checked) {
                        testConfirmationLabel.classList.remove('border-slate-200');
                        testConfirmationLabel.classList.add('border-green-500', 'bg-green-50');
                    } else {
                        testConfirmationLabel.classList.remove('border-green-500', 'bg-green-50');
                        testConfirmationLabel.classList.add('border-slate-200');
                    }
                }

                // Add event listener
                testConfirmationCheckbox.addEventListener('change', toggleTestConfirmationBorder);
            }

            // Handle Booking Test Confirmation checkbox
            const bookingTestConfirmationCheckbox = document.getElementById('booking-test-confirmation-checkbox');
            const bookingTestConfirmationLabel = document.getElementById('booking-test-confirmation-label');

            if (bookingTestConfirmationCheckbox && bookingTestConfirmationLabel) {
                // Function to toggle border style based on checkbox state
                function toggleBookingTestConfirmationBorder() {
                    if (bookingTestConfirmationCheckbox.checked) {
                        bookingTestConfirmationLabel.classList.remove('border-slate-200');
                        bookingTestConfirmationLabel.classList.add('border-green-500', 'bg-green-50');
                    } else {
                        bookingTestConfirmationLabel.classList.remove('border-green-500', 'bg-green-50');
                        bookingTestConfirmationLabel.classList.add('border-slate-200');
                    }
                }

                // Add event listener
                bookingTestConfirmationCheckbox.addEventListener('change', toggleBookingTestConfirmationBorder);
            }
        });
    </script>
</body>
</html>
